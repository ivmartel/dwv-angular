webpackJsonp([0],{"+3/4":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("TToO"),i=function(e){function t(t){e.call(this),this.scheduler=t}return Object(r.b)(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n("YaPU").a)},"+CnV":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t,r=n("AMGY").a.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}()},"+HRN":function(e,t,n){"use strict";var r=n("X3l8").Buffer,i=n(2);e.exports=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},"/0aV":function(e,t,n){"use strict";var r=n("I01C").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}n("71nt").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},"/MLu":function(e,t,n){e.exports=n("cSWu").PassThrough},"/OlN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(t&&"object"===("undefined"==typeof t?"undefined":r(t))){var n="",i=encodeURIComponent;for(var o in t)n+="&"+i(o)+"="+i(t[o]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}t.default=function(e,t,n,o,a){o&&"object"===("undefined"==typeof o?"undefined":r(o))&&(a||(o._t=new Date),o=i("",o).slice(1)),t.queryStringParams&&(e=i(e,t.queryStringParams));try{var s;(s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(o?"POST":"GET",e,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,o&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var u=t.customHeaders;if(u)for(var l in u)s.setRequestHeader(l,u[l]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(o)}catch(e){console&&console.log(e)}}},"/iUD":function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},"/nXB":function(e,t,n){"use strict";var r=n("YaPU"),i=n("Veqx"),o=n("1Q68"),a=n("TToO"),s=n("AMGY"),u=n("dgOU"),l=function(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(s.a),c=n("OVmG"),h=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(a.b)(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(c.a),d=n("+CnV"),f=function(e){function t(){e.apply(this,arguments)}return Object(a.b)(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(c.a),p=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new g(e,this.project,this.resultSelector,this.concurrent))},e}(),g=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(a.b)(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(function(e,t,n,i){var o,a=new h(e,n,i);if(a.closed)return null;if(t instanceof r.a)return t._isScalar?(a.next(t.value),a.complete(),null):(a.syncErrorThrowable=!0,t.subscribe(a));if((o=t)&&"number"==typeof o.length){for(var c=0,f=t.length;c<f&&!a.closed;c++)a.next(t[c]);a.closed||a.complete()}else{if(t&&"function"!=typeof t.subscribe&&"function"==typeof t.then)return t.then(function(e){a.closed||(a.next(e),a.complete())},function(e){return a.error(e)}).then(null,function(e){s.a.setTimeout(function(){throw e})}),a;if(t&&"function"==typeof t[l])for(var p=t[l]();;){var g=p.next();if(g.done){a.complete();break}if(a.next(g.value),a.closed)break}else if(t&&"function"==typeof t[d.a]){var m=t[d.a]();if("function"==typeof m.subscribe)return m.subscribe(new h(e,n,i));a.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var x=Object(u.a)(t)?"an invalid object":"'"+t+"'";a.error(new TypeError("You provided "+x+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(f);function m(e){return e}t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,s=e[e.length-1];return Object(o.a)(s)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof s&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new p(e,t,n))}}(m,null,e)}(n)(new i.a(e,a))}},0:function(e,t,n){e.exports=n("x35b")},"0HVM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;try{r="undefined"!==window&&null!==window.localStorage,window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(e){r=!1}t.default={name:"localStorage",lookup:function(e){var t=void 0;if(e.lookupLocalStorage&&r){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&r&&window.localStorage.setItem(t.lookupLocalStorage,e)}}},"0jOE":function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},1:function(e,t){},"1Q68":function(e,t,n){"use strict";t.a=function(e){return e&&"function"==typeof e.schedule}},"1TsE":function(e,t,n){"use strict";var r=n("71nt"),i=n("bxoG");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},"1kib":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2:function(e,t){},"2A+V":function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"2SaJ":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"2WCG":function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},"2cs7":function(e,t,n){var r=n("39Rf"),i=n("eX64"),o=n("hutl"),a=n("FSVj"),s=function(e,t,n){var u,l,c,h=e&s.F,d=e&s.G,f=e&s.S,p=e&s.P,g=e&s.B,m=e&s.W,x=d?i:i[t]||(i[t]={}),v=x.prototype,S=d?r:f?r[t]:(r[t]||{}).prototype;for(u in d&&(n=t),n)(l=!h&&S&&void 0!==S[u])&&u in x||(c=l?S[u]:n[u],x[u]=d&&"function"!=typeof S[u]?n[u]:g&&l?o(c,r):m&&S[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((x.virtual||(x.virtual={}))[u]=c,e&s.R&&v&&!v[u]&&a(v,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},"39Rf":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"3FeR":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("N5tI")),a=(r=n("/OlN"))&&r.__esModule?r:{default:r},s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.init(t,n),this.type="backend"}return i(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=o.defaults(t,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:a.default})}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(r,i){if(i.status>=500&&i.status<600)return t("failed loading "+e,!0);if(i.status>=400&&i.status<500)return t("failed loading "+e,!1);var o=void 0,a=void 0;try{o=n.options.parse(r,e)}catch(t){a="failed parsing "+e+" to json"}if(a)return t(a,!1);t(null,o)})}},{key:"create",value:function(e,t,n,r){var i=this;"string"==typeof e&&(e=[e]);var o={};o[n]=r||"",e.forEach(function(e){var n=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:t});i.options.ajax(n,i.options,function(e,t){},o)})}}]),e}();s.type="backend",t.default=s},"4/4u":function(e,t,n){e.exports=n("cSWu").Transform},"63KW":function(e,t,n){"use strict";(function(e){var r=n("EKta"),i=n("ujcs"),o=n("sOR5");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){h=!1;break}if(h)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return Q(q(t,e.length-n),e,n,r)}function y(e,t,n,r){return Q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return y(e,t,n,r)}function C(e,t,n,r){return Q(B(t),e,n,r)}function w(e,t,n,r){return Q(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(null,t):void 0!==n?"string"==typeof r?s(null,t).fill(n,r):s(null,t).fill(n):s(null,t)}(0,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function k(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||k(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||k(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:q(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(t,n("DuR2"))},"65V/":function(e,t,n){"use strict";var r=n("Gquf"),i=n("71nt"),o=n("jbop"),a=n("hKHw"),s=n("Ed4+"),u=n("GfW5"),l=n("oKij");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},"6ktE":function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"71nt":function(e,t,n){"use strict";var r=n("oKij"),i=n("hbB+"),o=n("zgxx"),a=n("yvBL"),s=n("vVrn");function u(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)r.push("array"===t||"nodebuffer"===t?String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o))):String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var n=65536,r=t.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return c.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=h;var f={};f.string={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},f.array={string:h,array:u,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:u,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:u,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:u},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return f[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){a(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,o,a,u){return s.Promise.resolve(n).then(function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(n){var c,h=t.getTypeOf(n);return h?("arraybuffer"===h?n=t.transformTo("uint8array",n):"string"===h&&(u?n=i.decode(n):o&&!0!==a&&(n=l(c=n,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},"7dSG":function(e,t,n){"use strict";(function(t,r){var i=n("ypnx");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=x;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:i.nextTick;x.WritableState=m;var u=n("jOgh");u.inherits=n("LC74");var l,c={deprecate:n("iP15")},h=n("UcPO"),d=n("X3l8").Buffer,f=r.Uint8Array||function(){},p=n("x0Ha");function g(){}function m(e,t){a=a||n("DsFX");var r=t instanceof a;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,l=e.writableHighWaterMark;this.highWaterMark=u||0===u?u:r&&(l||0===l)?l:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,n,r,t,o);else{var a=b(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?s(S,e,n,a,o):S(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(e){if(a=a||n("DsFX"),!(l.call(x,this)||this instanceof a))return new x(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function v(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var a=0,s=!0;n;)r[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;r.allBuffers=s,v(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(v(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)})}function w(e,t){var n=b(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(x,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(d.isBuffer(r=e)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},x.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=p.destroy,x.prototype._undestroy=p.undestroy,x.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n("W2nU"),n("DuR2"))},"87vf":function(e,t,n){e.exports=n("7dSG")},"8FNI":function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n("xe4/"),o=n("71nt"),a=n("bxoG"),s=r?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new u("Deflate",e)},t.uncompressWorker=function(){return new u("Inflate",{})}},"8vkY":function(e,t,n){var r=n("LFbK"),i=n("39Rf").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"9DG0":function(e,t,n){e.exports=i;var r=n("vzCy").EventEmitter;function i(){r.call(this)}n("LC74")(i,r),i.Readable=n("cSWu"),i.Writable=n("87vf"),i.Duplex=n("SDM6"),i.Transform=n("4/4u"),i.PassThrough=n("/MLu"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},"9F63":function(e,t,n){"use strict";var r=n("MXSK");function i(e){r.call(this,e)}n("71nt").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},A84T:function(e,t,n){"use strict";var r=n("C8BA");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p(function(){t(i,r)});"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(e[u],u);return l;function c(e,i){t.resolve(e).then(function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(l,a))},function(e){r||(r=!0,o.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r=-1,a=new this(i);++r<t;)this.resolve(e[r]).then(function(e){n||(n=!0,o.resolve(a,e))},function(e){n||(n=!0,o.reject(a,e))});return a}},"AI/p":function(e,t,n){var r=n("LFbK");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},AMGY:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof e&&e||i}).call(t,n("DuR2"))},"BT+d":function(e,t,n){"use strict";var r=n("71nt"),i=n("vVrn"),o=n("Ed4+"),a=(r=n("71nt"),n("f1Cs")),s=n("u5ky"),u=n("zgxx");function l(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)}).then(function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n})}},C8BA:function(e,t,n){"use strict";(function(t){var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}e.exports=function(e){1!==l.push(e)||r||n()}}).call(t,n("DuR2"))},CcWG:function(e,t,n){"use strict";var r=n("71nt"),i=n("bxoG"),o=n("Ed4+"),a=n("hKHw"),s=n("j3u2"),u=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},l=function(e,t,n,i,l,c){var h,d,f=e.file,p=e.compression,g=c!==o.utf8encode,m=r.transformTo("string",c(f.name)),x=r.transformTo("string",o.utf8encode(f.name)),v=f.comment,S=r.transformTo("string",c(v)),y=r.transformTo("string",o.utf8encode(v)),b=x.length!==f.name.length,C=y.length!==v.length,w="",_="",D="",T=f.dir,L=f.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),g||!b&&!C||(I|=2048);var P,A,O=0,F=0;T&&(O|=16),"UNIX"===l?(F=798,O|=(A=P=f.unixPermissions,P||(A=T?16893:33204),(65535&A)<<16)):(F=20,O|=63&(f.dosPermissions||0)),h=L.getUTCHours(),h<<=6,h|=L.getUTCMinutes(),h<<=5,h|=L.getUTCSeconds()/2,d=L.getUTCFullYear()-1980,d<<=4,d|=L.getUTCMonth()+1,d<<=5,d|=L.getUTCDate(),b&&(_=u(1,1)+u(a(m),4)+x,w+="up"+u(_.length,2)+_),C&&(D=u(1,1)+u(a(S),4)+y,w+="uc"+u(D.length,2)+D);var R="";return R+="\n\0",R+=u(I,2),R+=p.magic,R+=u(h,2),R+=u(d,2),R+=u(E.crc32,4),R+=u(E.compressedSize,4),R+=u(E.uncompressedSize,4),R+=u(m.length,2),R+=u(w.length,2),{fileRecord:s.LOCAL_FILE_HEADER+R+m+w,dirRecord:s.CENTRAL_FILE_HEADER+u(F,2)+R+u(S.length,2)+"\0\0\0\0"+u(O,4)+u(i,4)+m+w+S}};function c(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(c,i),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=l(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=l(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return s.DATA_DESCRIPTOR+u(e.crc32,4)+u(e.compressedSize,4)+u(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=function(e,t,n,i,o){var a=r.transformTo("string",o(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(e,2)+u(e,2)+u(t,4)+u(n,4)+u(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},c.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=c},D1Va:function(e,t,n){"use strict";e.exports=o;var r=n("DsFX"),i=n("jOgh");function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:(function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n("LC74"),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},DsFX:function(e,t,n){"use strict";var r=n("ypnx"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n("jOgh");o.inherits=n("LC74");var a=n("Rt1F"),s=n("7dSG");o.inherits(h,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},DuR2:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},EKQi:function(e,t,n){var r=n("IPqK"),i=n("bNE/"),o=n("AI/p"),a=Object.defineProperty;t.f=n("ismg")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},EKta:function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,n,r,a,s,u=e.length;a=l(e),s=new o(3*u/4-a),n=a>0?u-4:u;var c=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[c++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],s=0,u=n-i;s<u;s+=16383)a.push(c(e,s,s+16383>u?u:s+16383));return 1===i?(o+=r[(t=e[n-1])>>2],o+=r[t<<4&63],o+="=="):2===i&&(o+=r[(t=(e[n-2]<<8)+e[n-1])>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"Ed4+":function(e,t,n){"use strict";for(var r=n("71nt"),i=n("oKij"),o=n("zgxx"),a=n("bxoG"),s=new Array(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,u=new Array(2*a);for(n=0,t=0;t<a;)if((i=e[t++])<128)u[n++]=i;else if((o=s[i])>4)u[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<a;)i=i<<6|63&e[t++],o--;o>1?u[n++]=65533:i<65536?u[n++]=i:(u[n++]=55296|(i-=65536)>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(l,a),l.prototype.processChunk=function(e){var n=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}(n),u=n;a!==n.length&&(i.uint8array?(u=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(u=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(u),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=l,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},FLm2:function(e,t,n){"use strict";var r=n("Ed4+"),i=n("71nt"),o=n("bxoG"),a=n("GE67"),s=n("e3b7"),u=n("jbop"),l=n("aIUk"),c=n("tJQH"),h=n("zgxx"),d=n("1TsE"),f=function(e,t,n){var r,a,c=i.getTypeOf(t),f=i.extend(n||{},s);f.date=f.date||new Date,null!==f.compression&&(f.compression=f.compression.toUpperCase()),"string"==typeof f.unixPermissions&&(f.unixPermissions=parseInt(f.unixPermissions,8)),f.unixPermissions&&16384&f.unixPermissions&&(f.dir=!0),f.dosPermissions&&16&f.dosPermissions&&(f.dir=!0),f.dir&&(e=g(e)),f.createFolders&&(r=p(e))&&m.call(this,r,!0),n&&"undefined"!=typeof n.binary||(f.binary=!("string"===c&&!1===f.binary&&!1===f.base64)),(t instanceof u&&0===t.uncompressedSize||f.dir||!t||0===t.length)&&(f.base64=!1,f.binary=!0,t="",f.compression="STORE",c="string"),a=t instanceof u||t instanceof o?t:h.isNode&&h.isStream(t)?new d(e,t):i.prepareContent(e,t,f.binary,f.optimizedBinaryString,f.base64);var x=new l(e,a,f);this.files[e]=x},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t="undefined"!=typeof t?t:s.createFolders,e=g(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function x(e){return"[object RegExp]"===Object.prototype.toString.call(e)}e.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1===arguments.length){if(x(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null}return f.call(this,e=this.root+e,t,n),this},folder:function(e){if(!e)return this;if(x(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=m.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=c.generateWorker(this,n,n.comment||this.comment||"")}catch(e){(t=new o("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},FSVj:function(e,t,n){var r=n("EKQi"),i=n("1kib");e.exports=n("ismg")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},GE67:function(e,t,n){"use strict";(function(t){var r=n("71nt"),i=n("l3VN"),o=n("bxoG"),a=n("hbB+"),s=n("oKij"),u=n("vVrn"),l=null;if(s.nodestream)try{l=n("/0aV")}catch(e){}function c(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return n=this,i=e,new u.Promise(function(e,o){var s=[],u=n._internalType,l=n._outputType,c=n._mimeType;n.on("data",function(e,t){s.push(e),i&&i(t)}).on("error",function(e){s=[],o(e)}).on("end",function(){try{var n=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(u,s),c);e(n)}catch(e){o(e)}s=[]}).resume()});var n,i},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=c}).call(t,n("63KW").Buffer)},GfW5:function(e,t,n){"use strict";var r=n("bxoG");t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n("8FNI")},Gquf:function(e,t,n){"use strict";var r=n("71nt"),i=n("oKij"),o=n("hjG0"),a=n("9F63"),s=n("rBub"),u=n("dL6i");e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new u(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},HAf2:function(e,t,n){e.exports=n("39Rf").document&&document.documentElement},HQq2:function(e,t,n){e.exports=n("rBp/").default},I01C:function(e,t,n){e.exports=n("9DG0")},IPqK:function(e,t,n){var r=n("LFbK");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},IVFP:function(e,t,n){var r,i,o,a=n("hutl"),s=n("lP8e"),u=n("HAf2"),l=n("8vkY"),c=n("39Rf"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,g=0,m={},x=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){x.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete m[e]},"process"==n("OmGh")(h)?r=function(e){h.nextTick(a(x,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=v,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),x.call(e)}}:function(e){setTimeout(a(x,e,1),0)}),e.exports={set:d,clear:f}},Jnfr:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="Jnfr"},K0S7:function(e,t,n){"use strict";var r=n("gt5T"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,h,d){var f,p,g,m,x,v,S,y,b,C=d.bits,w=0,_=0,D=0,T=0,L=0,E=0,I=0,P=0,A=0,O=0,F=null,R=0,k=new r.Buf16(16),M=new r.Buf16(16),N=null,U=0;for(w=0;w<=15;w++)k[w]=0;for(_=0;_<u;_++)k[t[n+_]]++;for(L=C,T=15;T>=1&&0===k[T];T--);if(L>T&&(L=T),0===T)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(D=1;D<T&&0===k[D];D++);for(L<D&&(L=D),P=1,w=1;w<=15;w++)if(P<<=1,(P-=k[w])<0)return-1;if(P>0&&(0===e||1!==T))return-1;for(M[1]=0,w=1;w<15;w++)M[w+1]=M[w]+k[w];for(_=0;_<u;_++)0!==t[n+_]&&(h[M[t[n+_]]++]=_);if(0===e?(F=N=h,v=19):1===e?(F=i,R-=257,N=o,U-=257,v=256):(F=a,N=s,v=-1),O=0,_=0,w=D,x=c,E=L,I=0,g=-1,m=(A=1<<L)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){S=w-I,h[_]<v?(y=0,b=h[_]):h[_]>v?(y=N[U+h[_]],b=F[R+h[_]]):(y=96,b=0),f=1<<w-I,D=p=1<<E;do{l[x+(O>>I)+(p-=f)]=S<<24|y<<16|b|0}while(0!==p);for(f=1<<w-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,_++,0==--k[w]){if(w===T)break;w=t[n+h[_]]}if(w>L&&(O&m)!==g){for(0===I&&(I=L),x+=D,P=1<<(E=w-I);E+I<T&&!((P-=k[E+I])<=0);)E++,P<<=1;if(A+=1<<E,1===e&&A>852||2===e&&A>592)return 1;l[g=O&m]=L<<24|E<<16|x-c|0}}return 0!==O&&(l[x+O]=w-I<<24|64<<16|0),d.bits=L,0}},KnAl:function(e,t,n){"use strict";var r=n("71nt"),i=n("bxoG");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},KpjM:function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},LC74:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},LFbK:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},LGU4:function(e,t,n){"use strict";var r=n("fkix"),i=n("gt5T"),o=n("LjBA"),a=n("0jOE"),s=n("2A+V"),u=n("h95s"),l=n("6ktE"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,u,l,h,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,f.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?new Uint8Array(e):e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(f.output,f.next_out),l=f.next_out-u,h=o.buf2string(f.output,u),f.next_out=l,f.avail_out=p-l,l&&i.arraySet(f.output,f.output,u,l,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},LjBA:function(e,t,n){"use strict";var r=n("gt5T"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if((o=a[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(l[r++]=55296|(i-=65536)>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},MLN7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}}},MXSK:function(e,t,n){"use strict";var r=n("71nt");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=i},N5tI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return i.call(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},t.extend=function(e){return i.call(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e};var r=[],i=r.forEach,o=r.slice},OVmG:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("TToO"),i=n("/iUD"),o=n("VwZZ"),a=n("t7NR"),s=n("tLDX"),u=function(e){function t(n,r,i){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.a;break;case 1:if(!n){this.destination=a.a;break}if("object"==typeof n){n instanceof t?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,i)}}return Object(r.b)(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(o.a),l=function(e){function t(t,n,r,o){var s;e.call(this),this._parentSubscriber=t;var u=this;Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return Object(r.b)(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},OcWW:function(e,t,n){e.exports=n("3FeR").default},OmGh:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},Q2VO:function(e,t,n){"use strict";var r=n("71nt"),i=n("bxoG");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),i.prototype.processChunk.call(this,e)},e.exports=o},QCdE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},o=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||i,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,r({prefix:this.prefix+":"+t+":"},this.options))},e}()),a=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){var r;t.apply(t,(r=[e]).concat.apply(r,n))})},e}();function s(e){return null==e?"":""+e}function u(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:r(o.shift())}}function l(e,t,n){var r=u(e,t,Object);r.obj[r.k]=n}function c(e,t){var n=u(e,t),r=n.obj;if(r)return r[n.k]}function h(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function f(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return d[e]}):e}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data=n||{},i.options=r,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===r&&(r=".");var i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split(".")),c(this.data,i)},t.prototype.addResource=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),l(this.data,a,r),i.silent||this.emit("added",e,t,n,r)},t.prototype.addResources=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=c(this.data,a)||{};r?function e(t,n,r){for(var i in n)i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(t[i]=n[i]):e(t[i],n[i],r):t[i]=n[i];return t}(s,n,i):s=p({},s,n),l(this.data,a,s),o.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?p({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(a),m={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))}),t}},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i,a,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i=n,a=s,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"].forEach(function(e){i[e]&&(a[e]=i[e])}),s.options=r,s.logger=o.create("translator"),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=this.resolve(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});return t&&void 0!==t.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==("undefined"==typeof t?"undefined":v(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var r=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),o=i.key,a=i.namespaces,s=a[a.length-1],u=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase())return l?s+(t.nsSeparator||this.options.nsSeparator)+o:o;var c=this.resolve(e,t),h=c&&c.res,d=c&&c.usedKey||o,f=Object.prototype.toString.apply(h),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(h&&"string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&(!p||"[object Array]"!==f)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,h,t):"key '"+o+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var g="[object Array]"===f?[]:{};for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){var S=""+d+r+m;g[m]=this.translate(S,x({},t,{joinArrays:!1,ns:a})),g[m]===S&&(g[m]=h[m])}h=g}}else if(p&&"[object Array]"===f)(h=h.join(p))&&(h=this.extendTranslation(h,e,t));else{var y=!1,b=!1;this.isValidLookup(h)||void 0===t.defaultValue||(y=!0,h=t.defaultValue),this.isValidLookup(h)||(b=!0,h=o);var C=t.defaultValue&&t.defaultValue!==h&&this.options.updateMissing;if(b||y||C){this.logger.log(C?"updateKey":"missingKey",u,s,o,C?t.defaultValue:h);var w=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(var D=0;D<_.length;D++)w.push(_[D]);else"all"===this.options.saveMissingTo?w=this.languageUtils.toResolveHierarchy(t.lng||this.language):w.push(t.lng||this.language);var T=function(e,r){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,r,C?t.defaultValue:h,C,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,r,C?t.defaultValue:h,C,t),n.emit("missingKey",e,s,r,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?w.forEach(function(e){n.pluralResolver.getPluralFormsOfKey(e,o).forEach(function(t){return T([e],t)})}):T(w,o))}h=this.extendTranslation(h,e,t),b&&h===o&&this.options.appendNamespaceToMissingKey&&(h=s+":"+o),b&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h},t.prototype.extendTranslation=function(e,t,n){var r=this;n.interpolation&&this.interpolator.init(x({},n,{interpolation:x({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=x({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==e&&null!==e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=m.handle(a,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(r)){var o=t.extractFromKey(e,n),a=o.key;i=a;var s=o.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var u=void 0!==n.count&&"string"!=typeof n.count,l=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach(function(e){t.isValidLookup(r)||c.forEach(function(i){if(!t.isValidLookup(r)){var o=a,s=[o],c=void 0;u&&(c=t.pluralResolver.getSuffix(i,n.count)),u&&l&&s.push(o+c),l&&s.push(o+=""+t.options.contextSeparator+n.context),u&&s.push(o+=c);for(var h=void 0;h=s.pop();)t.isValidLookup(r)||(r=t.getResource(i,e,h,n))}})})}}),{res:r,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){return this.resourceStore.getResource(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},t}(a);function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}var b=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=o.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=y(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=y(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=y(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))}),i},e}(),C=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],w={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},_=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.languageUtils=t,this.options=r,this.logger=o.create("pluralResolver"),this.rules=(n={},C.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:w[e.fc]}})}),n)}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,r=[],i=this.getRule(e);return i?(i.numbers.forEach(function(i){var o=n.getSuffix(e,i);r.push(""+t+o)}),r):r},e.prototype.getSuffix=function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.plurals(r.noAbs?t:Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():a():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?a():2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.logger=o.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||f),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?h(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?h(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?h(t.nestingPrefix):t.nestingPrefixEscaped||h("$t("),this.nestingSuffix=t.nestingSuffix?h(t.nestingSuffix):t.nestingSuffixEscaped||h(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){this.regexp=new RegExp(this.prefix+"(.+?)"+this.suffix,"g"),this.regexpUnescape=new RegExp(""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix,"g"),this.nestingRegexp=new RegExp(this.nestingPrefix+"(.+?)"+this.nestingSuffix,"g")},e.prototype.interpolate=function(e,t,n){var r=this,i=void 0,o=void 0,a=void 0,u=function(e){if(e.indexOf(r.formatSeparator)<0)return c(t,e);var i=e.split(r.formatSeparator),o=i.shift().trim(),a=i.join(r.formatSeparator).trim();return r.format(c(t,o),a,n)};for(this.resetRegExp(),a=0;(i=this.regexpUnescape.exec(e))&&(o=u(i[1].trim()),e=e.replace(i[0],o),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;(i=this.regexp.exec(e))&&("string"!=typeof(o=u(i[1].trim()))&&(o=s(o)),o||(this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),o=""),o=(this.escapeValue?this.escape(o):o).replace(/\$/g,"$$$$"),e=e.replace(i[0],o),this.regexp.lastIndex=0,!(++a>=this.maxReplaces)););return e},e.prototype.nest=function(e,t){var n=void 0,r=void 0,i=D({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});function o(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,i)).replace(/'/g,'"');try{i=JSON.parse(r),t&&(i=D({},t,i))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(i.applyPostProcessor=!1;n=this.nestingRegexp.exec(e);){if((r=t(o.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=s(r)),r||(this.logger.warn("missed to resolve "+n[1]+" for nesting "+e),r=""),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e},e}(),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.backend=n,s.store=r,s.languageUtils=i.languageUtils,s.options=a,s.logger=o.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(i,a.backend,a),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}(t,e),t.prototype.queueLoad=function(e,t,n){var r=this,i=[],o=[],a=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var a=e+"|"+t;r.store.hasResourceBundle(e,t)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),i.indexOf(a)<0&&i.push(a),s.indexOf(t)<0&&s.push(t)))}),n||a.push(e)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:a,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var r=this,i=e.split("|"),o=E(i,2),a=o[0],s=o[1];t&&this.emit("failedLoading",a,s,t),n&&this.store.addResourceBundle(a,s,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){var i,o,l,c;i=s,(l=(o=u(n.loaded,[a],Object)).obj)[c=o.k]=l[c]||[],l[c].push(i),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return e.length?this.backend[n](e,t,function(s,u){s&&u&&r<5?setTimeout(function(){i.read.call(i,e,t,n,r+1,2*o,a)},o):a(s,u)}):a(null,{})},t.prototype.load=function(e,t,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=L({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,n);if(!o.toLoad.length)return o.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(o.toLoadLanguages,o.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&r.logger.warn("loading namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&r.logger.log("successfully loaded namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading",t),o.toLoad.forEach(function(n){var i=n.split("|"),o=E(i,2),a=o[0],s=o[1],u=c(t,[a,s]);if(u)r.loaded(n,e,u);else{var l="loading namespace "+s+" for language "+a+" via multiloading failed";r.loaded(n,l),r.logger.error(l)}})}):o.toLoad.forEach(function(e){r.loadOne(e)})},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=L({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),r.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var o=c(i,[e,t]);if(o)n.loaded(e+"|"+t,r,o);else{var a="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,a),n.logger.error(a)}})})}):e.forEach(function(e){t.forEach(function(t){n.loadOne(e+"|"+t,"re")})})},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=E(r,2),o=i[0],a=i[1];this.read(o,a,"read",null,null,function(r,i){r&&t.logger.warn(n+"loading namespace "+a+" for language "+o+" failed",r),!r&&i&&t.logger.log(n+"loaded namespace "+a+" for language "+o,i),t.loaded(e,r,i)})},t.prototype.saveMissing=function(e,t,n,r,i){this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,L({},arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r)},t}(a),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.cache=n,s.store=r,s.services=i,s.options=a,s.logger=o.create("cacheConnector"),s.cache&&s.cache.init&&s.cache.init(i,a.cache,a),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}(t,e),t.prototype.load=function(e,t,n){var r=this;if(!this.cache)return n&&n();var i=P({},this.cache.options,this.options.cache),o="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(o,function(e,t){if(e&&r.logger.error("loading languages "+o.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var a in t[i])if(Object.prototype.hasOwnProperty.call(t[i],a)&&"i18nStamp"!==a){var s=t[i][a];s&&r.store.addResourceBundle(i,a,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(a);function O(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(){}var N=new(function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=k(this,e.call(this));if(i.options=O(n),i.services={},i.logger=o,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var a;if(!i.options.initImmediate)return a=i.init(n,r),k(i,a);setTimeout(function(){i.init(n,r)},0)}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=R({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,O(t)),this.format=this.options.interpolation.format,n||(n=M),!this.options.isClone){o.init(this.modules.logger?r(this.modules.logger):null,this.options);var i=new b(this.options);this.store=new g(this.options.resources,this.options);var a=this.services;a.logger=o,a.resourceStore=this.store,a.resourceStore.on("added removed",function(e,t){a.cacheConnector.save()}),a.languageUtils=i,a.pluralResolver=new _(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new T(this.options),a.backendConnector=new I(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),a.backendConnector.on("loaded",function(e){a.cacheConnector.save()}),a.cacheConnector=new A(r(this.modules.cache),a.resourceStore,a,this.options),a.cacheConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.translator=new S(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});var s=function(){e.changeLanguage(e.options.lng,function(t,r){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,r)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})};this.language?r(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)}),this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.cacheConnector.load(n,this.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&m.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,r=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(r){!function(e,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),t&&t(e,function(){return n.t.apply(n,arguments)})}(r,e)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,r=function e(t,r){for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s=R({},r);return"object"!==("undefined"==typeof r?"undefined":F(r))&&(s=n.options.overloadTranslationOptionHandler([t,r].concat(o))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter(function(e){return n.indexOf(e)<0});if(!r.length)return t();this.options.preload=n.concat(r),this.loadResources(t)},t.prototype.dir=function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,r=R({},this.options,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isClone:!0}),i=new t(r);return["store","services","language"].forEach(function(t){i[t]=e[t]}),i.translator=new S(i.services,i.options),i.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))}),i.init(r,n),i.translator.options=i.options,i},t}(a));n.d(t,"changeLanguage",function(){return U}),n.d(t,"cloneInstance",function(){return q}),n.d(t,"createInstance",function(){return B}),n.d(t,"dir",function(){return Q}),n.d(t,"exists",function(){return G}),n.d(t,"getFixedT",function(){return V}),n.d(t,"init",function(){return K}),n.d(t,"loadLanguages",function(){return H}),n.d(t,"loadNamespaces",function(){return j}),n.d(t,"loadResources",function(){return z}),n.d(t,"off",function(){return W}),n.d(t,"on",function(){return Y}),n.d(t,"setDefaultNamespace",function(){return X}),n.d(t,"t",function(){return Z}),n.d(t,"use",function(){return J}),t.default=N;var U=N.changeLanguage.bind(N),q=N.cloneInstance.bind(N),B=N.createInstance.bind(N),Q=N.dir.bind(N),G=N.exists.bind(N),V=N.getFixedT.bind(N),K=N.init.bind(N),H=N.loadLanguages.bind(N),j=N.loadNamespaces.bind(N),z=N.loadResources.bind(N),W=N.off.bind(N),Y=N.on.bind(N),X=N.setDefaultNamespace.bind(N),Z=N.t.bind(N),J=N.use.bind(N)},RQMs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"querystring",lookup:function(e){var t=void 0;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}}},Rf9G:function(e,t,n){"use strict";var r=n("TToO"),i=n("g5jc"),o=n("YaPU"),a=n("OVmG"),s=n("VwZZ");function u(){return function(e){return e.lift(new l(e))}}var l=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),c=function(e){function t(t,n){e.call(this,t),this.connectable=n}return Object(r.b)(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(a.a),h=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(r.b)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=s.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return u()(this)},t}(o.a).prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},f=function(e){function t(t,n){e.call(this,t),this.connectable=n}return Object(r.b)(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);function p(){return new i.a}t.a=function(){return this,u()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(this));var e}},Rt1F:function(e,t,n){"use strict";(function(t,r){var i=n("ypnx");e.exports=S;var o,a=n("sOR5");S.ReadableState=v,n("vzCy");var s=function(e,t){return e.listeners(t).length},u=n("UcPO"),l=n("X3l8").Buffer,c=t.Uint8Array||function(){},h=n("jOgh");h.inherits=n("LC74");var d=n(1),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n("+HRN"),m=n("x0Ha");h.inherits(S,u);var x=["error","close","destroy","pause","resume"];function v(e,t){var r=t instanceof(o=o||n("DsFX"));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n("l5vw").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function S(e){if(o=o||n("DsFX"),!(this instanceof S))return new S(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function y(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,_(e)}}(e,a)):(i||(o=function(e,t){var n,r;return l.isBuffer(r=t)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):b(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?b(e,a,t,!1):T(e,a)):b(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function b(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&_(e)),T(e,t)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(e,t){this.push(null),t(e)},S.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},S.prototype.unshift=function(e){return y(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return p||(p=n("l5vw").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var C=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(D,e):D(e))}function D(e){f("emit readable"),e.emit("readable"),P(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(L,e,t))}function L(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function E(e){f("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),0==(e-=a)){a===o.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):_(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&O(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?v:l;function l(){f("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",function t(r,i){f("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),e.removeListener("close",m),e.removeListener("finish",x),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",p),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",c);var h=!1,d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==R(o.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(t){f("onerror",t),v(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",x),v()}function x(){f("onfinish"),e.removeListener("close",m),v()}function v(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,g),e.once("close",m),e.once("finish",x),e.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=R(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},S.prototype.addListener=S.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&_(this):i.nextTick(E,this))}return n},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},S.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},S._fromList=A}).call(t,n("DuR2"),n("W2nU"))},SDM6:function(e,t,n){e.exports=n("DsFX")},TToO:function(e,t,n){"use strict";t.b=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.d(t,"a",function(){return i});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},UcPO:function(e,t,n){e.exports=n("vzCy").EventEmitter},"Un+M":function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,l,c,h,d,f,p,g,m,x,v,S,y,b,C,w,_,D,T;D=e.input,i=(r=e.next_in)+(e.avail_in-5),T=e.output,a=(o=e.next_out)-(t-e.avail_out),s=o+(e.avail_out-257),u=(n=e.state).dmax,l=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,x=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=D[r++]<<p,f+=D[r++]<<(p+=8),p+=8),S=g[f&x];t:for(;;){if(f>>>=y=S>>>24,p-=y,0==(y=S>>>16&255))T[o++]=65535&S;else{if(!(16&y)){if(0==(64&y)){S=g[(65535&S)+(f&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}b=65535&S,(y&=15)&&(p<y&&(f+=D[r++]<<p,p+=8),b+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=D[r++]<<p,f+=D[r++]<<(p+=8),p+=8),S=m[f&v];n:for(;;){if(f>>>=y=S>>>24,p-=y,!(16&(y=S>>>16&255))){if(0==(64&y)){S=m[(65535&S)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&S,p<(y&=15)&&(f+=D[r++]<<p,(p+=8)<y&&(f+=D[r++]<<p,p+=8)),(C+=f&(1<<y)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=y,p-=y,C>(y=o-a)){if((y=C-y)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(w=0,_=d,0===h){if(w+=l-y,y<b){b-=y;do{T[o++]=d[w++]}while(--y);w=o-C,_=T}}else if(h<y){if(w+=l+h-y,(y-=h)<b){b-=y;do{T[o++]=d[w++]}while(--y);if(w=0,h<b){b-=y=h;do{T[o++]=d[w++]}while(--y);w=o-C,_=T}}}else if(w+=h-y,y<b){b-=y;do{T[o++]=d[w++]}while(--y);w=o-C,_=T}for(;b>2;)T[o++]=_[w++],T[o++]=_[w++],T[o++]=_[w++],b-=3;b&&(T[o++]=_[w++],b>1&&(T[o++]=_[w++]))}else{w=o-C;do{T[o++]=T[w++],T[o++]=T[w++],T[o++]=T[w++],b-=3}while(b>2);b&&(T[o++]=T[w++],b>1&&(T[o++]=T[w++]))}break}}break}}while(r<i&&o<s);f&=(1<<(p-=(b=p>>3)<<3))-1,e.next_in=r-=b,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},VOug:function(e,t,n){"use strict";var r,i=n("gt5T"),o=n("ZjIE"),a=n("KpjM"),s=n("2WCG"),u=n("2A+V"),l=0,c=4,h=0,d=-2,f=-1,p=1,g=4,m=2,x=8,v=9,S=286,y=30,b=19,C=2*S+1,w=15,_=3,D=258,T=D+_+1,L=42,E=113,I=1,P=2,A=3,O=4;function F(e,t){return e.msg=u[t],t}function R(e){return(e<<1)-(e>4?9:0)}function k(e){for(var t=e.length;--t>=0;)e[t]=0}function M(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function N(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,M(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function q(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,l=e.window,c=e.w_mask,h=e.prev,d=e.strstart+D,f=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===p&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(r=D-(d-o),o=d-D,r>a){if(e.match_start=t,a=r,r>=s)break;f=l[o+a-1],p=l[o+a]}}}while((t=h[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function Q(e){var t,n,r,o,u,l,c,h,d,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,f=void 0,(f=(l=e.strm).avail_in)>(d=o)&&(f=d),n=0===f?0:(l.avail_in-=f,i.arraySet(c,l.input,l.next_in,f,h),1===l.state.wrap?l.adler=a(l.adler,c,f,h):2===l.state.wrap&&(l.adler=s(l.adler,c,f,h)),l.next_in+=f,l.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=_)for(e.ins_h=e.window[u=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+_-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<_)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function G(e,t){for(var n,r;;){if(e.lookahead<T){if(Q(e),e.lookahead<T&&t===l)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-T&&(e.match_length=B(e,n)),e.match_length>=_)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-_),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(N(e,!1),0===e.strm.avail_out))return I}return e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(N(e,!0),0===e.strm.avail_out?A:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:P}function V(e,t){for(var n,r,i;;){if(e.lookahead<T){if(Q(e),e.lookahead<T&&t===l)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=B(e,n),e.match_length<=5&&(e.strategy===p||e.match_length===_&&e.strstart-e.match_start>4096)&&(e.match_length=_-1)),e.prev_length>=_&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-_,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=_-1,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return I}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return I}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_-1?e.strstart:_-1,t===c?(N(e,!0),0===e.strm.avail_out?A:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:P}function K(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?L:E,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),h):F(e,d)}function j(e){var t,n=H(e);return n===h&&((t=e.state).window_size=2*t.w_size,k(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=_-1,t.match_available=0,t.ins_h=0),n}function z(e,t,n,r,o,a){if(!e)return d;var s=1;if(t===f&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>v||n!==x||r<8||r>15||t<0||t>9||a<0||a>g)return F(e,d);8===r&&(r=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*C),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(w+1),this.heap=new i.Buf16(2*S+1),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*S+1),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+_-1)/_),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,j(e)}r=[new K(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Q(e),0===e.lookahead&&t===l)return I;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,N(e,!1),0===e.strm.avail_out))return I;if(e.strstart-e.block_start>=e.w_size-T&&(N(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(N(e,!0),0===e.strm.avail_out?A:O):(e.strstart>e.block_start&&N(e,!1),I)}),new K(4,4,8,4,G),new K(4,5,16,8,G),new K(4,6,32,32,G),new K(4,4,16,16,V),new K(8,16,32,32,V),new K(8,16,128,128,V),new K(8,32,128,256,V),new K(32,128,258,1024,V),new K(32,258,258,4096,V)],t.deflateInit=function(e,t){return z(e,t,x,15,8,0)},t.deflateInit2=z,t.deflateReset=j,t.deflateResetKeep=H,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},t.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||t>5||t<0)return e?F(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return F(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===L)if(2===i.wrap)e.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),U(i,3),i.status=E);else{var f=x+(i.w_bits-8<<4)<<8;f|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=E,q(i,f),0!==i.strstart&&(q(i,e.adler>>>16),q(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),M(e),a=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),M(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),M(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&M(e),i.pending+2<=i.pending_buf_size&&(U(i,255&e.adler),U(i,e.adler>>8&255),e.adler=0,i.status=E)):i.status=E),0!==i.pending){if(M(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&R(t)<=R(n)&&t!==c)return F(e,-5);if(666===i.status&&0!==e.avail_in)return F(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(Q(e),0===e.lookahead)){if(t===l)return I;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(N(e,!0),0===e.strm.avail_out?A:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:P}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=D){if(Q(e),e.lookahead<=D&&t===l)return I;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=_&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+D;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=D-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_?(n=o._tr_tally(e,1,e.match_length-_),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(N(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===c?(N(e,!0),0===e.strm.avail_out?A:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?I:P}(i,t):r[i.level].func(i,t);if(p!==A&&p!==O||(i.status=666),p===I||p===A)return 0===e.avail_out&&(i.last_flush=-1),h;if(p===P&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(k(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),M(e),0===e.avail_out))return i.last_flush=-1,h}return t!==c?h:i.wrap<=0?1:(2===i.wrap?(U(i,255&e.adler),U(i,e.adler>>8&255),U(i,e.adler>>16&255),U(i,e.adler>>24&255),U(i,255&e.total_in),U(i,e.total_in>>8&255),U(i,e.total_in>>16&255),U(i,e.total_in>>24&255)):(q(i,e.adler>>>16),q(i,65535&e.adler)),M(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?h:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==L&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?F(e,d):(e.state=null,t===E?F(e,-3):h):d},t.deflateSetDictionary=function(e,t){var n,r,o,s,u,l,c,f,p=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==L||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(k(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,Q(n);n.lookahead>=_;){r=n.strstart,o=n.lookahead-(_-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+_-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=_-1,Q(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=_-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,n.wrap=s,h},t.deflateInfo="pako deflate (from Nodeca project)"},Veqx:function(e,t,n){"use strict";var r=n("TToO"),i=n("YaPU"),o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.b)(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.value,n=e.subscriber;e.done?n.complete():(n.next(t),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(i.a),a=n("+3/4"),s=n("1Q68");n.d(t,"a",function(){return u});var u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return Object(r.b)(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];Object(s.a)(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o(e[0],r):new a.a(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t[n]),r.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.a)},VwZZ:function(e,t,n){"use strict";var r,i=Array.isArray||function(e){return e&&"number"==typeof e.length},o=n("dgOU"),a=n("/iUD"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(e){return s.e=e,s}}function l(e){return r=e,u}var c=n("TToO"),h=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(c.b)(t,e),t}(Error);n.d(t,"a",function(){return d});var d=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,p=r?r.length:0;n;)n.remove(this),n=++d<p&&r[d]||null;if(Object(a.a)(u)&&l(u).call(this)===s&&(t=!0,e=e||(s.e instanceof h?f(s.e.errors):[s.e])),i(c))for(d=-1,p=c.length;++d<p;){var g=c[d];if(Object(o.a)(g)&&l(g.unsubscribe).call(g)===s){t=!0,e=e||[];var m=s.e;m instanceof h?e=e.concat(f(m.errors)):e.push(m)}}if(t)throw new h(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){return e.reduce(function(e,t){return e.concat(t instanceof h?t.errors:t)},[])}},W2nU:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,h=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},WT6e:function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return Ze}),n.d(t,"I",function(){return Ke}),n.d(t,"K",function(){return He}),n.d(t,"H",function(){return ze}),n.d(t,"r",function(){return je}),n.d(t,"a",function(){return ie}),n.d(t,"v",function(){return se}),n.d(t,"u",function(){return ue}),n.d(t,"b",function(){return ne}),n.d(t,"c",function(){return re}),n.d(t,"J",function(){return ct}),n.d(t,"C",function(){return Me}),n.d(t,"M",function(){return Ue}),n.d(t,"p",function(){return Ft}),n.d(t,"d",function(){return Nt}),n.d(t,"j",function(){return Ee}),n.d(t,"i",function(){return $}),n.d(t,"z",function(){return qt}),n.d(t,"A",function(){return Ut}),n.d(t,"F",function(){return d}),n.d(t,"E",function(){return f}),n.d(t,"D",function(){return p}),n.d(t,"m",function(){return F}),n.d(t,"l",function(){return l}),n.d(t,"k",function(){return g}),n.d(t,"t",function(){return m}),n.d(t,"B",function(){return v}),n.d(t,"s",function(){return Ie}),n.d(t,"w",function(){return tt}),n.d(t,"x",function(){return $e}),n.d(t,"y",function(){return et}),n.d(t,"f",function(){return de}),n.d(t,"g",function(){return ye}),n.d(t,"h",function(){return nt}),n.d(t,"q",function(){return we}),n.d(t,"n",function(){return Lt}),n.d(t,"o",function(){return Et}),n.d(t,"G",function(){return ft}),n.d(t,"L",function(){return Ot}),n.d(t,"W",function(){return gt}),n.d(t,"O",function(){return ce}),n.d(t,"N",function(){return be}),n.d(t,"U",function(){return b}),n.d(t,"_7",function(){return L}),n.d(t,"X",function(){return te}),n.d(t,"Y",function(){return ee}),n.d(t,"P",function(){return Wn}),n.d(t,"Q",function(){return zi}),n.d(t,"R",function(){return nn}),n.d(t,"S",function(){return xr}),n.d(t,"T",function(){return Pn}),n.d(t,"Z",function(){return qn}),n.d(t,"_0",function(){return Un}),n.d(t,"_2",function(){return Mr}),n.d(t,"_3",function(){return or}),n.d(t,"_6",function(){return Ar}),n.d(t,"_8",function(){return Ur}),n.d(t,"_9",function(){return Qr}),n.d(t,"_1",function(){return Rt}),n.d(t,"_4",function(){return kt}),n.d(t,"_5",function(){return Mt}),n.d(t,"V",function(){return oe});var r=n("TToO"),i=n("YaPU"),o=n("/nXB"),a=n("Rf9G"),s=n("g5jc"),u=n("VwZZ"),l=function(){function e(e){this._desc=e,this.ngMetadataName="InjectionToken"}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),c="__paramaters__";function h(e,t,n){var r=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=e.apply(void 0,t);for(var i in r)this[i]=r[i]}}}(t);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof i)return r.apply(this,e),this;var n,o=new((n=i).bind.apply(n,[void 0].concat(e)));return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(c)?e[c]:Object.defineProperty(e,c,{value:[]})[c];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var d=function(){var e={Emulated:0,Native:1,None:2};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e}(),f=function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},p=new f("5.2.9"),g=h("Inject",function(e){return{token:e}}),m=h("Optional"),x=h("Self"),v=h("SkipSelf"),S="undefined"!=typeof window&&window,y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,b=S||"undefined"!=typeof e&&e||y,C=Promise.resolve(0),w=null;function _(){if(!w){var e=b.Symbol;if(e&&e.iterator)w=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(w=r)}}return w}function D(e){"undefined"==typeof Zone?C.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function T(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function L(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(L).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function E(e){return e.__forward_ref__=E,e.toString=function(){return L(this())},e}function I(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===E?e():e}var P="__source",A=new Object,O=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=A),t===A)throw new Error("NullInjectorError: No provider for "+L(e)+"!");return t},e}(),F=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new V(e,t):new V(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=A,e.NULL=new O,e}(),R=function(e){return e},k=[],M=R,N=function(){return Array.prototype.slice.call(arguments)},U={},q=function(e){for(var t in e)if(e[t]===U)return t;throw Error("!prop")}({provide:String,useValue:U}),B=F.NULL,Q=/\n/gm,G="\u0275",V=function(){function e(e,t,n){void 0===t&&(t=B),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(F,{token:F,fn:R,deps:k,value:this,useNew:!1}),function e(t,n){if(n)if((n=I(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw j("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw j("Unexpected provider",n);var i=I(n.provide),o=function(e){var t=function(e){var t=k,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6;if((u=I(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof m||s==m?i|=1:s instanceof v||s==v?i&=-3:s instanceof x||s==x?i&=-5:u=s instanceof g?s.token:I(s)}t.push({token:u,options:i})}}else if(e.useExisting){var u;t=[{token:u=I(e.useExisting),options:6}]}else if(!(n||q in e))throw j("'deps' required",e);return t}(e),n=R,r=k,i=!1,o=I(e.provide);if(q in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=I(e.useClass);else{if("function"!=typeof o)throw j("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==N)throw K(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:N,value:k});a.deps.push({token:i=n,options:6})}var s=t.get(i);if(s&&s.fn==N)throw K(i);t.set(i,o)}}(r,e)}return e.prototype.get=function(e,t){var n=this._records.get(e);try{return function e(t,n,r,i,o){try{return function(t,n,r,i,o){var a,s;if(n){if((a=n.value)==M)throw Error(G+"Circular dependency");if(a===k){n.value=M;var u=n.useNew,l=n.fn,c=n.deps,h=k;if(c.length){h=[];for(var d=0;d<c.length;d++){var f=c[d],p=f.options,g=2&p?r.get(f.token):void 0;h.push(e(f.token,g,r,g||4&p?i:B,1&p?null:F.THROW_IF_NOT_FOUND))}}n.value=a=u?new((s=l).bind.apply(s,[void 0].concat(h))):l.apply(void 0,h)}}else a=i.get(t,o);return a}(t,n,r,i,o)}catch(e){throw e instanceof Error||(e=new Error(e)),(e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(t),n&&n.value==M&&(n.value=k),e}}(e,n,this._records,this.parent,t)}catch(t){var r=t.ngTempTokenPath;throw e[P]&&r.unshift(e[P]),t.message=H("\n"+t.message,r,this.source),t.ngTokenPath=r,t.ngTempTokenPath=null,t}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(L(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function K(e){return j("Cannot mix multi providers and regular providers",e)}function H(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==G?e.substr(2):e;var r=L(t);if(t instanceof Array)r=t.map(L).join(" -> ");else if("object"==typeof t){var i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):L(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+e.replace(Q,"\n  ")}function j(e,t){return new Error(H(e,t))}var z="ngDebugContext",W="ngOriginalError",Y="ngErrorLogger";function X(e){return e[z]}function Z(e){return e[W]}function J(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,t)}var $=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Y]||J}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?X(e)?X(e):this._findContext(Z(e)):null},e.prototype._findOriginalError=function(e){for(var t=Z(e);t&&Z(t);)t=Z(t);return t},e}();function ee(e){return!!e&&"function"==typeof e.then}function te(e){return!!e&&"function"==typeof e.subscribe}Function;var ne=new l("Application Initializer"),re=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ee(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),ie=new l("AppId");function oe(){return""+ae()+ae()+ae()}function ae(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var se=new l("Platform Initializer"),ue=new l("Platform ID"),le=new l("appBootstrapListener"),ce=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e.ctorParameters=function(){return[]},e}();function he(){throw new Error("Runtime compiler is not loaded")}var de=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw he()},e.prototype.compileModuleAsync=function(e){throw he()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw he()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw he()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e}(),fe=function(){},pe=function(){};function ge(e){var t=Error("No component factory found for "+L(e)+". Did you add it to @NgModule.entryComponents?");return t[ve]=e,t}var me,xe,ve="ngComponent",Se=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw ge(e)},e}(),ye=function(){function e(){}return e.NULL=new Se,e}(),be=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var i=e[r];this._factories.set(i.componentType,i)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw ge(e);return new Ce(t,this._ngModule)},e}(),Ce=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return Object(r.b)(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(pe),we=function(){},_e=function(){var e=b.wtf;return!(!e||!(me=e.trace)||(xe=me.events,0))}();function De(e,t){return null}var Te=_e?function(e,t){return void 0===t&&(t=null),xe.createScope(e,t)}:function(e,t){return De},Le=_e?function(e,t){return me.leaveScope(e,t),t}:function(e,t){return t},Ee=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return Object(r.b)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var i,o=function(e){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=e.prototype.subscribe.call(this,i,o,a);return t instanceof u.a&&t.add(s),s},t}(s.a),Ie=function(){function e(e){var t,n=e.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ee(!1),this.onMicrotaskEmpty=new Ee(!1),this.onStable=new Ee(!1),this.onError=new Ee(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return Fe(t),e.invokeTask(r,i,o,a)}finally{Re(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return Fe(t),e.invoke(r,i,o,a,s)}finally{Re(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Oe(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Ae,Pe,Pe);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Pe(){}var Ae={};function Oe(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Fe(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Re(e){e._nesting--,Oe(e)}var ke=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ee,this.onMicrotaskEmpty=new Ee,this.onStable=new Ee,this.onError=new Ee}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),Me=function(){function e(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Ie.assertNotInAngularZone(),D(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?D(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),Ne=function(){function e(){this._applications=new Map,Be.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),Be.findTestabilityInTree(this,e,t)},e.ctorParameters=function(){return[]},e}();function Ue(e){Be=e}var qe,Be=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Qe=!0,Ge=!1,Ve=new l("AllowMultipleToken");function Ke(){if(Ge)throw new Error("Cannot enable prod mode after platform setup.");Qe=!1}function He(){return Ge=!0,Qe}var je=function(e,t){this.name=e,this.token=t};function ze(e,t,n){void 0===n&&(n=[]);var r="Platform: "+t,i=new l(r);return function(t){void 0===t&&(t=[]);var o=We();if(!o||o.injector.get(Ve,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(qe&&!qe.destroyed&&!qe.injector.get(Ve,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qe=e.get(Ye);var t=e.get(se,null);t&&t.forEach(function(e){return e()})}(F.create({providers:a,name:r}))}return function(e){var t=We();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function We(){return qe&&!qe.destroyed?qe:null}var Ye=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new ke:("zone.js"===n?void 0:n)||new Ie({enableLongStackTrace:He()}),o=[{provide:Ie,useValue:i}];return i.run(function(){var t=F.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get($,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Je(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})}),function(e,t,i){try{var o=((a=n.injector.get(re)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return ee(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}var a}(a,i)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=this.injector.get(fe),i=Xe({},t);return r.createCompiler([i]).compileModuleAsync(e).then(function(e){return n.bootstrapModuleFactory(e,i)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Ze);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+L(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function Xe(e,t){return Array.isArray(t)?t.reduce(Xe,e):Object(r.a)({},e,t)}var Ze=function(){function e(e,t,n,r,s,u){var l=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=He(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var c=new i.a(function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){e.next(l._stable),e.complete()})}),h=new i.a(function(e){var t;l._zone.runOutsideAngular(function(){t=l._zone.onStable.subscribe(function(){Ie.assertNotInAngularZone(),D(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){Ie.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,a.a.call(h))}return e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof pe?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Ce?null:this._injector.get(we),o=n.create(F.NULL,[],t||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Me,null);return a&&o.injector.get(Ne).registerApplication(o.location.nativeElement,a),this._loadComponent(o),He()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,Le(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;Je(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(le,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),Je(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=Te("ApplicationRef#tick()"),e}();function Je(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var $e=function(){},et=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),tt=function(){},nt=function(e){this.nativeElement=e},rt=function(){function e(){this.dirty=!0,this._results=[],this.changes=new Ee,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[_()]=function(){return this._results[_()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),it=function(){},ot=function(){function e(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof at?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),at=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return Object(r.b)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=r}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return st(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return ut(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(ot);function st(e,t,n){e.childNodes.forEach(function(e){e instanceof at&&(t(e)&&n.push(e),st(e,t,n))})}function ut(e,t,n){e instanceof at&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof at&&ut(e,t,n)})}var lt=new Map;function ct(e){return lt.get(e)||null}function ht(e){lt.set(e.nativeNode,e)}function dt(e,t){var n=gt(e),r=gt(t);return n&&r?function(e,t,n){for(var r=e[_()](),i=t[_()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,dt):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||T(e,t)}var ft=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),pt=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function gt(e){return!!mt(e)&&(Array.isArray(e)||!(e instanceof Map)&&_()in e)}function mt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var xt=function(){function e(){}return e.prototype.supports=function(e){return gt(e)},e.prototype.create=function(e){return new St(e)},e}(),vt=function(e,t){return t},St=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vt}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<wt(n,r,i)?t:n,a=wt(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,d=h+c;l<=d&&d<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&e(o,a,s)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!gt(e))throw new Error("Error trying to diff '"+L(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==o&&T(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),T(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[_()](),i=void 0;!(i=r.next()).done;)t(i.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&T(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),T(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(T(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(T(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new yt(t,n),i,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ct),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ct),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),yt=function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},bt=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&T(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Ct=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new bt,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function wt(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var _t=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||mt(e)},e.prototype.create=function(){return new Dt},e}(),Dt=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||mt(e)))throw new Error("Error trying to diff '"+L(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Tt(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){T(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Tt=function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Lt=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();return new e(t=t.concat(r))}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new v,new m]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e}(),Et=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new v,new m]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),It=[new _t],Pt=new Lt([new xt]),At=new Et(It),Ot=ze(null,"core",[{provide:ue,useValue:"unknown"},{provide:Ye,deps:[F]},{provide:Ne,deps:[]},{provide:ce,deps:[]}]),Ft=new l("LocaleId");function Rt(){return Pt}function kt(){return At}function Mt(e){return e||"en-US"}var Nt=function(e){},Ut=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),qt=function(){};function Bt(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Qt(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Gt(e,t){return e.nodes[t]}function Vt(e,t){return e.nodes[t]}function Kt(e,t){return e.nodes[t]}function Ht(e,t){return e.nodes[t]}function jt(e,t){return e.nodes[t]}var zt={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Wt(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Yt(n,t),n}(i,e)}function Yt(e,t){e[z]=t,e[Y]=t.logError.bind(t)}function Xt(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Zt=function(){},Jt=new Map;function $t(e){var t=Jt.get(e);return t||(t=L(e)+"_"+Jt.size,Jt.set(e,t)),t}var en="$$undefined",tn="$$empty";function nn(e){return{id:en,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var rn=0;function on(e,t,n,r){return!(!(2&e.state)&&T(e.oldValues[t.bindingIndex+n],r))}function an(e,t,n,r){return!!on(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function sn(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!dt(i,r)){var o=t.bindings[n].name;throw Wt(zt.createDebugContext(e,t.nodeIndex),o+": "+i,o+": "+r,0!=(1&e.state))}}function un(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ln(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function cn(e,t,n,r){try{return un(33554432&e.def.nodes[t].flags?Vt(e,t).componentView:e),zt.handleEvent(e,t,n,r)}catch(t){e.root.errorHandler.handleError(t)}}function hn(e){return e.parent?Vt(e.parent,e.parentNodeDef.nodeIndex):null}function dn(e){return e.parent?e.parentNodeDef.parent:null}function fn(e,t){switch(201347067&t.flags){case 1:return Vt(e,t.nodeIndex).renderElement;case 2:return Gt(e,t.nodeIndex).renderText}}function pn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function gn(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function mn(e){return 1<<e%32}function xn(e){var t={},n=0,r={};return e&&e.forEach(function(e){var i=e[0],o=e[1];"number"==typeof i?(t[i]=o,n|=mn(i)):r[i]=o}),{matchedQueries:t,references:r,matchedQueryIds:n}}function vn(e,t){return e.map(function(e){var n,r;return Array.isArray(e)?(r=e[0],n=e[1]):(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,P,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:$t(n)}})}function Sn(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===d.Native?Vt(e,n.renderParent.nodeIndex).renderElement:void 0:t}var yn=new WeakMap;function bn(e){var t=yn.get(e);return t||((t=e(function(){return Zt})).factory=e,yn.set(e,t)),t}function Cn(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(fn(e,e.def.lastRenderRootNode))),wn(e,t,0,e.def.nodes.length-1,n,r,i)}function wn(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&Dn(e,u,t,i,o,a),s+=u.childCount}}function _n(e,t,n,r,i,o){for(var a=e;a&&!pn(a);)a=a.parent;for(var s=a.parent,u=dn(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===t&&Dn(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var d=e.root.projectableNodes[t];if(d)for(c=0;c<d.length;c++)Tn(e,d[c],n,r,i,o)}}function Dn(e,t,n,r,i,o){if(8&t.flags)_n(e,t.ngContent.index,n,r,i,o);else{var a=fn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Tn(e,a,n,r,i,o),32&t.bindingFlags&&Tn(Vt(e,t.nodeIndex).componentView,a,n,r,i,o)):Tn(e,a,n,r,i,o),16777216&t.flags)for(var s=Vt(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Cn(s[u],n,r,i,o);1&t.flags&&!t.element.name&&wn(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Tn(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var Ln=/^:([^:]+):(.+)$/;function En(e){if(":"===e[0]){var t=e.match(Ln);return[t[1],t[2]]}return["",e]}function In(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Pn(e,t,n,r,i,o,a,s,u,l,c,h){void 0===a&&(a=[]),l||(l=Zt);var f=xn(n),p=f.matchedQueries,g=f.references,m=f.matchedQueryIds,x=null,v=null;o&&(x=(A=En(o))[0],v=A[1]),s=s||[];for(var S=new Array(s.length),y=0;y<s.length;y++){var b=s[y],C=b[0],w=b[2],_=En(b[1]),D=_[0],T=_[1],L=void 0,E=void 0;switch(15&C){case 4:E=w;break;case 1:case 8:L=w}S[y]={flags:C,ns:D,name:T,nonMinifiedName:T,securityContext:L,suffix:E}}u=u||[];var I=new Array(u.length);for(y=0;y<u.length;y++){var P=u[y];I[y]={type:0,target:P[0],eventName:P[1],propName:null}}var A,O=(a=a||[]).map(function(e){var t=e[1],n=En(e[0]);return[n[0],n[1],t]});return h=function(e){if(e&&e.id===en){var t=null!=e.encapsulation&&e.encapsulation!==d.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+rn++:tn}return e&&e.id===tn&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:g,ngContentIndex:r,childCount:i,bindings:S,bindingFlags:In(S),outputs:I,element:{ns:x,name:v,attrs:O,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||Zt},provider:null,text:null,query:null,ngContent:null}}function An(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Sn(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u];a.setAttribute(r,l[1],l[2],l[0])}return r}function On(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Fn(e,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),s=o.target,u=e;"component"===o.target&&(s=null,u=t);var l=u.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=l}var c,h}function Fn(e,t,n){return function(r){return cn(e,t,n,r)}}function Rn(e,t,n,r){if(!an(e,t,n,r))return!1;var i=t.bindings[n],o=Vt(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(Ut.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}var kn=new Object,Mn=$t(F),Nn=$t(we);function Un(e,t,n,r){return n=I(n),{index:-1,deps:vn(r,L(t)),flags:e,token:t,value:n}}function qn(e){for(var t={},n=0;n<e.length;n++){var r=e[n];r.index=n,t[$t(r.token)]=r}return{factory:null,providersByKey:t,providers:e}}function Bn(e,t,n){if(void 0===n&&(n=F.THROW_IF_NOT_FOUND),8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var r=t.tokenKey;switch(r){case Mn:case Nn:return e}var i=e._def.providersByKey[r];if(i){var o=e._providers[i.index];return void 0===o&&(o=e._providers[i.index]=Qn(e,i)),o===kn?void 0:o}return e._parent.get(t.token,n)}function Qn(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Bn(e,n[0]));case 2:return new t(Bn(e,n[0]),Bn(e,n[1]));case 3:return new t(Bn(e,n[0]),Bn(e,n[1]),Bn(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Bn(e,n[o]);return new(t.bind.apply(t,[void 0].concat(i)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Bn(e,n[0]));case 2:return t(Bn(e,n[0]),Bn(e,n[1]));case 3:return t(Bn(e,n[0]),Bn(e,n[1]),Bn(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Bn(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Bn(e,t.deps[0]);break;case 256:n=t.value}return void 0===n?kn:n}function Gn(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,jn(n,t),zt.dirtyParentQueries(r),Kn(r),r}function Vn(e,t,n){var r=t?fn(t,t.def.lastRenderRootNode):e.renderElement;Cn(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Kn(e){Cn(e,3,null,null,void 0)}function Hn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function jn(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var zn=new Object;function Wn(e,t,n,r,i,o){return new Yn(e,t,n,r,i,o)}var Yn=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.selector=t,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=bn(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=zt.createRootView(e,t||[],n,i,r,zn),s=Kt(a,o).instance;return n&&a.renderer.setAttribute(Vt(a,0).renderElement,"ng-version",p.full),new Xn(a,new er(a),s)},t}(pe),Xn=function(e){function t(t,n,r){var i=e.call(this)||this;return i._view=t,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new nt(Vt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ir(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(function(){});function Zn(e,t,n){return new Jn(e,t,n)}var Jn=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new nt(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ir(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=dn(e),e=e.parent;return e?new ir(e,t):new ir(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Gn(this._data,e);zt.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new er(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof Ce||(i=o.get(we));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=e;return i=a._view,o=(n=this._data).viewContainer._embeddedViews,null!==(r=t)&&void 0!==r||(r=o.length),i.viewContainerParent=this._view,Hn(o,r,i),function(e,t){var n=hn(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(n,i),zt.dirtyParentQueries(i),Vn(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return i=t,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],jn(o,r),null==i&&(i=o.length),Hn(o,i,a),zt.dirtyParentQueries(a),Kn(a),Vn(n,i>0?o[i-1]:null,a),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Gn(this._data,e);t&&zt.destroyView(t)},e.prototype.detach=function(e){var t=Gn(this._data,e);return t?new er(t):null},e}();function $n(e){return new er(e)}var er=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return Cn(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){un(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{zt.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){zt.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),zt.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Kn(this._view),zt.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function tr(e,t){return new nr(e,t)}var nr=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return Object(r.b)(t,e),t.prototype.createEmbeddedView=function(e){return new er(zt.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new nt(Vt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(it);function rr(e,t){return new ir(e,t)}var ir=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=F.THROW_IF_NOT_FOUND),zt.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:$t(e)},t)},e}();function or(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Vt(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Gt(e,n.nodeIndex).renderText;if(20240&n.flags)return Kt(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function ar(e){return new sr(e.renderer)}var sr=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=En(t),r=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,r),r},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var r=En(t),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function ur(e,t,n,r){return new lr(e,t,n,r)}var lr=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||(n[r]=Qn(e,i))}}(this)}return e.prototype.get=function(e,t){return void 0===t&&(t=F.THROW_IF_NOT_FOUND),Bn(this,{token:e,tokenKey:$t(e),flags:0},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(ye)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+L(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=e._providers[r];i&&i!==kn&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),cr=$t(function(){}),hr=$t(tt),dr=$t(nt),fr=$t(function(){}),pr=$t(it),gr=$t(function(){}),mr=$t(F);function xr(e,t,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l];u[c[0]]={flags:8,name:l,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var d in s)h.push({type:1,propName:d,target:null,eventName:s[d]});return function(e,t,n,r,i,o,a,s,u){var l=xn(n),c=l.matchedQueries,h=l.references,d=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=I(o);var f=vn(a,L(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:In(s),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}(e,t|=16384,n,r,i,i,o,u,h)}function vr(e,t){return Cr(e,t)}function Sr(e,t){for(var n=e;n.parent&&!pn(n);)n=n.parent;return wr(n.parent,dn(n),!0,t.provider.value,t.provider.deps)}function yr(e,t){var n=wr(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName].subscribe(br(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=o.unsubscribe.bind(o)}return n}function br(e,t,n){return function(r){return cn(e,t,n,r)}}function Cr(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return wr(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Dr(e,t,n,i[0]));case 2:return r(Dr(e,t,n,i[0]),Dr(e,t,n,i[1]));case 3:return r(Dr(e,t,n,i[0]),Dr(e,t,n,i[1]),Dr(e,t,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Dr(e,t,n,i[s]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return Dr(e,t.parent,n,r.deps[0]);case 256:return r.value}}function wr(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Dr(e,t,n,i[0]));case 2:return new r(Dr(e,t,n,i[0]),Dr(e,t,n,i[1]));case 3:return new r(Dr(e,t,n,i[0]),Dr(e,t,n,i[1]),Dr(e,t,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Dr(e,t,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}var _r={};function Dr(e,t,n,r,i){if(void 0===i&&(i=F.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;for(a===gr&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);e;){if(t)switch(a){case cr:return ar(Tr(e,t,n));case hr:return Tr(e,t,n).renderer;case dr:return new nt(Vt(e,t.nodeIndex).renderElement);case fr:return Vt(e,t.nodeIndex).viewContainer;case pr:if(t.element.template)return Vt(e,t.nodeIndex).template;break;case gr:return $n(Tr(e,t,n));case mr:return rr(e,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[a];if(s){var u=Kt(e,s.nodeIndex);return u||(u={instance:Cr(e,s)},e.nodes[s.nodeIndex]=u),u.instance}}n=pn(e),t=dn(e),e=e.parent}var l=o.root.injector.get(r.token,_r);return l!==_r||i===_r?l:o.root.ngModule.injector.get(r.token,i)}function Tr(e,t,n){var r;if(n)r=Vt(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!pn(r);)r=r.parent;return r}function Lr(e,t,n,r,i,o){if(32768&n.flags){var a=Vt(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=ft.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new pt(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Er(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&Pr(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Ir(e,a,t,r)),a=a.parent}}function Ir(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Pr(e,i,o.flags&n,r++),i+=o.childCount}return r}function Pr(e,t,n,r){var i=Kt(e,t);if(i){var o=i.instance;o&&(zt.setCurrentNode(e,t),1048576&n&&Qt(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Qt(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Ar(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:mn(t),bindings:r},ngContent:null}}function Or(e){for(var t=e.def.nodeMatchedQueries;e.parent&&gn(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=e.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&jt(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&e.def.nodeFlags)for(i=0;i<e.def.nodes.length;i++){var o;134217728&(o=e.def.nodes[i]).flags&&536870912&o.flags&&jt(e,i).setDirty(),i+=o.childCount}}function Fr(e,t){var n=jt(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=Rr(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Kt(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Rr(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Rr(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(kr(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Vt(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Rr(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],d=hn(h);d&&d===u&&Rr(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var p=f[c];Rr(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function kr(e,t,n){if(null!=n)switch(n){case 1:return Vt(e,t.nodeIndex).renderElement;case 0:return new nt(Vt(e,t.nodeIndex).renderElement);case 2:return Vt(e,t.nodeIndex).template;case 3:return Vt(e,t.nodeIndex).viewContainer;case 4:return Kt(e,t.nodeIndex).instance}}function Mr(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Nr(e,t,n){var r=Sn(e,t,n);r&&_n(e,n.ngContent.index,1,r,null,void 0)}function Ur(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function qr(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=Sn(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function Br(e,t){return(null!=e?e.toString():"")+t.suffix}function Qr(e,t,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,d=!1,f=null,p=0;p<t.length;p++){var g=t[p];if(g.nodeIndex=p,g.parent=l,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=l?l.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,d=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Vr(l,g,t.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var x=0!=(32768&g.flags);0==(8192&g.flags)||x?l.element.publicProviders[$t(g.provider.token)]=g:(d||(d=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[$t(g.provider.token)]=g),x&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,Gr(g)||(c=g);else for(;l&&p===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&Gr(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Zt,updateRenderer:r||Zt,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Gr(e){return 0!=(1&e.flags)&&null===e.element.name}function Vr(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function Kr(e,t,n,r){var i=zr(e.root,e.renderer,e,t,n);return Wr(i,e.component,r),Yr(i),i}function Hr(e,t,n){var r=zr(e,e.renderer,null,null,t);return Wr(r,n,n),Yr(r),r}function jr(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,zr(e.root,i,e,t.element.componentProvider,n)}function zr(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Wr(e,t,n){e.component=t,e.context=n}function Yr(e){var t;pn(e)&&(t=Vt(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];zt.setCurrentNode(e,i);var a=void 0;switch(201347067&o.flags){case 1:var s=An(e,t,o),u=void 0;if(33554432&o.flags){var l=bn(o.element.componentView);u=zt.createComponentView(e,o,l,s)}On(e,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?tr(e,o):void 0},16777216&o.flags&&(a.viewContainer=Zn(e,o,a));break;case 2:a=qr(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:vr(e,o)});break;case 16:a={instance:Sr(e,o)};break;case 16384:(a=r[i])||(a={instance:yr(e,o)}),32768&o.flags&&Wr(Vt(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new rt;break;case 8:Nr(e,t,o),a=void 0}r[i]=a}ii(e,ri.CreateViewNodes),ui(e,201326592,268435456,0)}function Xr(e){$r(e),zt.updateDirectives(e,1),oi(e,ri.CheckNoChanges),zt.updateRenderer(e,1),ii(e,ri.CheckNoChanges),e.state&=-97}function Zr(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Bt(e,0,256),$r(e),zt.updateDirectives(e,0),oi(e,ri.CheckAndUpdate),ui(e,67108864,536870912,0);var t=Bt(e,256,512);Er(e,2097152|(t?1048576:0)),zt.updateRenderer(e,0),ii(e,ri.CheckAndUpdate),ui(e,134217728,536870912,0),Er(e,8388608|((t=Bt(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Bt(e,768,1024)}function Jr(e,t,n,r,i,o,a,s,u,l,c,h,d){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,u,l,c,h){var d=t.bindings.length,f=!1;return d>0&&Rn(e,t,0,n)&&(f=!0),d>1&&Rn(e,t,1,r)&&(f=!0),d>2&&Rn(e,t,2,i)&&(f=!0),d>3&&Rn(e,t,3,o)&&(f=!0),d>4&&Rn(e,t,4,a)&&(f=!0),d>5&&Rn(e,t,5,s)&&(f=!0),d>6&&Rn(e,t,6,u)&&(f=!0),d>7&&Rn(e,t,7,l)&&(f=!0),d>8&&Rn(e,t,8,c)&&(f=!0),d>9&&Rn(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,a,s,u,l,c,h);case 2:return function(e,t,n,r,i,o,a,s,u,l,c,h){var d=!1,f=t.bindings,p=f.length;if(p>0&&an(e,t,0,n)&&(d=!0),p>1&&an(e,t,1,r)&&(d=!0),p>2&&an(e,t,2,i)&&(d=!0),p>3&&an(e,t,3,o)&&(d=!0),p>4&&an(e,t,4,a)&&(d=!0),p>5&&an(e,t,5,s)&&(d=!0),p>6&&an(e,t,6,u)&&(d=!0),p>7&&an(e,t,7,l)&&(d=!0),p>8&&an(e,t,8,c)&&(d=!0),p>9&&an(e,t,9,h)&&(d=!0),d){var g=t.text.prefix;p>0&&(g+=Br(n,f[0])),p>1&&(g+=Br(r,f[1])),p>2&&(g+=Br(i,f[2])),p>3&&(g+=Br(o,f[3])),p>4&&(g+=Br(a,f[4])),p>5&&(g+=Br(s,f[5])),p>6&&(g+=Br(u,f[6])),p>7&&(g+=Br(l,f[7])),p>8&&(g+=Br(c,f[8])),p>9&&(g+=Br(h,f[9]));var m=Gt(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return d}(e,t,n,r,i,o,a,s,u,l,c,h);case 16384:return function(e,t,n,r,i,o,a,s,u,l,c,h){var d=Kt(e,t.nodeIndex),f=d.instance,p=!1,g=void 0,m=t.bindings.length;return m>0&&on(e,t,0,n)&&(p=!0,g=Lr(e,d,t,0,n,g)),m>1&&on(e,t,1,r)&&(p=!0,g=Lr(e,d,t,1,r,g)),m>2&&on(e,t,2,i)&&(p=!0,g=Lr(e,d,t,2,i,g)),m>3&&on(e,t,3,o)&&(p=!0,g=Lr(e,d,t,3,o,g)),m>4&&on(e,t,4,a)&&(p=!0,g=Lr(e,d,t,4,a,g)),m>5&&on(e,t,5,s)&&(p=!0,g=Lr(e,d,t,5,s,g)),m>6&&on(e,t,6,u)&&(p=!0,g=Lr(e,d,t,6,u,g)),m>7&&on(e,t,7,l)&&(p=!0,g=Lr(e,d,t,7,l,g)),m>8&&on(e,t,8,c)&&(p=!0,g=Lr(e,d,t,8,c,g)),m>9&&on(e,t,9,h)&&(p=!0,g=Lr(e,d,t,9,h,g)),g&&f.ngOnChanges(g),65536&t.flags&&Qt(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,u,l,c,h){var d=t.bindings,f=!1,p=d.length;if(p>0&&an(e,t,0,n)&&(f=!0),p>1&&an(e,t,1,r)&&(f=!0),p>2&&an(e,t,2,i)&&(f=!0),p>3&&an(e,t,3,o)&&(f=!0),p>4&&an(e,t,4,a)&&(f=!0),p>5&&an(e,t,5,s)&&(f=!0),p>6&&an(e,t,6,u)&&(f=!0),p>7&&an(e,t,7,l)&&(f=!0),p>8&&an(e,t,8,c)&&(f=!0),p>9&&an(e,t,9,h)&&(f=!0),f){var g=Ht(e,t.nodeIndex),m=void 0;switch(201347067&t.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=a),p>5&&(m[5]=s),p>6&&(m[6]=u),p>7&&(m[7]=l),p>8&&(m[8]=c),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=a),p>5&&(m[d[5].name]=s),p>6&&(m[d[6].name]=u),p>7&&(m[d[7].name]=l),p>8&&(m[d[8].name]=c),p>9&&(m[d[9].name]=h);break;case 128:var x=n;switch(p){case 1:m=x.transform(n);break;case 2:m=x.transform(r);break;case 3:m=x.transform(r,i);break;case 4:m=x.transform(r,i,o);break;case 5:m=x.transform(r,i,o,a);break;case 6:m=x.transform(r,i,o,a,s);break;case 7:m=x.transform(r,i,o,a,s,u);break;case 8:m=x.transform(r,i,o,a,s,u,l);break;case 9:m=x.transform(r,i,o,a,s,u,l,c);break;case 10:m=x.transform(r,i,o,a,s,u,l,c,h)}}g.value=m}return f}(e,t,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,o,a,s,u,l,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Rn(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)an(e,t,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Br(n[o],r[o]);a=t.text.prefix+a;var s=Gt(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Kt(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)on(e,t,s,n[s])&&(o=!0,a=Lr(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&Qt(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)an(e,t,o,n[o])&&(i=!0);if(i){var a=Ht(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function $r(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Vt(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,ln(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ei(e,t,n,r,i,o,a,s,u,l,c,h,d){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){var d=t.bindings.length;d>0&&sn(e,t,0,n),d>1&&sn(e,t,1,r),d>2&&sn(e,t,2,i),d>3&&sn(e,t,3,o),d>4&&sn(e,t,4,a),d>5&&sn(e,t,5,s),d>6&&sn(e,t,6,u),d>7&&sn(e,t,7,l),d>8&&sn(e,t,8,c),d>9&&sn(e,t,9,h)}(e,t,r,i,o,a,s,u,l,c,h,d):function(e,t,n){for(var r=0;r<n.length;r++)sn(e,t,r,n[r])}(e,t,r),!1}function ti(e,t){if(jt(e,t.nodeIndex).dirty)throw Wt(zt.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function ni(e){if(!(128&e.state)){if(oi(e,ri.Destroy),ii(e,ri.Destroy),Er(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=hn(e);if(t){var n=t.template._projectedViews;n&&(jn(n,n.indexOf(e)),zt.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Vt(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Gt(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&jt(e,n).destroy()}}(e),pn(e)&&e.renderer.destroy(),e.state|=128}}var ri=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ii(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ai(Vt(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function oi(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Vt(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)ai(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ai(e,t){var n=e.state;switch(t){case ri.CheckNoChanges:0==(128&n)&&(12==(12&n)?Xr(e):64&n&&si(e,ri.CheckNoChangesProjectedViews));break;case ri.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Xr(e):64&n&&si(e,t));break;case ri.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Zr(e):64&n&&si(e,ri.CheckAndUpdateProjectedViews));break;case ri.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Zr(e):64&n&&si(e,t));break;case ri.Destroy:ni(e);break;case ri.CreateViewNodes:Yr(e)}}function si(e,t){oi(e,t),ii(e,t)}function ui(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(zt.setCurrentNode(e,a.nodeIndex),r){case 0:Fr(e,a);break;case 1:ti(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var li=!1;function ci(e,t,n,r,i,o){return Hr(di(e,i,i.injector.get($e),t,n),r,o)}function hi(e,t,n,r,i,o){var a=i.injector.get($e),s=di(e,i,new Hi(a),t,n),u=bi(r);return Vi(Pi.create,Hr,null,[s,u,o])}function di(e,t,n,r,i){var o=t.injector.get(qt),a=t.injector.get($);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function fi(e,t,n,r){var i=bi(n);return Vi(Pi.create,Kr,null,[e,t,i,r])}function pi(e,t,n,r){return n=xi.get(t.element.componentProvider.provider.token)||bi(n),Vi(Pi.create,jr,null,[e,t,n,r])}function gi(e,t,n,r){return ur(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===mi.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=mi.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];n&&(r.flags|=4096);var i=mi.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=vn(i.deps),r.value=i.value)}}(e=e.factory(function(){return Zt})),e):e}(r))}var mi=new Map,xi=new Map;function vi(e){mi.set(e.token,e)}function Si(e,t){var n=bn(bn(t.viewDefFactory).nodes[0].element.componentView);xi.set(e,n)}function yi(){mi.clear(),xi.clear()}function bi(e){if(0===mi.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&mi.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Zt});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=mi.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=vn(o.deps),i.value=o.value)}}}}function Ci(e,t,n,r,i,o,a,s,u,l,c,h,d){var f=e.def.nodes[t];return Jr(e,f,n,r,i,o,a,s,u,l,c,h,d),224&f.flags?Ht(e,t).value:void 0}function wi(e,t,n,r,i,o,a,s,u,l,c,h,d){var f=e.def.nodes[t];return ei(e,f,n,r,i,o,a,s,u,l,c,h,d),224&f.flags?Ht(e,t).value:void 0}function _i(e){return Vi(Pi.detectChanges,Zr,null,[e])}function Di(e){return Vi(Pi.checkNoChanges,Xr,null,[e])}function Ti(e){return Vi(Pi.destroy,ni,null,[e])}var Li,Ei,Ii,Pi=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Ai(e,t){Ei=e,Ii=t}function Oi(e,t,n,r){return Ai(e,t),Vi(Pi.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Fi(e,t){if(128&e.state)throw Xt(Pi[Li]);return Ai(e,qi(e,0)),e.def.updateDirectives(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=e.def.nodes[n];return 0===t?ki(e,a,r,i):Mi(e,a,r,i),16384&a.flags&&Ai(e,qi(e,n)),224&a.flags?Ht(e,a.nodeIndex).value:void 0},e)}function Ri(e,t){if(128&e.state)throw Xt(Pi[Li]);return Ai(e,Bi(e,0)),e.def.updateRenderer(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=e.def.nodes[n];return 0===t?ki(e,a,r,i):Mi(e,a,r,i),3&a.flags&&Ai(e,Bi(e,n)),224&a.flags?Ht(e,a.nodeIndex).value:void 0},e)}function ki(e,t,n,r){if(Jr.apply(void 0,[e,t,n].concat(r))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=i[a];8&s.flags&&(o[(d=s.nonMinifiedName,"ng-reflect-"+(d=d.replace(/[$@]/g,"_").replace(Ni,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()})))]=Ui(u))}var l=t.parent,c=Vt(e,l.nodeIndex).renderElement;if(l.element.name)for(var h in o)null!=(u=o[h])?e.renderer.setAttribute(c,h,u):e.renderer.removeAttribute(c,h);else e.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}var d}function Mi(e,t,n,r){ei.apply(void 0,[e,t,n].concat(r))}var Ni=/([A-Z])/g;function Ui(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function qi(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Bi(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Qi=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=dn(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Vt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return rr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Gi(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Gi(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!pn(e);)e=e.parent;return e.parent?Vt(e.parent,dn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?fn(this.view,this.nodeDef):fn(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var o=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(t,n),a=-1;t.factory(function(){return++a===o?(t=e.error).bind.apply(t,[e].concat(r)):Zt;var t}),a<o&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,r))},e}();function Gi(e,t,n){for(var r in t.references)n[r]=kr(e,t,t.references[r])}function Vi(e,t,n,r){var i=Li,o=Ei,a=Ii;try{Li=e;var s=t.apply(n,r);return Ei=o,Ii=a,Li=i,s}catch(e){if(X(e)||!Ei)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Yt(e,t),e}(e,Ki())}}function Ki(){return Ei?new Qi(Ei,Ii):null}var Hi=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new ji(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),ji=function(){function e(e){this.delegate=e,this.data=this.delegate.data}return e.prototype.destroyNode=function(e){!function(e){lt.delete(e.nativeNode)}(ct(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=Ki();if(r){var i=new at(n,null,r);i.name=e,ht(i)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=Ki();return n&&ht(new ot(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=Ki();return n&&ht(new ot(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=ct(e),r=ct(t);n&&r&&n instanceof at&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=ct(e),i=ct(t),o=ct(n);r&&i&&r instanceof at&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=ct(e),r=ct(t);n&&r&&n instanceof at&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e){var t=this.delegate.selectRootElement(e),n=Ki();return n&&ht(new at(t,null,n)),t},e.prototype.setAttribute=function(e,t,n,r){var i=ct(e);i&&i instanceof at&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=ct(e);r&&r instanceof at&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=ct(e);n&&n instanceof at&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=ct(e);n&&n instanceof at&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var i=ct(e);i&&i instanceof at&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=ct(e);r&&r instanceof at&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=ct(e);r&&r instanceof at&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=ct(e);r&&r.listeners.push(new function(e,t){this.name=e,this.callback=t}(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function zi(e,t,n){return new Yi(e,t,n)}var Wi,Yi=function(e){function t(t,n,r){var i=e.call(this)||this;return i.moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.b)(t,e),t.prototype.create=function(e){!function(){if(!li){li=!0;var e=He()?{setCurrentNode:Ai,createRootView:hi,createEmbeddedView:fi,createComponentView:pi,createNgModuleRef:gi,overrideProvider:vi,overrideComponentView:Si,clearOverrides:yi,checkAndUpdateView:_i,checkNoChangesView:Di,destroyView:Ti,createDebugContext:function(e,t){return new Qi(e,t)},handleEvent:Oi,updateDirectives:Fi,updateRenderer:Ri}:{setCurrentNode:function(){},createRootView:ci,createEmbeddedView:Kr,createComponentView:jr,createNgModuleRef:ur,overrideProvider:Zt,overrideComponentView:Zt,clearOverrides:Zt,checkAndUpdateView:Zr,checkNoChangesView:Xr,destroyView:ni,createDebugContext:function(e,t){return new Qi(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Ci:wi,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Ci:wi,e)}};zt.setCurrentNode=e.setCurrentNode,zt.createRootView=e.createRootView,zt.createEmbeddedView=e.createEmbeddedView,zt.createComponentView=e.createComponentView,zt.createNgModuleRef=e.createNgModuleRef,zt.overrideProvider=e.overrideProvider,zt.overrideComponentView=e.overrideComponentView,zt.clearOverrides=e.clearOverrides,zt.checkAndUpdateView=e.checkAndUpdateView,zt.checkNoChangesView=e.checkNoChangesView,zt.destroyView=e.destroyView,zt.resolveDep=Dr,zt.createDebugContext=e.createDebugContext,zt.handleEvent=e.handleEvent,zt.updateDirectives=e.updateDirectives,zt.updateRenderer=e.updateRenderer,zt.dirtyParentQueries=Or}}();var t=bn(this._ngModuleDefFactory);return zt.createNgModuleRef(this.moduleType,e||F.NULL,this._bootstrapComponents,t)},t}(function(){});"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof e&&(e.ngDevMode=!0)),Wi=function(e,t,n){return{parent:Wi,id:null,node:null,data:[],ngStaticData:[],cleanup:null,renderer:null,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}()}).call(t,n("DuR2"))},WgY6:function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=n("FLm2")).loadAsync=n("BT+d"),r.support=n("oKij"),r.defaults=n("e3b7"),r.version="3.1.5",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n("vVrn"),e.exports=r},X3l8:function(e,t,n){var r=n("63KW"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},YaPU:function(e,t,n){"use strict";var r=n("AMGY"),i=n("OVmG"),o=n("tLDX"),a=n("t7NR"),s=n("+CnV");n.d(t,"a",function(){return u});var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(r?r.call(s,this.source):s.add(this.source||!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:((n=e)?1===n.length?n[0]:function(e){return n.reduce(function(e,t){return t(e)},e)}:function(){})(this);var n},e.prototype.toPromise=function(e){var t=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}()},ZjIE:function(e,t,n){"use strict";var r=n("gt5T");function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=0,a=256,s=a+1+29,u=30,l=19,c=2*s+1,h=15,d=16,f=256,p=16,g=17,m=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],b=new Array(2*(s+2));i(b);var C=new Array(2*u);i(C);var w=new Array(512);i(w);var _=new Array(256);i(_);var D=new Array(29);i(D);var T,L,E,I=new Array(u);function P(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function O(e){return e<256?w[e]:w[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function R(e,t,n){e.bi_valid>d-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=n-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){R(e,n[2*t],n[2*t+1])}function M(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function N(e,t,n){var r,i,o=new Array(h+1),a=0;for(r=1;r<=h;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=M(o[s]++,s))}}function U(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<l;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*f]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function q(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function Q(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&B(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function G(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?k(e,i,t):(k(e,(o=_[i])+a+1,t),0!==(s=x[o])&&R(e,i-=D[o],s),k(e,o=O(--r),n),0!==(s=v[o])&&R(e,r-=I[o],s))}while(u<e.last_lit);k(e,f,t)}function V(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=c,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)Q(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Q(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,Q(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,x=0;for(o=0;o<=h;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<c;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>m&&(o=m,x++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=g&&(a=p[r-g]),e.opt_len+=(s=u[2*r])*(o+a),f&&(e.static_len+=s*(d[2*r+1]+a)));if(0!==x){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,x-=2}while(x>0);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),N(o,l,e.bl_count)}function K(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*p]++):s<=10?e.bl_tree[2*g]++:e.bl_tree[2*m]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function H(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)do{k(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(e,i,e.bl_tree),s--),k(e,p,e.bl_tree),R(e,s-3,2)):s<=10?(k(e,g,e.bl_tree),R(e,s-3,3)):(k(e,m,e.bl_tree),R(e,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}i(I);var j=!1;function z(e,t,n,i){R(e,(o<<1)+(i?1:0),3),function(e,t,n,i){q(e),F(e,n),F(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){j||(function(){var e,t,n,r,i,o=new Array(h+1);for(n=0,r=0;r<28;r++)for(D[r]=n,e=0;e<1<<x[r];e++)_[n++]=r;for(_[n-1]=r,i=0,r=0;r<16;r++)for(I[r]=i,e=0;e<1<<v[r];e++)w[i++]=r;for(i>>=7;r<u;r++)for(I[r]=i<<7,e=0;e<1<<v[r]-7;e++)w[256+i++]=r;for(t=0;t<=h;t++)o[t]=0;for(e=0;e<=143;)b[2*e+1]=8,e++,o[8]++;for(;e<=255;)b[2*e+1]=9,e++,o[9]++;for(;e<=279;)b[2*e+1]=7,e++,o[7]++;for(;e<=287;)b[2*e+1]=8,e++,o[8]++;for(N(b,s+1,o),e=0;e<u;e++)C[2*e+1]=5,C[2*e]=M(e,5);T=new P(b,x,a+1,s,h),L=new P(C,v,0,u,h),E=new P(new Array(0),S,0,l,7)}(),j=!0),e.l_desc=new A(e.dyn_ltree,T),e.d_desc=new A(e.dyn_dtree,L),e.bl_desc=new A(e.bl_tree,E),e.bi_buf=0,e.bi_valid=0,U(e)},t._tr_stored_block=z,t._tr_flush_block=function(e,t,n,r){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),V(e,e.l_desc),V(e,e.d_desc),s=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=l-1;t>=3&&0===e.bl_tree[2*y[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(i=e.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?z(e,t,n,r):4===e.strategy||o===i?(R(e,2+(r?1:0),3),G(e,b,C)):(R(e,4+(r?1:0),3),function(e,t,n,r){var i;for(R(e,t-257,5),R(e,n-1,5),R(e,r-4,4),i=0;i<r;i++)R(e,e.bl_tree[2*y[i]+1],3);H(e,e.dyn_ltree,t-1),H(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),G(e,e.dyn_ltree,e.dyn_dtree)),U(e),r&&q(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_[n]+a+1)]++,e.dyn_dtree[2*O(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){R(e,2,3),k(e,f,b),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},a1Qx:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},aIUk:function(e,t,n){"use strict";var r=n("GE67"),i=n("KnAl"),o=n("Ed4+"),a=n("jbop"),s=n("bxoG"),u=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)u.prototype[l[h]]=c;e.exports=u},"bNE/":function(e,t,n){e.exports=!n("ismg")&&!n("a1Qx")(function(){return 7!=Object.defineProperty(n("8vkY")("div"),"a",{get:function(){return 7}}).a})},bxoG:function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},cSWu:function(e,t,n){(t=e.exports=n("Rt1F")).Stream=t,t.Readable=t,t.Writable=n("7dSG"),t.Duplex=n("DsFX"),t.Transform=n("D1Va"),t.PassThrough=n("f48b")},dL6i:function(e,t,n){"use strict";var r=n("hjG0");function i(e){r.call(this,e)}n("71nt").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},dgOU:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},dpth:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return i.call(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},t.extend=function(e){return i.call(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e};var r=[],i=r.forEach,o=r.slice},e3b7:function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},eX64:function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},f1Cs:function(e,t,n){"use strict";var r=n("Gquf"),i=n("71nt"),o=n("j3u2"),a=n("65V/"),s=(n("Ed4+"),n("oKij"));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=i.transformTo(s.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},f48b:function(e,t,n){"use strict";e.exports=o;var r=n("D1Va"),i=n("jOgh");function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n("LC74"),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},fkix:function(e,t,n){"use strict";var r=n("gt5T"),i=n("KpjM"),o=n("2WCG"),a=n("Un+M"),s=n("K0S7"),u=1,l=2,c=0,h=-2,d=1,f=852,p=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,c):h}function x(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):h}function v(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,x(e))):h}function S(e,t){var n,i;return e?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=i,i.window=null,(n=v(e,t))!==c&&(e.state=null),n):h}var y,b,C=!0;function w(e){if(C){var t;for(y=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,b,0,e.work,{bits:5}),C=!1}e.lencode=y,e.lenbits=9,e.distcode=b,e.distbits=5}function _(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=x,t.inflateReset2=v,t.inflateResetKeep=m,t.inflateInit=function(e){return S(e,15)},t.inflateInit2=S,t.inflate=function(e,t){var n,f,p,m,x,v,S,y,b,C,D,T,L,E,I,P,A,O,F,R,k,M,N,U,q=0,B=new r.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),x=e.next_out,p=e.output,m=e.next_in,f=e.input,y=n.hold,b=n.bits,C=v=e.avail_in,D=S=e.avail_out,M=c;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,k=8+(15&(y>>>=4)),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<k,e.adler=n.check=1,n.mode=512&y?10:12,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=o(n.check,B,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=o(n.check,B,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>v&&(T=v),T&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,m,T,k)),512&n.flags&&(n.check=o(n.check,f,T,m)),v-=T,m+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;T=0;do{k=f[m+T++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&T<v);if(512&n.flags&&(n.check=o(n.check,f,T,m)),v-=T,m+=T,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;T=0;do{k=f[m+T++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&T<v);if(512&n.flags&&(n.check=o(n.check,f,T,m)),v-=T,m+=T,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}e.adler=n.check=g(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>v&&(T=v),T>S&&(T=S),0===T)break e;r.arraySet(p,f,m,T,x),v-=T,m+=T,S-=T,x+=T,n.length-=T;break}n.mode=12;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(n.nlen=257+(31&y),b-=5,n.ndist=1+(31&(y>>>=5)),b-=5,n.ncode=4+(15&(y>>>=5)),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.lens[Q[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[Q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M=s(0,n.lens,0,19,n.lencode,0,n.work,N={bits:n.lenbits}),n.lenbits=N.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(q=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&q,!((I=q>>>24)<=b);){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(A<16)y>>>=I,b-=I,n.lens[n.have++]=A;else{if(16===A){for(U=I+2;b<U;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(y>>>=I,b-=I,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}k=n.lens[n.have-1],T=3+(3&y),y>>>=2,b-=2}else if(17===A){for(U=I+3;b<U;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}b-=I,k=0,T=3+(7&(y>>>=I)),y>>>=3,b-=3}else{for(U=I+7;b<U;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}b-=I,k=0,T=11+(127&(y>>>=I)),y>>>=7,b-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;T--;)n.lens[n.have++]=k}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,N={bits:n.lenbits}),n.lenbits=N.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N={bits:n.distbits}),n.distbits=N.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&S>=258){e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,a(e,D),x=e.next_out,p=e.output,S=e.avail_out,m=e.next_in,f=e.input,v=e.avail_in,y=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(q=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&q,!((I=q>>>24)<=b);){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(P&&0==(240&P)){for(O=I,F=P,R=A;P=(q=n.lencode[R+((y&(1<<O+F)-1)>>O)])>>>16&255,A=65535&q,!(O+(I=q>>>24)<=b);){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=I,b-=I,n.back+=I,n.length=A,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(U=n.extra;b<U;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(q=n.distcode[y&(1<<n.distbits)-1])>>>16&255,A=65535&q,!((I=q>>>24)<=b);){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(0==(240&P)){for(O=I,F=P,R=A;P=(q=n.distcode[R+((y&(1<<O+F)-1)>>O)])>>>16&255,A=65535&q,!(O+(I=q>>>24)<=b);){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}y>>>=O,b-=O,n.back+=O}if(y>>>=I,b-=I,n.back+=I,64&P){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(U=n.extra;b<U;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===S)break e;if(n.offset>(T=D-S)){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}L=T>n.wnext?n.wsize-(T-=n.wnext):n.wnext-T,T>n.length&&(T=n.length),E=n.window}else E=p,L=x-n.offset,T=n.length;T>S&&(T=S),S-=T,n.length-=T;do{p[x++]=E[L++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===S)break e;p[x++]=n.length,S--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=f[m++]<<b,b+=8}if(e.total_out+=D-=S,n.total+=D,D&&(e.adler=n.check=n.flags?o(n.check,p,D,x-D):i(n.check,p,D,x-D)),D=S,(n.flags?y:g(y))!==n.check){e.msg="incorrect data check",n.mode=30;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=f[m++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}y=0,b=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return h}return e.next_out=x,e.avail_out=S,e.next_in=m,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||D!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,D-e.avail_out)?(n.mode=31,-4):(D-=e.avail_out,e.total_in+=C-=e.avail_in,e.total_out+=D,n.total+=D,n.wrap&&D&&(e.adler=n.check=n.flags?o(n.check,p,D,e.next_out-D):i(n.check,p,D,e.next_out-D)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===C&&0===D||4===t)&&M===c&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,c},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:(n.head=t,t.done=!1,c):h},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&i(1,t,r,0)!==n.check?-3:_(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):h},t.inflateInfo="pako inflate (from Nodeca project)"},g5jc:function(e,t,n){"use strict";var r=n("TToO"),i=n("YaPU"),o=n("OVmG"),a=n("VwZZ"),s=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return Object(r.b)(t,e),t}(Error),u=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return Object(r.b)(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(a.a),l=n("tLDX");n.d(t,"b",function(){return c}),n.d(t,"a",function(){return h});var c=function(e){function t(t){e.call(this,t),this.destination=t}return Object(r.b)(t,e),t}(o.a),h=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.b)(t,e),t.prototype[l.a]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new u(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.a),d=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return Object(r.b)(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(h)},gt5T:function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a.set(o=e[t],i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},h95s:function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},hCo4:function(e,t,n){var r=n("2cs7"),i=n("IVFP");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},hKHw:function(e,t,n){"use strict";var r=n("71nt"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return"undefined"!=typeof e&&e.length?"string"!==r.getTypeOf(e)?function(t,n,r,o){var a=i,s=0+e.length;t^=-1;for(var u=0;u<s;u++)t=t>>>8^a[255&(t^n[u])];return-1^t}(0|t,e):function(t,n,r,o){var a=i,s=0+e.length;t^=-1;for(var u=0;u<s;u++)t=t>>>8^a[255&(t^n.charCodeAt(u))];return-1^t}(0|t,e):0}},"hbB+":function(e,t,n){"use strict";var r=n("71nt"),i=n("oKij"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,i,a,s,u,l=[],c=0,h=e.length,d=h,f="string"!==r.getTypeOf(e);c<e.length;)d=h-c,f?(t=e[c++],n=c<h?e[c++]:0,i=c<h?e[c++]:0):(t=e.charCodeAt(c++),n=c<h?e.charCodeAt(c++):0,i=c<h?e.charCodeAt(c++):0),a=(3&t)<<4|n>>4,s=d>1?(15&n)<<2|i>>6:64,u=d>2?63&i:64,l.push(o.charAt(t>>2)+o.charAt(a)+o.charAt(s)+o.charAt(u));return l.join("")},t.decode=function(e){var t,n,r,a,s,u,l=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|d):new Array(0|d);l<e.length;)r=o.indexOf(e.charAt(l++)),t=(15&(a=o.indexOf(e.charAt(l++))))<<4|(s=o.indexOf(e.charAt(l++)))>>2,n=(3&s)<<6|(u=o.indexOf(e.charAt(l++))),h[c++]=r<<2|a>>4,64!==s&&(h[c++]=t),64!==u&&(h[c++]=n);return h}},hjG0:function(e,t,n){"use strict";var r=n("MXSK");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n("71nt").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},hoy5:function(e,t,n){(function(r){var i,o,a,s;s=function(e,t,n,i,o,a){var s=void 0!==s?s:"undefined"!=typeof self?self:"undefined"!=typeof r?r:{};(m=m||{}).App=function(){var e,t=this,n=null,r=null,i=null,o=0,a=0,u=0,l=null,c=1,h=!1,d=1,f={x:0,y:0},p={x:0,y:0},g=null,x=null,v=null,S=null,y=null,b=null,C=null,w=new m.html.Style,_=null,D=null,T=null,L=null,E={},I="./";function P(e,t){O([e],new m.io.UrlsLoader,{requestHeaders:t})}function A(c,d,f){T=d;var p=s.onkeydown;s.onkeydown=function(e){e.ctrlKey&&88===e.keyCode&&(console.log("crtl-x pressed!"),t.abortLoad())},t.reset(),u=1===c.length&&"zip"!==(void 0!==c[0].name?c[0].name:c[0]).split(".").pop().toLowerCase(),d.setDefaultCharacterSet(e),d.onload=function(e){n&&g.append(e.view),function(e){if(!g){x=new m.ViewController(g=e.view),S&&S.update(e.info),r=g.getImage();var s=(n=r).getGeometry().getSize();o=s.getNumberOfColumns(),a=s.getNumberOfRows(),function(e,n){var r=t.getElement("imageLayer");(b=new m.html.Layer(r)).initialise(e,n),b.fillContext(),b.setStyleDisplay(!0);var i=t.getElement("drawDiv");i&&(C=new m.DrawController(i)).create(e,n),t.fitToSize(h?m.gui.getWindowSize():{width:t.getElement("layerContainer").offsetWidth,height:t.getElement("layerContainer").offsetHeight}),t.resetLayout()}(o,a),i=b.getContext().createImageData(o,a),g.addEventListener("wl-width-change",t.onWLChange),g.addEventListener("wl-center-change",t.onWLChange),g.addEventListener("colour-change",t.onColourChange),g.addEventListener("slice-change",t.onSliceChange),g.addEventListener("frame-change",t.onFrameChange),g.addEventListener("wl-width-change",F),g.addEventListener("wl-center-change",F),g.addEventListener("colour-change",F),g.addEventListener("position-change",F),g.addEventListener("slice-change",F),g.addEventListener("frame-change",F),_&&_.initAndDisplay(b);var u=t.getElement("dropBox");if(u){u.removeEventListener("dragover",N),u.removeEventListener("dragleave",U),u.removeEventListener("drop",q),m.html.removeNode(u);var c=t.getElement("layerContainer");c.addEventListener("dragover",N),c.addEventListener("dragleave",U),c.addEventListener("drop",q)}t.getElement("infoLayer")&&((v=new m.InfoController(l)).create(t),v.toggleListeners(t,g)),t.initWLDisplay(),R()}}(e)},d.onerror=function(e){B(e)},d.onabort=function(e){!function(e){e.message?console.warn(e.message):console.warn("Abort called."),m.gui.displayProgress(100)}(e)},d.onloadend=function(){s.onkeydown=p,C&&C.activateDrawLayer(x),F({type:"load-progress",lengthComputable:!0,loaded:100,total:100}),F({type:"load-end"}),T=null},d.onprogress=Q,F({type:"load-start"}),d.load(c,f)}function O(e,n,r){n.onload=function(e){var n=new m.State;n.apply(t,n.fromJSON(e))},n.onerror=function(e){B(e)},n.load(e,r)}function F(e){if(void 0!==E[e.type])for(var t=0;t<E[e.type].length;++t)E[e.type][t](e)}function R(){g.generateImageData(i),b.setImageData(i),b.draw()}function k(){b&&(b.zoom(d,d,f.x,f.y),b.draw()),C&&C.zoomStage(d,f),F({type:"zoom-change",scale:d,cx:f.x,cy:f.y})}function M(){if(b){if(b.translate(p.x,p.y),b.draw(),C){var e=-b.getOrigin().x/d-p.x,t=-b.getOrigin().y/d-p.y;C.translateStage(e,t)}F({type:"offset-change",scale:d,cx:b.getTrans().x,cy:b.getTrans().y})}}function N(e){e.stopPropagation(),e.preventDefault();var n=t.getElement("dropBox");n&&(n.className="dropBox hover")}function U(e){e.stopPropagation(),e.preventDefault();var n=t.getElement("dropBox hover");n&&(n.className="dropBox")}function q(e){e.stopPropagation(),e.preventDefault(),t.loadFiles(e.dataTransfer.files)}function B(e){e.name&&e.message?alert(e.name+": "+e.message):alert("Error: "+e+"."),e.stack&&console.error(e.stack),m.gui.displayProgress(100)}function Q(e){if(F(e),e.lengthComputable){var t=Math.ceil(e.loaded/e.total*100);m.gui.displayProgress(t)}}this.getImage=function(){return n},this.setImage=function(e){n=e,g.setImage(e)},this.restoreOriginalImage=function(){n=r,g.setImage(r)},this.getImageData=function(){return i},this.isMonoSliceData=function(){return u},this.getScale=function(){return d/c},this.getWindowScale=function(){return c},this.getScaleCenter=function(){return f},this.getTranslation=function(){return p},this.getViewController=function(){return x},this.getDrawController=function(){return C},this.getImageLayer=function(){return b},this.getDrawStage=function(){return C.getDrawStage()},this.getStyle=function(){return w},this.getHelpResourcesPath=function(){return I},this.addToUndoStack=function(e){null!==L&&L.add(e)},this.init=function(t){if(l=t.containerDivId,t.tools&&0!==t.tools.length){for(var n={},r=0;r<t.tools.length;++r){var i=t.tools[r];if("Draw"===i){if(0!==t.shapes){for(var o={},a=0;a<t.shapes.length;++a){var u=t.shapes[a],c=u+"Factory";void 0!==m.tool[c]?o[u]=m.tool[c]:console.warn("Could not initialise unknown shape: "+u)}n.Draw=new m.tool.Draw(this,o),n.Draw.addEventListener("draw-create",F),n.Draw.addEventListener("draw-change",F),n.Draw.addEventListener("draw-move",F),n.Draw.addEventListener("draw-delete",F)}}else if("Filter"===i){if(0!==t.filters.length){for(var d={},f=0;f<t.filters.length;++f){var p=t.filters[f];void 0!==m.tool.filter[p]?d[p]=new m.tool.filter[p](this):console.warn("Could not initialise unknown filter: "+p)}n.Filter=new m.tool.Filter(d,this),n.Filter.addEventListener("filter-run",F),n.Filter.addEventListener("filter-undo",F)}}else{var g=i;void 0!==m.tool[g]?(n[g]=new m.tool[g](this),void 0!==n[g].addEventListener&&n[g].addEventListener(F)):console.warn("Could not initialise unknown tool: "+i)}}(_=new m.ToolboxController).create(n,this)}if(t.gui){if(-1!==t.gui.indexOf("tool")&&_&&_.setup(),-1!==t.gui.indexOf("load")){for(var x={},v=0;v<t.loaders.length;++v){var b=t.loaders[v],C=b+"Load";void 0!==m.gui[C]?x[b]=new m.gui[C](this):console.warn("Could not initialise unknown loader: "+b)}(D=new m.gui.Loadbox(this,x)).setup();for(var w=Object.keys(x),T=0;T<w.length;++T)x[w[T]].setup();D.displayLoader(w[0])}if(-1!==t.gui.indexOf("undo")&&(L=new m.tool.UndoStack(this)).setup(),-1!==t.gui.indexOf("tags")&&(S=new m.gui.DicomTags(this)),-1!==t.gui.indexOf("drawList")&&(y=new m.gui.DrawList(this),this.addEventListener("draw-create",y.update),this.addEventListener("draw-change",y.update),this.addEventListener("draw-delete",y.update)),-1!==t.gui.indexOf("version")&&m.gui.appendVersionHtml(m.getVersion()),-1!==t.gui.indexOf("help")){var E=!0;"undefined"!==t.isMobile&&(E=t.isMobile),void 0!==t.helpResourcesPath&&(I=t.helpResourcesPath),m.gui.appendHelpHtml(_.getToolList(),E,this)}}var A=this.getElement("dropBox");if(A){A.addEventListener("dragover",N),A.addEventListener("dragleave",U),A.addEventListener("drop",q);var O=2*m.gui.getWindowSize().height/3;A.setAttribute("style","width:"+O+"px;height:"+O+"px")}if(void 0===t.skipLoadUrl){var R=m.utils.getUriQuery(s.location.href);R&&void 0!==R.input&&(m.utils.decodeQuery(R,this.onInputURLs),void 0!==R.state)&&this.addEventListener("load-end",function(){P(R.state)})}else console.log("Not loading url from address since skipLoadUrl is defined.");t.fitToWindow&&(h=!0,s.onresize=this.onResize),void 0!==t.defaultCharacterSet&&(e=t.defaultCharacterSet)},this.getElement=function(e){return m.gui.getElement(l,e)},this.reset=function(){_&&_.reset(),C&&C.reset(),g=n=null,u=!1,L&&(L=new m.tool.UndoStack(this)).initialise()},this.resetLayout=function(){var e=d,t=f,n=p;d=c,f={x:0,y:0},p={x:0,y:0},b&&(b.resetLayout(c),b.draw()),C&&C.resetStage(c),e!=d&&F({type:"zoom-change",scale:d,cx:f.x,cy:f.y}),t.x===f.x&&t.y===f.y&&n.x===p.x&&n.y===p.y||F({type:"offset-change",scale:d,cx:f.x,cy:f.y})},this.addEventListener=function(e,t){void 0===E[e]&&(E[e]=[]),E[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==E[e])for(var n=0;n<E[e].length;++n)E[e][n]===t&&E[e].splice(n,1)},this.loadFiles=function(e){"json"===e[0].name.split(".").pop().toLowerCase()?O([e[0]],new m.io.FilesLoader):A(e,new m.io.FilesLoader)},this.loadURLs=function(e,t){var n;"json"===e[0].split(".").pop().toLowerCase()?P(e[0],t):(n=t,A(e,new m.io.UrlsLoader,{requestHeaders:n}))},this.abortLoad=function(){T&&(T.abort(),T=null)},this.loadImageObject=function(e){A(e,new m.io.MemoryLoader,{})},this.fitToSize=function(e){var t=parseInt(c*o,10);c=Math.min(e.width/o,e.height/a);var n=parseInt(c*o,10),r=parseInt(c*a,10);d*=n/t,w.setScale(c),this.getElement("layerContainer").setAttribute("style","width:"+n+"px;height:"+r+"px"),b&&(b.setWidth(n),b.setHeight(r),b.zoom(d,d,0,0),b.draw()),C&&C.resizeStage(n,r,d)},this.toggleInfoLayerDisplay=function(){var e=t.getElement("infoLayer");m.html.toggleDisplay(e),v.toggleListeners(t,g)},this.initWLDisplay=function(){x.setWindowLevelPresetById(0),x.setCurrentPosition2D(0,0),x.setCurrentFrame(0)},this.addToolCanvasListeners=function(e){_.addCanvasListeners(e)},this.removeToolCanvasListeners=function(e){_.removeCanvasListeners(e)},this.render=function(){R()},this.zoom=function(e,t,n){(d=e*c)<=.1&&(d=.1),f={x:t,y:n},k()},this.stepZoom=function(e,t,n){(d+=e)<=.1&&(d=.1),f={x:t,y:n},k()},this.translate=function(e,t){p={x:e,y:t},M()},this.stepTranslate=function(e,t){p={x:p.x+e/d,y:p.y+t/d},M()},this.getDrawDisplayDetails=function(){return C.getDrawDisplayDetails()},this.getDrawStoreDetails=function(){return C.getDrawStoreDetails()},this.setDrawings=function(e,t){C.setDrawings(e,t,F,this.addToUndoStack),C.activateDrawLayer(x)},this.updateDraw=function(e){C.updateDraw(e)},this.deleteDraws=function(){C.deleteDraws(F,this.addToUndoStack)},this.isGroupVisible=function(e){return C.isGroupVisible(e)},this.toogleGroupVisibility=function(e){C.toogleGroupVisibility(e)},this.onWLChange=function(e){void 0!==e.skipGenerate&&!1!==e.skipGenerate||R()},this.onColourChange=function(){R()},this.onFrameChange=function(){R(),C&&C.activateDrawLayer(x)},this.onSliceChange=function(){R(),C&&C.activateDrawLayer(x)},this.onKeydown=function(e){e.ctrlKey&&(37===e.keyCode?(e.preventDefault(),t.getViewController().decrementFrameNb()):38===e.keyCode?(e.preventDefault(),t.getViewController().incrementSliceNb()):39===e.keyCode?(e.preventDefault(),t.getViewController().incrementFrameNb()):40===e.keyCode?(e.preventDefault(),t.getViewController().decrementSliceNb()):89===e.keyCode?L.redo():90===e.keyCode&&L.undo())},this.onResize=function(){t.fitToSize(m.gui.getWindowSize())},this.onZoomReset=function(){t.resetLayout()},this.onChangeLoader=function(e){D.displayLoader(e.currentTarget.value)},this.resetLoadbox=function(){D.reset()},this.onChangeURL=function(e){t.loadURLs([e.target.value])},this.onInputURLs=function(e,n){t.loadURLs(e,n)},this.onChangeFiles=function(e){var n=e.target.files;0!==n.length&&t.loadFiles(n)},this.onStateSave=function(){var e=new m.State;t.getElement("download-state").href="data:application/json,"+e.toJSON(t)},this.onChangeColourMap=function(e){x.setColourMapFromName(e.currentTarget.value)},this.onChangeWindowLevelPreset=function(e){x.setWindowLevelPreset(e.currentTarget.value)},this.onChangeTool=function(e){_.setSelectedTool(e.currentTarget.value)},this.onChangeShape=function(e){_.setSelectedShape(e.currentTarget.value)},this.onChangeFilter=function(e){_.setSelectedFilter(e.currentTarget.value)},this.onRunFilter=function(){_.runSelectedFilter()},this.onChangeLineColour=function(e){_.setLineColour(e.currentTarget.value)},this.onChangeMinMax=function(e){_.setRange(e)},this.onUndo=function(){L.undo()},this.onRedo=function(){L.redo()},this.onToggleInfoLayer=function(){t.toggleInfoLayerDisplay()},this.onDisplayReset=function(){t.resetLayout(),t.initWLDisplay();var e=t.getElement("presetSelect");e&&(e.selectedIndex=0,m.gui.refreshElement(e))}},(m=m||{}).draw=m.draw||{},o=o||{},m.draw.getDrawPositionGroupId=function(e,t){return"slice-"+e+"_frame-"+t},m.draw.getPositionFromGroupId=function(e){var t=e.indexOf("_");return-1===t&&console.warn("Badly formed PositionGroupId: "+e),{sliceNumber:e.substring(6,t),frameNumber:e.substring(t+7)}},m.draw.isNodeNameShape=function(e){return"shape"===e.name()},m.draw.isNodeNameShapeExtra=function(e){return e.name().startsWith("shape-")},m.draw.isNodeNameLabel=function(e){return"label"===e.name()},m.draw.isPositionNode=function(e){return"position-group"===e.name()},m.draw.isNodeWithId=function(e){return function(t){return t.id()===e}},m.draw.canNodeChangeColour=function(e){return"anchor"!==e.name()&&"label"!==e.name()},m.draw.getHierarchyLog=function(e,t){void 0===t&&(t="");for(var n=e.getChildren(),r=t+"|__ "+e.name()+": "+e.id()+"\n",i=0;i<n.length;++i)r+=m.draw.getHierarchyLog(n[i],t+"    ");return r},m.DrawController=function(e){var t,n=null,r=null;this.getCurrentPosGroup=function(){var e=t.getChildren(function(e){return e.id()===r}),n=null;return 1===e.length?n=e[0]:0===e.length?((n=new o.Group).name("position-group"),n.id(r),n.visible(!0),t.add(n)):console.warn("Unexpected number of draw position groups."),n},this.create=function(r,i){(n=new o.Stage({container:e,width:r,height:i,listening:!1})).getContent().setAttribute("style",""),t=new o.Layer({listening:!1,hitGraphEnabled:!1,visible:!0}),n.add(t)},this.getDrawLayer=function(){return t},this.reset=function(){t=null},this.getDrawStage=function(){return n},this.activateDrawLayer=function(e){var n=e.getCurrentPosition().k,i=e.getCurrentFrame();r=m.draw.getDrawPositionGroupId(n,i);for(var o,a=t.getChildren(m.draw.isPositionNode),s=0,u=a.length;s<u;++s)o=!1,a[s].id()===r&&(o=!0),a[s].visible(o);t.draw()},this.resetStage=function(e){n.offset({x:0,y:0}),n.scale({x:e,y:e}),n.draw()},this.resizeStage=function(t,r,i){e.setAttribute("style","width:"+t+"px;height:"+r+"px"),n.setWidth(t),n.setHeight(r),n.scale({x:i,y:i}),n.draw()},this.zoomStage=function(e,t){var r={x:e,y:e},i=n.scale(),o=n.offset();n.offset({x:t.x/i.x+o.x-t.x/r.x,y:t.y/i.y+o.y-t.y/r.y}),n.scale(r),n.draw()},this.translateStage=function(e,t){n.offset({x:e,y:t}),n.draw()},this.getDrawDisplayDetails=function(){for(var e=[],n=t.getChildren(),r=0,i=n.length;r<i;++r)for(var o=m.draw.getPositionFromGroupId(n[r].id()),a=n[r].getChildren(),s=0,u=a.length;s<u;++s){var l=a[s].getChildren(m.draw.isNodeNameShape)[0],c=a[s].getChildren(m.draw.isNodeNameLabel)[0].getChildren()[0],h=l.className;if("Line"===h){var d=a[s].getChildren(m.draw.isNodeNameShapeExtra);l.closed()?h="Roi":0!==d.length&&(h=-1!==d[0].name().indexOf("triangle")?"Arrow":"Ruler")}"Rect"===h&&(h="Rectangle"),e.push({id:a[s].id(),slice:o.sliceNumber,frame:o.frameNumber,type:h,color:l.stroke(),label:c.textExpr,description:c.longText})}return e},this.getDrawStoreDetails=function(){for(var e,n,r={},i=t.getChildren(m.draw.isPositionNode),o=0,a=i.length;o<a;++o)for(var s=0,u=(e=i[o].getChildren()).length;s<u;++s){for(var l=(n=e[s]).find(".anchor"),c=0;c<l.length;++c)l[c].remove();var h=n.find(".text");1!==h.length&&console.warn("There should not be more than one text per shape."),r[n.id()]={textExpr:encodeURIComponent(h[0].textExpr),longText:encodeURIComponent(h[0].longText),quant:h[0].quant}}return r},this.setDrawings=function(e,n,r,i){for(var a=o.Node.create(e).getChildren(m.draw.isPositionNode),s=0,u=a.length;s<u;++s){var l=a[s],c=t.getChildren(m.draw.isNodeWithId(l.id()))[0];void 0===c&&(c=new o.Group({id:l.id(),name:"position-group",visible:!1}),t.add(c));for(var h=l.getChildren(),d=0,f=h.length;d<f;++d){var p=h[d];c.add(p);var g=p.getChildren(m.draw.isNodeNameShape)[0],x=new m.tool.DrawGroupCommand(p,g.className,t);if(x.onExecute=r,x.onUndo=r,n){var v=n[p.id()],S=p.getChildren(m.draw.isNodeNameLabel)[0].getText();S.textExpr=v.textExpr,S.longText=v.longText,S.quant=v.quant,S.setText(m.utils.replaceFlags(S.textExpr,S.quant))}x.execute(),i(x)}}},this.updateDraw=function(e){var n=t.findOne("#"+e.id);if(void 0!==n){for(var r=n.getChildren(m.draw.isNodeNameShape),i=0;i<r.length;++i)r[i].stroke(e.color);for(var o=n.getChildren(m.draw.isNodeNameShapeExtra),a=0;a<o.length;++a)void 0!==o[a].stroke()?o[a].stroke(e.color):void 0!==o[a].fill()&&o[a].fill(e.color);var s=n.getChildren(m.draw.isNodeNameLabel)[0].getChildren()[0];s.fill(e.color),s.textExpr=e.label,s.longText=e.description,s.setText(m.utils.replaceFlags(s.textExpr,s.quant)),t.draw()}else console.warn("[updateDraw] Cannot find group with id: "+e.id)},this.isGroupVisible=function(e){var n=t.findOne("#"+e.id);return void 0===n?(console.warn("[isGroupVisible] Cannot find node with id: "+e.id),!1):n.isVisible()},this.toogleGroupVisibility=function(e){var n=t.findOne("#"+e.id);if(void 0===n)return console.warn("[toogleGroupVisibility] Cannot find node with id: "+e.id),!1;n.visible(!n.isVisible()),t.draw()},this.deleteDraws=function(e,n){for(var r,i=t.getChildren();i.length;){var o=i[0].getChildren(m.draw.isNodeNameShape)[0];(r=new m.tool.DeleteGroupCommand(i[0],m.tool.GetShapeDisplayName(o),t)).onExecute=e,r.onUndo=e,r.execute(),n(r)}}},(m=m||{}).InfoController=function(e){var t=null,n=null,r=[],i=!1;function o(t){return m.gui.getElement(e,t)}this.create=function(e){var i=o("infocm");i&&(n=new m.gui.info.MiniColourMap(i,e)).create();for(var a=["tl","tc","tr","cl","cr","bl","bc","br"],s=0,u=0;u<a.length;u++){var l=a[u],c=o("info"+l);c&&(r[s]=new m.gui.info.Overlay(c,l,e),r[s].create(),s++)}var h=o("plot");h&&(t=new m.gui.info.Plot(h,e)).create()},this.toggleListeners=function(e,o){i?function(e,o){if(t&&(o.removeEventListener("wl-width-change",t.update),o.removeEventListener("wl-center-change",t.update)),n&&(o.removeEventListener("wl-width-change",n.update),o.removeEventListener("wl-center-change",n.update),o.removeEventListener("colour-change",n.update)),0<r.length)for(var a=0;a<r.length;a++)e.removeEventListener("zoom-change",r[a].update),o.removeEventListener("wl-width-change",r[a].update),o.removeEventListener("wl-center-change",r[a].update),o.removeEventListener("position-change",r[a].update),o.removeEventListener("frame-change",r[a].update);i=!1}(e,o):function(e,o){if(t&&(o.addEventListener("wl-width-change",t.update),o.addEventListener("wl-center-change",t.update)),n&&(o.addEventListener("wl-width-change",n.update),o.addEventListener("wl-center-change",n.update),o.addEventListener("colour-change",n.update)),0<r.length)for(var a=0;a<r.length;a++)e.addEventListener("zoom-change",r[a].update),o.addEventListener("wl-width-change",r[a].update),o.addEventListener("wl-center-change",r[a].update),o.addEventListener("position-change",r[a].update),o.addEventListener("frame-change",r[a].update);i=!0}(e,o)}},o=o||{},(m=m||{}).State=function(){this.toJSON=function(e){return JSON.stringify({version:"0.3","window-center":e.getViewController().getWindowLevel().center,"window-width":e.getViewController().getWindowLevel().width,position:e.getViewController().getCurrentPosition(),scale:e.getScale(),scaleCenter:e.getScaleCenter(),translation:e.getTranslation(),drawings:e.getDrawController().getDrawLayer().toObject(),drawingsDetails:e.getDrawStoreDetails()})},this.fromJSON=function(e){var t,n,r,i=JSON.parse(e),o=null;if("0.1"===i.version)r=m.v01Tov02DrawingsAndDetails((n=i).drawings),n.drawings=m.v02Tov03Drawings(r.drawings).toObject(),n.drawingsDetails=r.drawingsDetails,o=n;else if("0.2"===i.version)(t=i).drawings=m.v02Tov03Drawings(t.drawings).toObject(),t.drawingsDetails=m.v02Tov03DrawingsDetails(t.drawingsDetails),o=t;else{if("0.3"!==i.version)throw new Error("Unknown state file format version: '"+i.version+"'.");o=i}return o},this.apply=function(e,t){e.getViewController().setWindowLevel(t["window-center"],t["window-width"]),e.getViewController().setCurrentPosition(t.position),e.zoom(t.scale,t.scaleCenter.x,t.scaleCenter.y),e.translate(t.translation.x,t.translation.y),e.setDrawings(t.drawings,t.drawingsDetails)}},m.v02Tov03Drawings=function(e){for(var t,n,r,i=new o.Layer({listening:!1,hitGraphEnabled:!1,visible:!0}),a="string"==typeof e?JSON.parse(e):e,s=0,u=a.length;s<u;++s)for(var l=0,c=a[s].length;l<c;++l)if(0!==(n=a[s][l]).length){r=new o.Group({id:m.draw.getDrawPositionGroupId(s,l),name:"position-group",visible:!1});for(var h=0,d=n.length;h<d;++h)(t=o.Node.create(n[h])).draggable(!0),t.getChildren().forEach(function(e){e.draggable(!1)}),r.add(t);i.add(r)}return i},m.v01Tov02DrawingsAndDetails=function(e){for(var t,n,r=[],i={},a=0,s=e.length;a<s;++a){r[a]=[];for(var u=0,l=e[a].length;u<l;++u){for(var c=[],h=0,d=(t=e[a][u]).length;h<d;++h){(n=o.Node.create(t[h])).visible(!0);var f={x:0,y:0},p=n.getChildren(function(e){return"shape"===e.name()})[0];if(p.stroke(m.getColourHex(p.stroke())),"line-group"===n.name()){n.name("ruler-group");var g=new o.Line({points:[p.points()[0],p.points()[1],p.points()[0],p.points()[1]],name:"shape-tick0"});n.add(g);var x=new o.Line({points:[p.points()[2],p.points()[3],p.points()[2],p.points()[3]],name:"shape-tick1"});n.add(x)}var v=n.getChildren(function(e){return"arc"===e.name()});1===v.length&&v[0].name("shape-arc");var S=n.getChildren(function(e){return"text"===e.name()}),y=new o.Text({name:"text",text:""});1===S.length?(f.x=S[0].x(),f.y=S[0].y(),S[0].remove(),y=S[0]):0!==p.points().length&&(f={x:p.points()[0],y:p.points()[1]});var b=new o.Label({x:f.x,y:f.y,name:"label"});b.add(y),b.add(new o.Tag),n.add(b),c.push(JSON.stringify(n.toObject()));var C=y.text(),w=C.length,_=null;"ruler-group"===n.name()?(_={length:{value:parseFloat(C.substr(0,w-2)),unit:C.substr(-2,2)}},C="{length}"):"ellipse-group"===n.name()||"rectangle-group"===n.name()?(_={surface:{value:parseFloat(C.substr(0,w-3)),unit:C.substr(-3,3)}},C="{surface}"):"protractor-group"!==n.name()&&"rectangle-group"!==n.name()||(_={angle:{value:parseFloat(C.substr(0,w-1)),unit:C.substr(-1,1)}},C="{angle}"),i[n.id()]={textExpr:C,longText:"",quant:_}}r[a].push(c)}}return{drawings:r,drawingsDetails:i}},m.v02Tov03DrawingsDetails=function(e){for(var t={},n="string"==typeof e?JSON.parse(e):e,r=0,i=n.length;r<i;++r)for(var o=0,a=n[r].length;o<a;++o)for(var s=0,u=n[r][o].length;s<u;++s){var l=n[r][o][s];t[l.id]={textExpr:l.textExpr,longText:l.longText,quant:l.quant}}return t},m.getColourHex=function(e){var t={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"},n="#ffff00";return void 0!==t[e]&&(n=t[e]),n},(m=m||{}).ToolboxController=function(){var e=null,t=null;function n(n){var r=!1,i=null,o=null;if("touchstart"===n.type||"touchmove"===n.type?(i=m.html.getEventOffset(n),n._xs=i[0].x,n._ys=i[0].y,o=t(i[0]),n._x=parseInt(o.x,10),n._y=parseInt(o.y,10),2===i.length&&(n._x1s=i[1].x,n._y1s=i[1].y,o=t(i[1]),n._x1=parseInt(o.x,10),n._y1=parseInt(o.y,10)),r=!0):"mousemove"===n.type||"mousedown"===n.type||"mouseup"===n.type||"mouseout"===n.type||"mousewheel"===n.type||"dblclick"===n.type||"DOMMouseScroll"===n.type?(i=m.html.getEventOffset(n),n._xs=i[0].x,n._ys=i[0].y,o=t(i[0]),n._x=parseInt(o.x,10),n._y=parseInt(o.y,10),r=!0):"keydown"!==n.type&&"touchend"!==n.type||(r=!0),r){"keydown"!==n.type&&n.preventDefault();var a=e.getSelectedTool()[n.type];a&&a(n)}}this.create=function(t,n){e=new m.tool.Toolbox(t,n)},this.setup=function(){e.setup()},this.reset=function(){e.reset()},this.initAndDisplay=function(r){e.init(),e.display(!0),t=r.displayToIndex,this.addCanvasListeners(r.getCanvas()),s.addEventListener("keydown",n,!0)},this.getToolList=function(){return e.getToolList()},this.getSelectedToolEventHandler=function(t){return e.getSelectedTool()[t]},this.setSelectedTool=function(t){e.setSelectedTool(t)},this.setSelectedShape=function(t){e.getSelectedTool().setShapeName(t)},this.setSelectedFilter=function(t){e.getSelectedTool().setSelectedFilter(t)},this.runSelectedFilter=function(){e.getSelectedTool().getSelectedFilter().run()},this.setLineColour=function(t){e.getSelectedTool().setLineColour(t)},this.setRange=function(t){e&&e.getSelectedTool()&&e.getSelectedTool().getSelectedFilter()&&e.getSelectedTool().getSelectedFilter().run(t)},this.addCanvasListeners=function(e){e.setAttribute("style","pointer-events: auto;"),e.addEventListener("mousedown",n),e.addEventListener("mousemove",n),e.addEventListener("mouseup",n),e.addEventListener("mouseout",n),e.addEventListener("mousewheel",n),e.addEventListener("DOMMouseScroll",n),e.addEventListener("dblclick",n),e.addEventListener("touchstart",n),e.addEventListener("touchmove",n),e.addEventListener("touchend",n)},this.removeCanvasListeners=function(e){e.setAttribute("style","pointer-events: none;"),e.removeEventListener("mousedown",n),e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",n),e.removeEventListener("mouseout",n),e.removeEventListener("mousewheel",n),e.removeEventListener("DOMMouseScroll",n),e.removeEventListener("dblclick",n),e.removeEventListener("touchstart",n),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",n)}},(m=m||{}).ViewController=function(e){var t=this,n=null;this.getWindowLevelPresetsNames=function(){return e.getWindowPresetsNames()},this.addWindowLevelPresets=function(t){return e.addWindowPresets(t)},this.setWindowLevelPreset=function(t){e.setWindowLevelPreset(t)},this.setWindowLevelPresetById=function(t){e.setWindowLevelPresetById(t)},this.isPlaying=function(){return null!==n},this.getCurrentPosition=function(){return e.getCurrentPosition()},this.setCurrentPosition=function(t){return e.setCurrentPosition(t)},this.setCurrentPosition2D=function(t,n){return e.setCurrentPosition({i:t,j:n,k:e.getCurrentPosition().k})},this.setCurrentSlice=function(t){return e.setCurrentPosition({i:e.getCurrentPosition().i,j:e.getCurrentPosition().j,k:t})},this.incrementSliceNb=function(){return t.setCurrentSlice(e.getCurrentPosition().k+1)},this.decrementSliceNb=function(){return t.setCurrentSlice(e.getCurrentPosition().k-1)},this.getCurrentFrame=function(){return e.getCurrentFrame()},this.setCurrentFrame=function(t){return e.setCurrentFrame(t)},this.incrementFrameNb=function(){return e.setCurrentFrame(e.getCurrentFrame()+1)},this.decrementFrameNb=function(){return e.setCurrentFrame(e.getCurrentFrame()-1)},this.goFirstSlice=function(){return e.setCurrentPosition({i:e.getCurrentPosition().i,j:e.getCurrentPosition().j,k:0})},this.play=function(){if(null===n){var r=e.getImage().getGeometry().getSize().getNumberOfSlices(),i=e.getImage().getNumberOfFrames();n=setInterval(function(){1!==r?t.incrementSliceNb()||t.setCurrentSlice(0):1!==i&&(t.incrementFrameNb()||t.setCurrentFrame(0))},300)}else this.stop()},this.stop=function(){null!==n&&(clearInterval(n),n=null)},this.getWindowLevel=function(){return{width:e.getCurrentWindowLut().getWindowLevel().getWidth(),center:e.getCurrentWindowLut().getWindowLevel().getCenter()}},this.setWindowLevel=function(t,n){e.setWindowLevel(t,n)},this.getColourMap=function(){return e.getColourMap()},this.setColourMap=function(t){e.setColourMap(t)},this.setColourMapFromName=function(e){if(!m.tool.colourMaps[e])throw new Error("Unknown colour map: '"+e+"'");this.setColourMap(m.tool.colourMaps[e])}},(m=m||{}).dicom=m.dicom||{},m.getVersion=function(){return"0.23.2"},m.dicom.cleanString=function(e){var t=e;return e&&(t=e.trim())[t.length-1]===String.fromCharCode("u200B")&&(t=t.substring(0,t.length-1)),t},m.dicom.isNativeLittleEndian=function(){return 0<new Int8Array(new Int16Array([1]).buffer)[0]},m.dicom.getUtfLabel=function(e){var t="utf-8";return"ISO_IR 100"===e?t="iso-8859-1":"ISO_IR 101"===e?t="iso-8859-2":"ISO_IR 109"===e?t="iso-8859-3":"ISO_IR 110"===e?t="iso-8859-4":"ISO_IR 144"===e?t="iso-8859-5":"ISO_IR 127"===e?t="iso-8859-6":"ISO_IR 126"===e?t="iso-8859-7":"ISO_IR 138"===e?t="iso-8859-8":"ISO_IR 148"===e?t="iso-8859-9":"ISO_IR 13"===e?t="shift-jis":"ISO_IR 166"===e?t="iso-8859-11":"ISO 2022 IR 87"===e?t="iso-2022-jp":"ISO 2022 IR 149"===e||"ISO 2022 IR 58"===e||("ISO_IR 192"===e?t="utf-8":"GB18030"===e?t="gb18030":"GB2312"===e?t="gb2312":"GBK"===e&&(t="chinese")),t},m.dicom.DataReader=function(e,t){void 0===t&&(t=!0);var n={decode:function(e){for(var t="",n=0,r=e.length;n<r;++n)t+=String.fromCharCode(e[n]);return t}},r=n;void 0!==s.TextDecoder&&(r=new TextDecoder("iso-8859-1")),this.setUtfLabel=function(e){void 0!==s.TextDecoder&&(r=new TextDecoder(e))};var i=m.dicom.isNativeLittleEndian(),o=t!==i,a=new DataView(e);this.flipArrayEndianness=function(e){for(var t,n=e.byteLength,r=new Uint8Array(e.buffer,e.byteOffset,n),i=e.BYTES_PER_ELEMENT,o=0;o<n;o+=i)for(var a=o+i-1,s=o;s<a;a--,s++)t=r[s],r[s]=r[a],r[a]=t},this.readUint16=function(e){return a.getUint16(e,t)},this.readUint32=function(e){return a.getUint32(e,t)},this.readInt32=function(e){return a.getInt32(e,t)},this.readUint8Array=function(t,n){return new Uint8Array(e,t,n)},this.readInt8Array=function(t,n){return new Int8Array(e,t,n)},this.readUint16Array=function(n,r){var i=r/Uint16Array.BYTES_PER_ELEMENT,s=null;if(n%Uint16Array.BYTES_PER_ELEMENT==0)s=new Uint16Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Uint16Array(i);for(var u=0;u<i;++u)s[u]=a.getInt16(n+Uint16Array.BYTES_PER_ELEMENT*u,t)}return s},this.readInt16Array=function(n,r){var i=r/Int16Array.BYTES_PER_ELEMENT,s=null;if(n%Int16Array.BYTES_PER_ELEMENT==0)s=new Int16Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Int16Array(i);for(var u=0;u<i;++u)s[u]=a.getInt16(n+Int16Array.BYTES_PER_ELEMENT*u,t)}return s},this.readUint32Array=function(n,r){var i=r/Uint32Array.BYTES_PER_ELEMENT,s=null;if(n%Uint32Array.BYTES_PER_ELEMENT==0)s=new Uint32Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Uint32Array(i);for(var u=0;u<i;++u)s[u]=a.getUint32(n+Uint32Array.BYTES_PER_ELEMENT*u,t)}return s},this.readInt32Array=function(n,r){var i=r/Int32Array.BYTES_PER_ELEMENT,s=null;if(n%Int32Array.BYTES_PER_ELEMENT==0)s=new Int32Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Int32Array(i);for(var u=0;u<i;++u)s[u]=a.getInt32(n+Int32Array.BYTES_PER_ELEMENT*u,t)}return s},this.readFloat32Array=function(n,r){var i=r/Float32Array.BYTES_PER_ELEMENT,s=null;if(n%Float32Array.BYTES_PER_ELEMENT==0)s=new Float32Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Float32Array(i);for(var u=0;u<i;++u)s[u]=a.getFloat32(n+Float32Array.BYTES_PER_ELEMENT*u,t)}return s},this.readFloat64Array=function(n,r){var i=r/Float64Array.BYTES_PER_ELEMENT,s=null;if(n%Float64Array.BYTES_PER_ELEMENT==0)s=new Float64Array(e,n,i),o&&this.flipArrayEndianness(s);else{s=new Float64Array(i);for(var u=0;u<i;++u)s[u]=a.getFloat64(n+Float64Array.BYTES_PER_ELEMENT*u,t)}return s},this.readHex=function(e){var t=this.readUint16(e).toString(16);return"0x0000".substr(0,6-t.length)+t.toUpperCase()},this.readString=function(e,t){var r=this.readUint8Array(e,t);return n.decode(r)},this.readSpecialString=function(e,t){var n=this.readUint8Array(e,t);return r.decode(n)}},m.dicom.getGroupElementFromName=function(e){var t=null,n=null,r=m.dicom.dictionary,i=Object.keys(r),o=null;e:for(var a=0,s=i.length;a<s;++a){t=i[a];for(var u=0,l=(o=Object.keys(r[t])).length;u<l;++u)if(r[t][n=o[u]][2]===e)break e}return{group:t,element:n}},m.dicom.Tag=function(e,t){this.getGroup=function(){return e},this.getElement=function(){return t}},m.dicom.Tag.prototype.equals=function(e){return null!==e&&this.getGroup()===e.getGroup()&&this.getElement()===e.getElement()},m.dicom.Tag.prototype.equals2=function(e){return null!==e&&void 0!==e.group&&void 0!==e.element&&this.equals(new m.dicom.Tag(e.group,e.element))},m.dicom.getFileMetaInformationGroupLengthTag=function(){return new m.dicom.Tag("0x0002","0x0000")},m.dicom.getItemTag=function(){return new m.dicom.Tag("0xFFFE","0xE000")},m.dicom.getItemDelimitationItemTag=function(){return new m.dicom.Tag("0xFFFE","0xE00D")},m.dicom.getSequenceDelimitationItemTag=function(){return new m.dicom.Tag("0xFFFE","0xE0DD")},m.dicom.getPixelDataTag=function(){return new m.dicom.Tag("0x7FE0","0x0010")},m.dicom.getGroupElementKey=function(e,t){return"x"+e.substr(2,6)+t.substr(2,6)},m.dicom.splitGroupElementKey=function(e){return{group:e.substr(1,4),element:e.substr(5,8)}},m.dicom.getReverseOrientation=function(e){if(!e)return null;for(var t={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"},n="",r=0;r<e.length;r++){var i=t[e.substr(r,1)];i&&(n+=i)}return n},m.dicom.isImplicitTransferSyntax=function(e){return"1.2.840.10008.1.2"===e},m.dicom.isBigEndianTransferSyntax=function(e){return"1.2.840.10008.1.2.2"===e},m.dicom.isJpegBaselineTransferSyntax=function(e){return"1.2.840.10008.1.2.4.50"===e||"1.2.840.10008.1.2.4.51"===e},m.dicom.isJpegRetiredTransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.5/)&&!m.dicom.isJpegBaselineTransferSyntax()&&!m.dicom.isJpegLosslessTransferSyntax()||null!==e.match(/1.2.840.10008.1.2.4.6/)},m.dicom.isJpegLosslessTransferSyntax=function(e){return"1.2.840.10008.1.2.4.57"===e||"1.2.840.10008.1.2.4.70"===e},m.dicom.isJpeglsTransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.8/)},m.dicom.isJpeg2000TransferSyntax=function(e){return null!==e.match(/1.2.840.10008.1.2.4.9/)},m.dicom.getSyntaxDecompressionName=function(e){var t=null;return m.dicom.isJpeg2000TransferSyntax(e)?t="jpeg2000":m.dicom.isJpegBaselineTransferSyntax(e)?t="jpeg-baseline":m.dicom.isJpegLosslessTransferSyntax(e)&&(t="jpeg-lossless"),t},m.dicom.isReadSupportedTransferSyntax=function(e){return"1.2.840.10008.1.2"===e||"1.2.840.10008.1.2.1"===e||"1.2.840.10008.1.2.2"===e||m.dicom.isJpegBaselineTransferSyntax(e)||m.dicom.isJpegLosslessTransferSyntax(e)||m.dicom.isJpeg2000TransferSyntax(e)},m.dicom.getTransferSyntaxName=function(e){var t="Unknown";return"1.2.840.10008.1.2"===e?t="Little Endian Implicit":"1.2.840.10008.1.2.1"===e?t="Little Endian Explicit":"1.2.840.10008.1.2.1.99"===e?t="Little Endian Deflated Explicit":"1.2.840.10008.1.2.2"===e?t="Big Endian Explicit":m.dicom.isJpegBaselineTransferSyntax(e)?t="1.2.840.10008.1.2.4.50"===e?"JPEG Baseline":"JPEG Extended, Process 2+4":m.dicom.isJpegLosslessTransferSyntax(e)?t="1.2.840.10008.1.2.4.57"===e?"JPEG Lossless, Nonhierarchical (Processes 14)":"JPEG Lossless, Non-hierarchical, 1st Order Prediction":m.dicom.isJpegRetiredTransferSyntax(e)?t="Retired JPEG":m.dicom.isJpeglsTransferSyntax(e)?t="JPEG-LS":m.dicom.isJpeg2000TransferSyntax(e)?t="1.2.840.10008.1.2.4.91"===e?"JPEG 2000 (Lossless or Lossy)":"JPEG 2000 (Lossless only)":"1.2.840.10008.1.2.4.100"===e?t="MPEG2":"1.2.840.10008.1.2.5"===e&&(t="RLE"),t},m.dicom.getTypedArray=function(e,t,n){var r=null;return 8===e?r=0===t?new Uint8Array(n):new Int8Array(n):16===e?r=0===t?new Uint16Array(n):new Int16Array(n):32===e&&(r=0===t?new Uint32Array(n):new Int32Array(n)),r},m.dicom.is32bitVLVR=function(e){return"OB"===e||"OW"===e||"OF"===e||"ox"===e||"UT"===e||"SQ"===e||"UN"===e},m.dicom.isTagWithVR=function(e,t){return!("0xFFFE"===e&&("0xE000"===t||"0xE00D"===t||"0xE0DD"===t))},m.dicom.getDataElementPrefixByteSize=function(e,t){return t?8:m.dicom.is32bitVLVR(e)?12:8},m.dicom.DicomParser=function(){var e;this.dicomElements={},this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t}},m.dicom.DicomParser.prototype.getRawDicomElements=function(){return this.dicomElements},m.dicom.DicomParser.prototype.getDicomElements=function(){return new m.dicom.DicomElementsWrapper(this.dicomElements)},m.dicom.DicomParser.prototype.readTag=function(e,t){var n=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;var r=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{group:n,element:r,name:m.dicom.getGroupElementKey(n,r),endOffset:t}},m.dicom.DicomParser.prototype.readItemDataElement=function(e,t,n){var r={},i=this.readDataElement(e,t,n);t=i.endOffset;var o="xFFFEE0DD"===i.tag.name;if(o)return{data:r,endOffset:i.endOffset,isSeqDelim:o};if("u/l"!==(r[i.tag.name]=i).vl){if(0!==i.vl){var a=t;for(t-=i.vl;t<a;)t=(i=this.readDataElement(e,t,n)).endOffset,r[i.tag.name]=i}}else for(var s=!1;!s;)t=(i=this.readDataElement(e,t,n)).endOffset,(s="xFFFEE00D"===i.tag.name)||(r[i.tag.name]=i);return{data:r,endOffset:t,isSeqDelim:!1}},m.dicom.DicomParser.prototype.readPixelItemDataElement=function(e,t,n){var r=[],i=this.readDataElement(e,t,n),o=i.vl;t=i.endOffset;for(var a=!1;!a;)t=(i=this.readDataElement(e,t,n)).endOffset,(a="xFFFEE0DD"===i.tag.name)||r.push(i.value);return{data:r,endOffset:t,offsetTableVl:o}},m.dicom.DicomParser.prototype.readDataElement=function(e,t,n){var r=this.readTag(e,t);t=r.endOffset;var i=null,o=!1;if(m.dicom.isTagWithVR(r.group,r.element))if(n){i="UN";var a=m.dicom.dictionary;void 0!==a[r.group]&&void 0!==a[r.group][r.element]&&(i=m.dicom.dictionary[r.group][r.element][0]),o=!0}else i=e.readString(t,2),t+=2*Uint8Array.BYTES_PER_ELEMENT,(o=m.dicom.is32bitVLVR(i))&&(t+=2*Uint8Array.BYTES_PER_ELEMENT);else i="UN",o=!0;var s=0;o?(s=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(s=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);var u=s;4294967295===s&&(u="u/l",s=0);var l=t,c=null,h="x7FE00010"===r.name;if(h&&"u/l"===u){var d=this.readPixelItemDataElement(e,t,n);t=d.endOffset,l+=d.offsetTableVl,c=d.data}else if(!h||"OB"!==i&&"OW"!==i&&"OF"!==i&&"ox"!==i)if("OB"===i)c=e.readInt8Array(t,s),t+=s;else if("OW"===i)c=e.readInt16Array(t,s),t+=s;else if("OF"===i)c=e.readInt32Array(t,s),t+=s;else if("OD"===i)c=e.readInt64Array(t,s),t+=s;else if("US"===i)c=e.readUint16Array(t,s),t+=s;else if("UL"===i)c=e.readUint32Array(t,s),t+=s;else if("SS"===i)c=e.readInt16Array(t,s),t+=s;else if("SL"===i)c=e.readInt32Array(t,s),t+=s;else if("FL"===i)c=e.readFloat32Array(t,s),t+=s;else if("FD"===i)c=e.readFloat64Array(t,s),t+=s;else if("AT"===i){var f=e.readUint16Array(t,s);t+=s,c=[];for(var p=0,g=f.length;p<g;p+=2){var x=f[p].toString(16),v=f[p+1].toString(16),S="(";S+="0000".substr(0,4-x.length)+x.toUpperCase(),S+=",",S+="0000".substr(0,4-v.length)+v.toUpperCase(),c.push(S+=")")}}else if("UN"===i)c=e.readUint8Array(t,s),t+=s;else if("SQ"===i){var y;if(c=[],"u/l"!==u){if(0!==s)for(var b=t+s;t<b;)y=this.readItemDataElement(e,t,n),c.push(y.data),t=y.endOffset}else for(var C=!1;!C;)C=(y=this.readItemDataElement(e,t,n)).isSeqDelim,t=y.endOffset,C||c.push(y.data)}else c="SH"===i||"LO"===i||"ST"===i||"PN"===i||"LT"===i||"UT"===i?e.readSpecialString(t,s):e.readString(t,s),t+=s,c=c.split("\\");else{var w=16;void 0!==this.dicomElements.x00280100?w=this.dicomElements.x00280100.value[0]:console.warn("Reading DICOM pixel data with default bitsAllocated."),8===w&&"OW"===i&&console.warn("Reading DICOM pixel data with vr=OW and bitsAllocated=8 (should be 16)."),16===w&&"OB"===i&&console.warn("Reading DICOM pixel data with vr=OB and bitsAllocated=16 (should be 8).");var _=0;void 0!==this.dicomElements.x00280103&&(_=this.dicomElements.x00280103.value[0]),8===w?c=0===_?e.readUint8Array(t,s):e.readInt8Array(t,s):16===w?c=0===_?e.readUint16Array(t,s):e.readInt16Array(t,s):32===w?c=0===_?e.readUint32Array(t,s):e.readInt32Array(t,s):64===w&&(c=0===_?e.readUint64Array(t,s):e.readInt64Array(t,s)),t+=s}return{tag:r,vr:i,vl:u,value:c,startOffset:l,endOffset:t}},m.dicom.DicomParser.prototype.parse=function(e){var t=0,n=!1,r=new m.dicom.DataReader(e),i=new m.dicom.DataReader(e),o=r.readString(t=128,4);if(t+=4*Uint8Array.BYTES_PER_ELEMENT,"DICM"!==o)throw new Error("Not a valid DICOM file (no magic DICM word found)");var a=this.readDataElement(r,t,!1);t=a.endOffset,this.dicomElements[a.tag.name]=a;for(var s=t+parseInt(a.value[0],10);t<s;)t=(a=this.readDataElement(r,t,!1)).endOffset,this.dicomElements[a.tag.name]=a;if(void 0===this.dicomElements.x00020010)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");var u=m.dicom.cleanString(this.dicomElements.x00020010.value[0]);if(!m.dicom.isReadSupportedTransferSyntax(u))throw new Error("Unsupported DICOM transfer syntax: '"+u+"' ("+m.dicom.getTransferSyntaxName(u)+")");for(m.dicom.isImplicitTransferSyntax(u)&&(n=!0),m.dicom.isBigEndianTransferSyntax(u)&&(i=new m.dicom.DataReader(e,!1)),void 0!==this.getDefaultCharacterSet()&&i.setUtfLabel(this.getDefaultCharacterSet());t<e.byteLength;){var l;"x00080005"===(a=this.readDataElement(i,t,n)).tag.name&&(1===a.value.length?l=m.dicom.cleanString(a.value[0]):(l=m.dicom.cleanString(a.value[1]),console.warn("Unsupported character set with code extensions: '"+l+"'.")),i.setUtfLabel(m.dicom.getUtfLabel(l))),t=a.endOffset,this.dicomElements[a.tag.name]=a}if(e.byteLength!==t&&console.warn("Did not reach the end of the buffer: "+t+" != "+e.byteLength),void 0!==this.dicomElements.x7FE00010){var c=1;if(void 0!==this.dicomElements.x00280008&&(c=this.dicomElements.x00280008.value[0]),"u/l"!==this.dicomElements.x7FE00010.vl){(m.dicom.isJpeg2000TransferSyntax(u)||m.dicom.isJpegBaselineTransferSyntax(u)||m.dicom.isJpegLosslessTransferSyntax(u))&&console.warn("Compressed but no items...");for(var h=this.dicomElements.x7FE00010.value,d=this.dicomElements.x00280011.value[0]*this.dicomElements.x00280010.value[0]*this.dicomElements.x00280002.value[0],f=[],p=0,g=0;g<c;++g)f[g]=h.slice(p,p+d),p+=d;this.dicomElements.x7FE00010.value=f}else{var x=this.dicomElements.x7FE00010.value;if(1<x.length&&x.length>c){for(var v=x.length/c,S=[],y=0,b=0;b<c;++b){y=b*v;for(var C=0,w=0;w<v;++w)C+=x[y+w].length;for(var _=new x[0].constructor(C),D=0,T=0;T<v;++T)_.set(x[y+T],D),D+=x[y+T].length;S[b]=_}this.dicomElements.x7FE00010.value=S}}}},m.dicom.DicomElementsWrapper=function(e){this.getDEFromKey=function(t){return e[t]},this.getFromKey=function(t,n){void 0===n&&(n=!1);var r=null,i=e[t];return void 0!==i&&(r=1===i.value.length&&!1===n?i.value[0]:i.value),r},this.dumpToTable=function(){for(var t=Object.keys(e),n=m.dicom.dictionary,r=[],i=null,o=null,a=null,s=0,u=t.length;s<u;++s)a={},o=null,void 0!==n[(i=e[t[s]]).tag.group]&&void 0!==n[i.tag.group][i.tag.element]&&(o=n[i.tag.group][i.tag.element]),a.name=null!==o?o[2]:"Unknown Tag & Data",a.value=this.getElementValueAsString(i),a.group=i.tag.group,a.element=i.tag.element,a.vr=i.vr,a.vl=i.vl,r.push(a);return r},this.dump=function(){var t=Object.keys(e),n="\n";n+="# Dicom-File-Format\n",n+="\n",n+="# Dicom-Meta-Information-Header\n",n+="# Used TransferSyntax: ",m.dicom.isNativeLittleEndian()?n+="Little Endian Explicit\n":n+="NOT Little Endian Explicit\n";for(var r=null,i=!0,o=0,a=t.length;o<a;++o){if(r=e[t[o]],i&&"0x0002"!==r.tag.group){n+="\n",n+="# Dicom-Data-Set\n",n+="# Used TransferSyntax: ";var s=m.dicom.cleanString(e.x00020010.value[0]);n+=m.dicom.getTransferSyntaxName(s),n+="\n",i=!1}n+=this.getElementAsString(r)+"\n"}return n}},m.dicom.DicomElementsWrapper.prototype.getElementValueAsString=function(e,t){var n="";if(void 0===t&&(t=!0),null==e)return n;var r=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};if("SQ"!==e.vr&&1===e.value.length&&""===e.value[0])n+="(no value available)";else if("0x7FE0"===e.tag.group&&"0x0010"===e.tag.element&&"u/l"===e.vl)n="(PixelSequence)";else if("DA"===e.vr&&t){var i=e.value[0],o=parseInt(i.substr(0,4),10),a=parseInt(i.substr(4,2),10)-1,s=parseInt(i.substr(6,2),10);n=new Date(o,a,s).toLocaleDateString()}else if("TM"===e.vr&&t){var u=e.value[0];n=u.substr(0,2)+":"+(4<=u.length?u.substr(2,2):"00")+":"+(6<=u.length?u.substr(4,2):"00")}else for(var l="O"===e.vr[0].toUpperCase(),c="FL"===e.vr||"FD"===e.vr||"DS"===e.vr,h="",d=0,f=e.value.length;d<f;++d){if(h="",0!==d&&(h+="\\"),c){var p=e.value[d];"string"==typeof p&&(p=m.dicom.cleanString(p));var g=Number(p);!r(g)&&t?h+=g.toPrecision(4):h+=g.toString()}else if(l){var x=e.value[d].toString(16);h+=x="OB"===e.vr?"00".substr(0,2-x.length)+x:"0000".substr(0,4-x.length)+x}else h+="string"==typeof e.value[d]?m.dicom.cleanString(e.value[d]):e.value[d];if(!(n.length+h.length<=65)){n+="...";break}n+=h}return n},m.dicom.DicomElementsWrapper.prototype.getElementValueAsStringFromKey=function(e){return this.getElementValueAsString(this.getDEFromKey(e))},m.dicom.DicomElementsWrapper.prototype.getElementAsString=function(e,t){t=t||"";var n=m.dicom.dictionary,r=null;void 0!==n[e.tag.group]&&void 0!==n[e.tag.group][e.tag.element]&&(r=n[e.tag.group][e.tag.element]);var i=e.value.length,o="O"===e.vr[0].toUpperCase();"0xFFFE"!==e.tag.group||"0xE00D"!==e.tag.element&&"0xE0DD"!==e.tag.element?o&&(i=1):i=0;var a="0x7FE0"===e.tag.group&&"0x0010"===e.tag.element&&"u/l"===e.vl,s=null;s="(",s+=e.tag.group.substr(2,5).toLowerCase(),s+=",",s+=e.tag.element.substr(2,5).toLowerCase(),s+=") ",s+=e.vr,"SQ"!==e.vr&&1===e.value.length&&""===e.value[0]?(s+=" (no value available)",i=0):"na"===e.vr?(s+=" ",s+=e.value[0]):a?s+=" (PixelSequence #="+i+")":"SQ"===e.vr?(s+=" (Sequence with",s+="u/l"===e.vl?" undefined":" explicit",s+=" length #=",s+=e.value.length,s+=")"):o||"pi"===e.vr||"UL"===e.vr||"US"===e.vr||"SL"===e.vr||"SS"===e.vr||"FL"===e.vr||"FD"===e.vr||"AT"===e.vr?(s+=" ",s+=this.getElementValueAsString(e,!1)):(s+=" [",s+=this.getElementValueAsString(e,!1),s+="]");var u=55-s.length;if(0<u)for(var l=0;l<u;++l)s+=" ";s+=" # ",e.vl<100&&(s+=" "),e.vl<10&&(s+=" "),s+=e.vl,s+=", ",s+=i,s+=" ",s+=null!==r?r[2]:"Unknown Tag & Data";var c=null;if("SQ"===e.vr){for(var h=null,d=0,f=e.value.length;d<f;++d){h=e.value[d];var p=Object.keys(h);if(0!==p.length){var g=h.xFFFEE000;c="(Item with",c+="u/l"===g.vl?" undefined":" explicit",g.value=[c+=" length #="+(p.length-1)+")"],g.vr="na",s+="\n",s+=this.getElementAsString(g,t+"  ");for(var x=0,v=p.length;x<v;++x)"xFFFEE000"!==p[x]&&(s+="\n",s+=this.getElementAsString(h[p[x]],t+"    "));c="(ItemDelimitationItem","u/l"!==g.vl&&(c+=" for re-encoding");var S={tag:{group:"0xFFFE",element:"0xE00D"},vr:"na",vl:"0",value:[c+=")"]};s+="\n",s+=this.getElementAsString(S,t+"  ")}}c="(SequenceDelimitationItem","u/l"!==e.vl&&(c+=" for re-encod.");var y={tag:{group:"0xFFFE",element:"0xE0DD"},vr:"na",vl:"0",value:[c+=")"]};s+="\n",s+=this.getElementAsString(y,t)}else if(a){for(var b=null,C=0,w=e.value.length;C<w;++C)s+="\n",(b=e.value[C]).vr="pi",s+=this.getElementAsString(b,t+"  ");s+="\n",s+=this.getElementAsString({tag:{group:"0xFFFE",element:"0xE0DD"},vr:"na",vl:"0",value:["(SequenceDelimitationItem)"]},t)}return t+s},m.dicom.DicomElementsWrapper.prototype.getFromGroupElement=function(e,t){return this.getFromKey(m.dicom.getGroupElementKey(e,t))},m.dicom.DicomElementsWrapper.prototype.getFromName=function(e){var t=null,n=m.dicom.getGroupElementFromName(e);return null!==n.group&&null!==n.element&&(t=this.getFromKey(m.dicom.getGroupElementKey(n.group,n.element))),t},(m=m||{}).dicom=m.dicom||{},m.dicom.DataWriter=function(e,t){void 0===t&&(t=!0);var n=new DataView(e);this.writeUint8=function(e,t){return n.setUint8(e,t),e+Uint8Array.BYTES_PER_ELEMENT},this.writeInt8=function(e,t){return n.setInt8(e,t),e+Int8Array.BYTES_PER_ELEMENT},this.writeUint16=function(e,r){return n.setUint16(e,r,t),e+Uint16Array.BYTES_PER_ELEMENT},this.writeInt16=function(e,r){return n.setInt16(e,r,t),e+Int16Array.BYTES_PER_ELEMENT},this.writeUint32=function(e,r){return n.setUint32(e,r,t),e+Uint32Array.BYTES_PER_ELEMENT},this.writeInt32=function(e,r){return n.setInt32(e,r,t),e+Int32Array.BYTES_PER_ELEMENT},this.writeFloat32=function(e,r){return n.setFloat32(e,r,t),e+Float32Array.BYTES_PER_ELEMENT},this.writeFloat64=function(e,r){return n.setFloat64(e,r,t),e+Float64Array.BYTES_PER_ELEMENT},this.writeHex=function(e,r){var i=parseInt(r.substr(2),16);return n.setUint16(e,i,t),e+Uint16Array.BYTES_PER_ELEMENT},this.writeString=function(e,t){for(var r=0,i=t.length;r<i;++r)n.setUint8(e,t.charCodeAt(r)),e+=Uint8Array.BYTES_PER_ELEMENT;return e}},m.dicom.DataWriter.prototype.writeUint8Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint8(e,t[n]);return e},m.dicom.DataWriter.prototype.writeInt8Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt8(e,t[n]);return e},m.dicom.DataWriter.prototype.writeUint16Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint16(e,t[n]);return e},m.dicom.DataWriter.prototype.writeInt16Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt16(e,t[n]);return e},m.dicom.DataWriter.prototype.writeUint32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeUint32(e,t[n]);return e},m.dicom.DataWriter.prototype.writeInt32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeInt32(e,t[n]);return e},m.dicom.DataWriter.prototype.writeFloat32Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeFloat32(e,t[n]);return e},m.dicom.DataWriter.prototype.writeFloat64Array=function(e,t){for(var n=0,r=t.length;n<r;++n)e=this.writeFloat64(e,t[n]);return e},m.dicom.DataWriter.prototype.writeStringArray=function(e,t){for(var n=0,r=t.length;n<r;++n)0!==n&&(e=this.writeString(e,"\\")),e=this.writeString(e,t[n].toString());return e},m.dicom.DataWriter.prototype.writeDataElementItems=function(e,t,n){for(var r=null,i=0;i<t.length;++i){r=t[i];var o=Object.keys(r);if(0!==o.length){var a=r.xFFFEE000;a.value=[];var s="u/l"===a.vl;s&&(a.vl=4294967295),e=this.writeDataElement(a,e,n);for(var u=0;u<o.length;++u)"xFFFEE000"!==o[u]&&"xFFFEE00D"!==o[u]&&(e=this.writeDataElement(r[o[u]],e,n));s&&(e=this.writeDataElement({tag:{group:"0xFFFE",element:"0xE00D",name:"ItemDelimitationItem"},vr:"NONE",vl:0,value:[]},e,n))}}return e},m.dicom.DataWriter.prototype.writeDataElementValue=function(e,t,n,r){if(n instanceof Uint8Array)t=this.writeUint8Array(t,n);else if(n instanceof Int8Array)t=this.writeInt8Array(t,n);else if(n instanceof Uint16Array)t=this.writeUint16Array(t,n);else if(n instanceof Int16Array)t=this.writeInt16Array(t,n);else if(n instanceof Uint32Array)t=this.writeUint32Array(t,n);else if(n instanceof Int32Array)t=this.writeInt32Array(t,n);else if("UN"===e)t=this.writeUint8Array(t,n);else if("OB"===e)t=this.writeInt8Array(t,n);else if("OW"===e)t=this.writeInt16Array(t,n);else if("OF"===e)t=this.writeInt32Array(t,n);else if("OD"===e)t=this.writeInt64Array(t,n);else if("US"===e)t=this.writeUint16Array(t,n);else if("SS"===e)t=this.writeInt16Array(t,n);else if("UL"===e)t=this.writeUint32Array(t,n);else if("SL"===e)t=this.writeInt32Array(t,n);else if("FL"===e)t=this.writeFloat32Array(t,n);else if("FD"===e)t=this.writeFloat64Array(t,n);else if("SQ"===e)t=this.writeDataElementItems(t,n,r);else if("AT"===e)for(var i=0;i<n.length;++i){var o=n[i]+"",a=o.substring(1,5),s=o.substring(6,10),u=parseInt(a,16),l=parseInt(s,16),c=new Uint16Array([u,l]);t=this.writeUint16Array(t,c)}else t=this.writeStringArray(t,n);return t},m.dicom.DataWriter.prototype.writePixelDataElementValue=function(e,t,n,r,i){if("u/l"!==t){var o=r[0];1<r.length&&(o=m.dicom.flattenArrayOfTypedArrays(r)),n=this.writeDataElementValue(e,n,o,i)}else{for(var a={xFFFEE000:{tag:{group:"0xFFFE",element:"0xE000",name:"xFFFEE000"},vr:"UN",vl:0,value:[]}},s=0;s<r.length;++s)a[s]={tag:{group:"0xFFFE",element:"0xE000",name:"xFFFEE000"},vr:e,vl:r[s].length,value:r[s]};n=this.writeDataElementItems(n,[a],i)}return n},m.dicom.DataWriter.prototype.writeDataElement=function(e,t,n){var r=m.dicom.isTagWithVR(e.tag.group,e.tag.element),i=!(!n&&r)||m.dicom.is32bitVLVR(e.vr);t=this.writeHex(t,e.tag.group),t=this.writeHex(t,e.tag.element),r&&!n&&(t=this.writeString(t,e.vr),i&&(t+=2));var o=e.vl;(m.dicom.isImplicitLengthSequence(e)||m.dicom.isImplicitLengthItem(e)||m.dicom.isImplicitLengthPixels(e))&&(o=4294967295),t=i?this.writeUint32(t,o):this.writeUint16(t,o);var a=e.value;return void 0===a&&(a=[]),t="x7FE00010"===e.tag.name?this.writePixelDataElementValue(e.vr,e.vl,t,a,n):this.writeDataElementValue(e.vr,t,a,n),(m.dicom.isImplicitLengthSequence(e)||m.dicom.isImplicitLengthPixels(e))&&(t=this.writeDataElement({tag:{group:"0xFFFE",element:"0xE0DD",name:"SequenceDelimitationItem"},vr:"NONE",vl:0,value:[]},t,n)),t},m.dicom.isImplicitLengthSequence=function(e){return"SQ"===e.vr&&"u/l"===e.vl},m.dicom.isImplicitLengthItem=function(e){return"xFFFEE000"===e.tag.name&&"u/l"===e.vl},m.dicom.isImplicitLengthPixels=function(e){return"x7FE00010"===e.tag.name&&"u/l"===e.vl},m.dicom.flattenArrayOfTypedArrays=function(e){for(var t=e.length,n=e[0].length,r=new e[0].constructor(t*n),i=0;i<t;i++)r.set(e[i],i*n);return r},m.dicom.DicomWriter=function(){var e={copy:function(e){return e},remove:function(){return null},clear:function(e){return e.value[0]="",e.vl=0,e.endOffset=e.startOffset,e},replace:function(e,t){return e.value[0]=t,e.vl=t.length,e.endOffset=e.startOffset+t.length,e}};this.rules={default:{action:"copy",value:null}},this.anonymisationRules={default:{action:"remove",value:null},PatientName:{action:"replace",value:"Anonymized"},"Meta Element":{action:"copy",value:null},Acquisition:{action:"copy",value:null},"Image Presentation":{action:"copy",value:null},Procedure:{action:"copy",value:null},"Pixel Data":{action:"copy",value:null}},this.getElementToWrite=function(t){var n,r=null,i=m.dicom.dictionary,o=t.tag.group,a=m.dicom.TagGroups[o.substr(1)];return void 0!==i[o]&&void 0!==i[o][t.tag.element]&&(r=i[o][t.tag.element][2]),e[(n=void 0!==this.rules[t.tag.name]?this.rules[t.tag.name]:null!==r&&void 0!==this.rules[r]?this.rules[r]:void 0!==this.rules[a]?this.rules[a]:this.rules.default).action](t,n.value)}},m.dicom.DicomWriter.prototype.getBuffer=function(e){for(var t,n,r=Object.keys(e),i=m.dicom.cleanString(e.x00020010.value[0]),o=m.dicom.isImplicitTransferSyntax(i),a=m.dicom.isBigEndianTransferSyntax(i),s=132,u=0,l=[],c=[],h=0,d=m.dicom.getFileMetaInformationGroupLengthTag(),f=new m.dicom.Tag("0x0002","0x0012"),p=new m.dicom.Tag("0x0002","0x0013"),g=0,x=r.length;g<x;++g)null===(t=this.getElementToWrite(e[r[g]]))||d.equals2(t.tag)||f.equals2(t.tag)||p.equals2(t.tag)||(u=0,u+="Meta Element"===(n=m.dicom.TagGroups[t.tag.group.substr(1)])?m.dicom.getDataElementPrefixByteSize(t.vr,!1):m.dicom.getDataElementPrefixByteSize(t.vr,o),u+=parseInt(t.endOffset-t.startOffset,10),(m.dicom.isImplicitLengthSequence(t)||m.dicom.isImplicitLengthPixels(t))&&(u+=m.dicom.getDataElementPrefixByteSize("NONE",o)),"Meta Element"===n?(l.push(t),h+=u):c.push(t),s+=u);var v=m.dicom.getDicomElement("ImplementationClassUID"),S=m.dicom.getDataElementPrefixByteSize(v.vr,o);S+=m.dicom.setElementValue(v,"1.2.826.0.1.3680043.9.7278.1."+m.getVersion(),!1),l.push(v),h+=S,s+=S;var y=m.dicom.getDicomElement("ImplementationVersionName"),b=m.dicom.getDataElementPrefixByteSize(y.vr,o),C="DWV_"+m.getVersion();C.length%2==1&&(C+="\0"),b+=m.dicom.setElementValue(y,C,!1),l.push(y),h+=b,s+=b;var w=m.dicom.getDicomElement("FileMetaInformationGroupLength"),_=m.dicom.getDataElementPrefixByteSize(w.vr,o);s+=_+=m.dicom.setElementValue(w,h,!1);var D=new ArrayBuffer(s),T=new m.dicom.DataWriter(D),L=new m.dicom.DataWriter(D,!a),E=128;E=T.writeString(E,"DICM"),E=T.writeDataElement(w,E,!1);for(var I=0,P=l.length;I<P;++I)E=T.writeDataElement(l[I],E,!1);for(var A=0,O=c.length;A<O;++A)E=L.writeDataElement(c[A],E,o);return D},m.dicom.getDicomElement=function(e){var t=m.dicom.getGroupElementFromName(e),n=m.dicom.dictionary;return{tag:{group:t.group,element:t.element},vr:n[t.group][t.element][0],vl:n[t.group][t.element][1]}},m.dicom.setElementValue=function(e,t,n){var r=0;if("SQ"===e.vr){if(e.value=t,e.vl=0,null!==t&&0!==t){var i,o=[],a=!0;void 0!==t.explicitLength&&(a=t.explicitLength,delete t.explicitLength);for(var s=Object.keys(t),u=0,l=s.length;u<l;++u){var c={},h=0;if(null!==(i=t[s[u]])&&0!==i){for(var d,f=Object.keys(i),p=0,g=f.length;p<g;++p)d=m.dicom.getDicomElement(f[p]),h+=m.dicom.setElementValue(d,i[f[p]]),m.dicom.isImplicitLengthSequence(d)&&(h+=m.dicom.getDataElementPrefixByteSize("NONE",n)),c[m.dicom.getGroupElementKey(d.tag.group,d.tag.element)]=d,h+=m.dicom.getDataElementPrefixByteSize(d.vr,n);var x={tag:{group:"0xFFFE",element:"0xE000"},vr:"NONE",vl:a?h:"u/l",value:[]};if(c[m.dicom.getGroupElementKey(x.tag.group,x.tag.element)]=x,h+=m.dicom.getDataElementPrefixByteSize("NONE",n),!a){var v={tag:{group:"0xFFFE",element:"0xE00D"},vr:"NONE",vl:0,value:[]};c[m.dicom.getGroupElementKey(v.tag.group,v.tag.element)]=v,h+=m.dicom.getDataElementPrefixByteSize("NONE",n)}r+=h,o.push(c)}}e.value=o,e.vl=a?r:"u/l"}}else{if(r=0,t instanceof Array){e.value=t;for(var S=0;S<t.length;++S)0!==S&&(r+=1),r+=t[S].toString().length}else e.value=[t],r=void 0!==t&&void 0!==t.length?t.length:1;r*="US"===e.vr||"OW"===e.vr?Uint16Array.BYTES_PER_ELEMENT:"SS"===e.vr?Int16Array.BYTES_PER_ELEMENT:"UL"===e.vr?Uint32Array.BYTES_PER_ELEMENT:"SL"===e.vr?Int32Array.BYTES_PER_ELEMENT:"FL"===e.vr?Float32Array.BYTES_PER_ELEMENT:"FD"===e.vr?Float64Array.BYTES_PER_ELEMENT:Uint8Array.BYTES_PER_ELEMENT,e.vl=r}return r},m.dicom.getElementsFromJSONTags=function(e){for(var t,n,r=m.dicom.isImplicitTransferSyntax(e.TransferSyntaxUID),i=Object.keys(e),o={},a=132,s=0,u=i.length;s<u;++s)t=m.dicom.getDicomElement(i[s]),n=m.dicom.setElementValue(t,e[i[s]],r),a+=m.dicom.getDataElementPrefixByteSize(t.vr,r),t.startOffset=a,t.endOffset=a+=n,o[m.dicom.getGroupElementKey(t.tag.group,t.tag.element)]=t;return{elements:o,offset:a}},m.dicom.pixelGenerators={gradSquare:function(e,t){var n=.5*e,r=.5*t,i=(e/2+n/2)*(t/2+r/2);this.getGrey=function(e,t){var o=100,a=Math.abs(t-r),s=Math.abs(e-n);return a<r/2&&s<n/2&&(o+=e*t*(100/i)),[o]},this.getRGB=function(e,t){var o=0,a=Math.abs(t-r),s=Math.abs(e-n);return a<r/2&&s<n/2&&(o+=e*t*(100/i)),255<o&&(o=200),[0,o,o]}}},m.dicom.generatePixelDataFromJSONTags=function(e,t,n){if(void 0===n&&(n="gradSquare"),void 0===e.TransferSyntaxUID)throw new Error("Missing transfer syntax for pixel generation.");if(void 0===e.Rows)throw new Error("Missing number of rows for pixel generation.");if(void 0===e.Columns)throw new Error("Missing number of columns for pixel generation.");if(void 0===e.BitsAllocated)throw new Error("Missing BitsAllocated for pixel generation.");if(void 0===e.PixelRepresentation)throw new Error("Missing PixelRepresentation for pixel generation.");if(void 0===e.SamplesPerPixel)throw new Error("Missing SamplesPerPixel for pixel generation.");if(void 0===e.PhotometricInterpretation)throw new Error("Missing PhotometricInterpretation for pixel generation.");var r=m.dicom.isImplicitTransferSyntax(e.TransferSyntaxUID),i=e.Rows,o=e.Columns,a=e.BitsAllocated,s=e.PixelRepresentation,u=e.SamplesPerPixel,l=e.PhotometricInterpretation,c=i*o*u;if(1!==u&&3!==u)throw new Error("Unsupported SamplesPerPixel for pixel generation: "+u);if(1===u&&"MONOCHROME1"!==l&&"MONOCHROME2"!==l||3===u&&"RGB"!==l)throw new Error("Unsupported PhotometricInterpretation for pixel generation: "+l+" with SamplesPerPixel: "+u);var h=1,d=1;if(3===u){if(void 0===e.PlanarConfiguration)throw new Error("Missing PlanarConfiguration for pixel generation.");var f=e.PlanarConfiguration;if(0!==f&&1!==f)throw new Error("Unsupported PlanarConfiguration for pixel generation: "+f);0===f?h=3:d=3}var p=m.dicom.getTypedArray(a,s,c);if(void 0===m.dicom.pixelGenerators[n])throw new Error("Unknown PixelData generator: "+n);var g=new m.dicom.pixelGenerators[n](o,i),x=g.getGrey;"RGB"===l&&(x=g.getRGB);for(var v=0,S=0;S<d;++S)for(var y=0;y<i;++y)for(var b=0;b<o;++b)for(var C=0;C<h;++C)p[v]=1!==d?x(b,y)[S]:x(b,y)[C],++v;var w="OW";8===a&&(w="OB");var _=m.dicom.getDataElementPrefixByteSize(w,r)+p.BYTES_PER_ELEMENT*c;return{tag:{group:"0x7FE0",element:"0x0010"},vr:w,vl:_,value:p,startOffset:t,endOffset:t+_}},(m=m||{}).dicom=m.dicom||{},m.dicom.dictionary={"0x0000":{"0x0000":["UL","1","GroupLength"],"0x0001":["UL","1","CommandLengthToEnd"],"0x0002":["UI","1","AffectedSOPClassUID"],"0x0003":["UI","1","RequestedSOPClassUID"],"0x0010":["CS","1","CommandRecognitionCode"],"0x0100":["US","1","CommandField"],"0x0110":["US","1","MessageID"],"0x0120":["US","1","MessageIDBeingRespondedTo"],"0x0200":["AE","1","Initiator"],"0x0300":["AE","1","Receiver"],"0x0400":["AE","1","FindLocation"],"0x0600":["AE","1","MoveDestination"],"0x0700":["US","1","Priority"],"0x0800":["US","1","DataSetType"],"0x0850":["US","1","NumberOfMatches"],"0x0860":["US","1","ResponseSequenceNumber"],"0x0900":["US","1","Status"],"0x0901":["AT","1-n","OffendingElement"],"0x0902":["LO","1","ErrorComment"],"0x0903":["US","1","ErrorID"],"0x0904":["OT","1-n","ErrorInformation"],"0x1000":["UI","1","AffectedSOPInstanceUID"],"0x1001":["UI","1","RequestedSOPInstanceUID"],"0x1002":["US","1","EventTypeID"],"0x1003":["OT","1-n","EventInformation"],"0x1005":["AT","1-n","AttributeIdentifierList"],"0x1007":["AT","1-n","ModificationList"],"0x1008":["US","1","ActionTypeID"],"0x1009":["OT","1-n","ActionInformation"],"0x1013":["UI","1-n","SuccessfulSOPInstanceUIDList"],"0x1014":["UI","1-n","FailedSOPInstanceUIDList"],"0x1015":["UI","1-n","WarningSOPInstanceUIDList"],"0x1020":["US","1","NumberOfRemainingSuboperations"],"0x1021":["US","1","NumberOfCompletedSuboperations"],"0x1022":["US","1","NumberOfFailedSuboperations"],"0x1023":["US","1","NumberOfWarningSuboperations"],"0x1030":["AE","1","MoveOriginatorApplicationEntityTitle"],"0x1031":["US","1","MoveOriginatorMessageID"],"0x4000":["AT","1","DialogReceiver"],"0x4010":["AT","1","TerminalType"],"0x5010":["SH","1","MessageSetID"],"0x5020":["SH","1","EndMessageSet"],"0x5110":["AT","1","DisplayFormat"],"0x5120":["AT","1","PagePositionID"],"0x5130":["CS","1","TextFormatID"],"0x5140":["CS","1","NormalReverse"],"0x5150":["CS","1","AddGrayScale"],"0x5160":["CS","1","Borders"],"0x5170":["IS","1","Copies"],"0x5180":["CS","1","OldMagnificationType"],"0x5190":["CS","1","Erase"],"0x51A0":["CS","1","Print"],"0x51B0":["US","1-n","Overlays"]},"0x0002":{"0x0000":["UL","1","FileMetaInformationGroupLength"],"0x0001":["OB","1","FileMetaInformationVersion"],"0x0002":["UI","1","MediaStorageSOPClassUID"],"0x0003":["UI","1","MediaStorageSOPInstanceUID"],"0x0010":["UI","1","TransferSyntaxUID"],"0x0012":["UI","1","ImplementationClassUID"],"0x0013":["SH","1","ImplementationVersionName"],"0x0016":["AE","1","SourceApplicationEntityTitle"],"0x0017":["AE","1","SendingApplicationEntityTitle"],"0x0018":["AE","1","ReceivingApplicationEntityTitle"],"0x0100":["UI","1","PrivateInformationCreatorUID"],"0x0102":["OB","1","PrivateInformation"]},"0x0004":{"0x0000":["UL","1","GenericGroupLength"],"0x1130":["CS","1","FileSetID"],"0x1141":["CS","1-8","FileSetDescriptorFileID"],"0x1142":["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],"0x1200":["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],"0x1202":["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],"0x1212":["US","1","FileSetConsistencyFlag"],"0x1220":["SQ","1","DirectoryRecordSequence"],"0x1400":["UL","1","OffsetOfTheNextDirectoryRecord"],"0x1410":["US","1","RecordInUseFlag"],"0x1420":["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],"0x1430":["CS","1","DirectoryRecordType"],"0x1432":["UI","1","PrivateRecordUID"],"0x1500":["CS","1-8","ReferencedFileID"],"0x1504":["UL","1","MRDRDirectoryRecordOffset"],"0x1510":["UI","1","ReferencedSOPClassUIDInFile"],"0x1511":["UI","1","ReferencedSOPInstanceUIDInFile"],"0x1512":["UI","1","ReferencedTransferSyntaxUIDInFile"],"0x151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],"0x1600":["UL","1","NumberOfReferences"]},"0x0008":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["UL","1","LengthToEnd"],"0x0005":["CS","1-n","SpecificCharacterSet"],"0x0006":["SQ","1","LanguageCodeSequence"],"0x0008":["CS","2-n","ImageType"],"0x0010":["SH","1","RecognitionCode"],"0x0012":["DA","1","InstanceCreationDate"],"0x0013":["TM","1","InstanceCreationTime"],"0x0014":["UI","1","InstanceCreatorUID"],"0x0015":["DT","1","InstanceCoercionDateTime"],"0x0016":["UI","1","SOPClassUID"],"0x0018":["UI","1","SOPInstanceUID"],"0x001A":["UI","1-n","RelatedGeneralSOPClassUID"],"0x001B":["UI","1","OriginalSpecializedSOPClassUID"],"0x0020":["DA","1","StudyDate"],"0x0021":["DA","1","SeriesDate"],"0x0022":["DA","1","AcquisitionDate"],"0x0023":["DA","1","ContentDate"],"0x0024":["DA","1","OverlayDate"],"0x0025":["DA","1","CurveDate"],"0x002A":["DT","1","AcquisitionDateTime"],"0x0030":["TM","1","StudyTime"],"0x0031":["TM","1","SeriesTime"],"0x0032":["TM","1","AcquisitionTime"],"0x0033":["TM","1","ContentTime"],"0x0034":["TM","1","OverlayTime"],"0x0035":["TM","1","CurveTime"],"0x0040":["US","1","DataSetType"],"0x0041":["LO","1","DataSetSubtype"],"0x0042":["CS","1","NuclearMedicineSeriesType"],"0x0050":["SH","1","AccessionNumber"],"0x0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0x0052":["CS","1","QueryRetrieveLevel"],"0x0053":["CS","1","QueryRetrieveView"],"0x0054":["AE","1-n","RetrieveAETitle"],"0x0056":["CS","1","InstanceAvailability"],"0x0058":["UI","1-n","FailedSOPInstanceUIDList"],"0x0060":["CS","1","Modality"],"0x0061":["CS","1-n","ModalitiesInStudy"],"0x0062":["UI","1-n","SOPClassesInStudy"],"0x0064":["CS","1","ConversionType"],"0x0068":["CS","1","PresentationIntentType"],"0x0070":["LO","1","Manufacturer"],"0x0080":["LO","1","InstitutionName"],"0x0081":["ST","1","InstitutionAddress"],"0x0082":["SQ","1","InstitutionCodeSequence"],"0x0090":["PN","1","ReferringPhysicianName"],"0x0092":["ST","1","ReferringPhysicianAddress"],"0x0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0x0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"0x009C":["PN","1-n","ConsultingPhysicianName"],"0x009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0x0100":["SH","1","CodeValue"],"0x0101":["LO","1","ExtendedCodeValue"],"0x0102":["SH","1","CodingSchemeDesignator"],"0x0103":["SH","1","CodingSchemeVersion"],"0x0104":["LO","1","CodeMeaning"],"0x0105":["CS","1","MappingResource"],"0x0106":["DT","1","ContextGroupVersion"],"0x0107":["DT","1","ContextGroupLocalVersion"],"0x0108":["LT","1","ExtendedCodeMeaning"],"0x010B":["CS","1","ContextGroupExtensionFlag"],"0x010C":["UI","1","CodingSchemeUID"],"0x010D":["UI","1","ContextGroupExtensionCreatorUID"],"0x010F":["CS","1","ContextIdentifier"],"0x0110":["SQ","1","CodingSchemeIdentificationSequence"],"0x0112":["LO","1","CodingSchemeRegistry"],"0x0114":["ST","1","CodingSchemeExternalID"],"0x0115":["ST","1","CodingSchemeName"],"0x0116":["ST","1","CodingSchemeResponsibleOrganization"],"0x0117":["UI","1","ContextUID"],"0x0118":["UI","1","MappingResourceUID"],"0x0119":["UC","1","LongCodeValue"],"0x0120":["UR","1","URNCodeValue"],"0x0121":["SQ","1","EquivalentCodeSequence"],"0x0201":["SH","1","TimezoneOffsetFromUTC"],"0x0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0x0301":["US","1","PrivateGroupReference"],"0x0302":["LO","1","PrivateCreatorReference"],"0x0303":["CS","1","BlockIdentifyingInformationStatus"],"0x0304":["US","1-n","NonidentifyingPrivateElements"],"0x0306":["US","1-n","IdentifyingPrivateElements"],"0x0305":["SQ","1","DeidentificationActionSequence"],"0x0307":["CS","1","DeidentificationAction"],"0x1000":["AE","1","NetworkID"],"0x1010":["SH","1","StationName"],"0x1030":["LO","1","StudyDescription"],"0x1032":["SQ","1","ProcedureCodeSequence"],"0x103E":["LO","1","SeriesDescription"],"0x103F":["SQ","1","SeriesDescriptionCodeSequence"],"0x1040":["LO","1","InstitutionalDepartmentName"],"0x1048":["PN","1-n","PhysiciansOfRecord"],"0x1049":["SQ","1","PhysiciansOfRecordIdentificationSequence"],"0x1050":["PN","1-n","PerformingPhysicianName"],"0x1052":["SQ","1","PerformingPhysicianIdentificationSequence"],"0x1060":["PN","1-n","NameOfPhysiciansReadingStudy"],"0x1062":["SQ","1","PhysiciansReadingStudyIdentificationSequence"],"0x1070":["PN","1-n","OperatorsName"],"0x1072":["SQ","1","OperatorIdentificationSequence"],"0x1080":["LO","1-n","AdmittingDiagnosesDescription"],"0x1084":["SQ","1","AdmittingDiagnosesCodeSequence"],"0x1090":["LO","1","ManufacturerModelName"],"0x1100":["SQ","1","ReferencedResultsSequence"],"0x1110":["SQ","1","ReferencedStudySequence"],"0x1111":["SQ","1","ReferencedPerformedProcedureStepSequence"],"0x1115":["SQ","1","ReferencedSeriesSequence"],"0x1120":["SQ","1","ReferencedPatientSequence"],"0x1125":["SQ","1","ReferencedVisitSequence"],"0x1130":["SQ","1","ReferencedOverlaySequence"],"0x1134":["SQ","1","ReferencedStereometricInstanceSequence"],"0x113A":["SQ","1","ReferencedWaveformSequence"],"0x1140":["SQ","1","ReferencedImageSequence"],"0x1145":["SQ","1","ReferencedCurveSequence"],"0x114A":["SQ","1","ReferencedInstanceSequence"],"0x114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],"0x1150":["UI","1","ReferencedSOPClassUID"],"0x1155":["UI","1","ReferencedSOPInstanceUID"],"0x115A":["UI","1-n","SOPClassesSupported"],"0x1160":["IS","1-n","ReferencedFrameNumber"],"0x1161":["UL","1-n","SimpleFrameList"],"0x1162":["UL","3-3n","CalculatedFrameList"],"0x1163":["FD","2","TimeRange"],"0x1164":["SQ","1","FrameExtractionSequence"],"0x1167":["UI","1","MultiFrameSourceSOPInstanceUID"],"0x1190":["UR","1","RetrieveURL"],"0x1195":["UI","1","TransactionUID"],"0x1196":["US","1","WarningReason"],"0x1197":["US","1","FailureReason"],"0x1198":["SQ","1","FailedSOPSequence"],"0x1199":["SQ","1","ReferencedSOPSequence"],"0x1200":["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],"0x1250":["SQ","1","RelatedSeriesSequence"],"0x2110":["CS","1","LossyImageCompressionRetired"],"0x2111":["ST","1","DerivationDescription"],"0x2112":["SQ","1","SourceImageSequence"],"0x2120":["SH","1","StageName"],"0x2122":["IS","1","StageNumber"],"0x2124":["IS","1","NumberOfStages"],"0x2127":["SH","1","ViewName"],"0x2128":["IS","1","ViewNumber"],"0x2129":["IS","1","NumberOfEventTimers"],"0x212A":["IS","1","NumberOfViewsInStage"],"0x2130":["DS","1-n","EventElapsedTimes"],"0x2132":["LO","1-n","EventTimerNames"],"0x2133":["SQ","1","EventTimerSequence"],"0x2134":["FD","1","EventTimeOffset"],"0x2135":["SQ","1","EventCodeSequence"],"0x2142":["IS","1","StartTrim"],"0x2143":["IS","1","StopTrim"],"0x2144":["IS","1","RecommendedDisplayFrameRate"],"0x2200":["CS","1","TransducerPosition"],"0x2204":["CS","1","TransducerOrientation"],"0x2208":["CS","1","AnatomicStructure"],"0x2218":["SQ","1","AnatomicRegionSequence"],"0x2220":["SQ","1","AnatomicRegionModifierSequence"],"0x2228":["SQ","1","PrimaryAnatomicStructureSequence"],"0x2229":["SQ","1","AnatomicStructureSpaceOrRegionSequence"],"0x2230":["SQ","1","PrimaryAnatomicStructureModifierSequence"],"0x2240":["SQ","1","TransducerPositionSequence"],"0x2242":["SQ","1","TransducerPositionModifierSequence"],"0x2244":["SQ","1","TransducerOrientationSequence"],"0x2246":["SQ","1","TransducerOrientationModifierSequence"],"0x2251":["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],"0x2253":["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],"0x2255":["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],"0x2256":["ST","1","AnatomicPerspectiveDescriptionTrial"],"0x2257":["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],"0x2258":["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],"0x2259":["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"0x225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"0x225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],"0x3001":["SQ","1","AlternateRepresentationSequence"],"0x3010":["UI","1-n","IrradiationEventUID"],"0x3011":["SQ","1","SourceIrradiationEventSequence"],"0x3012":["UI","1","RadiopharmaceuticalAdministrationEventUID"],"0x4000":["LT","1","IdentifyingComments"],"0x9007":["CS","4","FrameType"],"0x9092":["SQ","1","ReferencedImageEvidenceSequence"],"0x9121":["SQ","1","ReferencedRawDataSequence"],"0x9123":["UI","1","CreatorVersionUID"],"0x9124":["SQ","1","DerivationImageSequence"],"0x9154":["SQ","1","SourceImageEvidenceSequence"],"0x9205":["CS","1","PixelPresentation"],"0x9206":["CS","1","VolumetricProperties"],"0x9207":["CS","1","VolumeBasedCalculationTechnique"],"0x9208":["CS","1","ComplexImageComponent"],"0x9209":["CS","1","AcquisitionContrast"],"0x9215":["SQ","1","DerivationCodeSequence"],"0x9237":["SQ","1","ReferencedPresentationStateSequence"],"0x9410":["SQ","1","ReferencedOtherPlaneSequence"],"0x9458":["SQ","1","FrameDisplaySequence"],"0x9459":["FL","1","RecommendedDisplayFrameRateInFloat"],"0x9460":["CS","1","SkipFrameRangeFlag"]},"0x0010":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["PN","1","PatientName"],"0x0020":["LO","1","PatientID"],"0x0021":["LO","1","IssuerOfPatientID"],"0x0022":["CS","1","TypeOfPatientID"],"0x0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0x0030":["DA","1","PatientBirthDate"],"0x0032":["TM","1","PatientBirthTime"],"0x0040":["CS","1","PatientSex"],"0x0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0x0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0x0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0x0200":["CS","1","QualityControlSubject"],"0x0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0x1000":["LO","1-n","OtherPatientIDs"],"0x1001":["PN","1-n","OtherPatientNames"],"0x1002":["SQ","1","OtherPatientIDsSequence"],"0x1005":["PN","1","PatientBirthName"],"0x1010":["AS","1","PatientAge"],"0x1020":["DS","1","PatientSize"],"0x1021":["SQ","1","PatientSizeCodeSequence"],"0x1030":["DS","1","PatientWeight"],"0x1040":["LO","1","PatientAddress"],"0x1050":["LO","1-n","InsurancePlanIdentification"],"0x1060":["PN","1","PatientMotherBirthName"],"0x1080":["LO","1","MilitaryRank"],"0x1081":["LO","1","BranchOfService"],"0x1090":["LO","1","MedicalRecordLocator"],"0x1100":["SQ","1","ReferencedPatientPhotoSequence"],"0x2000":["LO","1-n","MedicalAlerts"],"0x2110":["LO","1-n","Allergies"],"0x2150":["LO","1","CountryOfResidence"],"0x2152":["LO","1","RegionOfResidence"],"0x2154":["SH","1-n","PatientTelephoneNumbers"],"0x2155":["LT","1","PatientTelecomInformation"],"0x2160":["SH","1","EthnicGroup"],"0x2180":["SH","1","Occupation"],"0x21A0":["CS","1","SmokingStatus"],"0x21B0":["LT","1","AdditionalPatientHistory"],"0x21C0":["US","1","PregnancyStatus"],"0x21D0":["DA","1","LastMenstrualDate"],"0x21F0":["LO","1","PatientReligiousPreference"],"0x2201":["LO","1","PatientSpeciesDescription"],"0x2202":["SQ","1","PatientSpeciesCodeSequence"],"0x2203":["CS","1","PatientSexNeutered"],"0x2210":["CS","1","AnatomicalOrientationType"],"0x2292":["LO","1","PatientBreedDescription"],"0x2293":["SQ","1","PatientBreedCodeSequence"],"0x2294":["SQ","1","BreedRegistrationSequence"],"0x2295":["LO","1","BreedRegistrationNumber"],"0x2296":["SQ","1","BreedRegistryCodeSequence"],"0x2297":["PN","1","ResponsiblePerson"],"0x2298":["CS","1","ResponsiblePersonRole"],"0x2299":["LO","1","ResponsibleOrganization"],"0x4000":["LT","1","PatientComments"],"0x9431":["FL","1","ExaminedBodyThickness"]},"0x0012":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LO","1","ClinicalTrialSponsorName"],"0x0020":["LO","1","ClinicalTrialProtocolID"],"0x0021":["LO","1","ClinicalTrialProtocolName"],"0x0030":["LO","1","ClinicalTrialSiteID"],"0x0031":["LO","1","ClinicalTrialSiteName"],"0x0040":["LO","1","ClinicalTrialSubjectID"],"0x0042":["LO","1","ClinicalTrialSubjectReadingID"],"0x0050":["LO","1","ClinicalTrialTimePointID"],"0x0051":["ST","1","ClinicalTrialTimePointDescription"],"0x0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0x0062":["CS","1","PatientIdentityRemoved"],"0x0063":["LO","1-n","DeidentificationMethod"],"0x0064":["SQ","1","DeidentificationMethodCodeSequence"],"0x0071":["LO","1","ClinicalTrialSeriesID"],"0x0072":["LO","1","ClinicalTrialSeriesDescription"],"0x0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0x0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0x0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0x0084":["CS","1","DistributionType"],"0x0085":["CS","1","ConsentForDistributionFlag"]},"0x0014":{"0x0000":["UL","1","GenericGroupLength"],"0x0023":["ST","1-n","CADFileFormat"],"0x0024":["ST","1-n","ComponentReferenceSystem"],"0x0025":["ST","1-n","ComponentManufacturingProcedure"],"0x0028":["ST","1-n","ComponentManufacturer"],"0x0030":["DS","1-n","MaterialThickness"],"0x0032":["DS","1-n","MaterialPipeDiameter"],"0x0034":["DS","1-n","MaterialIsolationDiameter"],"0x0042":["ST","1-n","MaterialGrade"],"0x0044":["ST","1-n","MaterialPropertiesDescription"],"0x0045":["ST","1-n","MaterialPropertiesFileFormatRetired"],"0x0046":["LT","1","MaterialNotes"],"0x0050":["CS","1","ComponentShape"],"0x0052":["CS","1","CurvatureType"],"0x0054":["DS","1","OuterDiameter"],"0x0056":["DS","1","InnerDiameter"],"0x1010":["ST","1","ActualEnvironmentalConditions"],"0x1020":["DA","1","ExpiryDate"],"0x1040":["ST","1","EnvironmentalConditions"],"0x2002":["SQ","1","EvaluatorSequence"],"0x2004":["IS","1","EvaluatorNumber"],"0x2006":["PN","1","EvaluatorName"],"0x2008":["IS","1","EvaluationAttempt"],"0x2012":["SQ","1","IndicationSequence"],"0x2014":["IS","1","IndicationNumber"],"0x2016":["SH","1","IndicationLabel"],"0x2018":["ST","1","IndicationDescription"],"0x201A":["CS","1-n","IndicationType"],"0x201C":["CS","1","IndicationDisposition"],"0x201E":["SQ","1","IndicationROISequence"],"0x2030":["SQ","1","IndicationPhysicalPropertySequence"],"0x2032":["SH","1","PropertyLabel"],"0x2202":["IS","1","CoordinateSystemNumberOfAxes"],"0x2204":["SQ","1","CoordinateSystemAxesSequence"],"0x2206":["ST","1","CoordinateSystemAxisDescription"],"0x2208":["CS","1","CoordinateSystemDataSetMapping"],"0x220A":["IS","1","CoordinateSystemAxisNumber"],"0x220C":["CS","1","CoordinateSystemAxisType"],"0x220E":["CS","1","CoordinateSystemAxisUnits"],"0x2210":["OB","1","CoordinateSystemAxisValues"],"0x2220":["SQ","1","CoordinateSystemTransformSequence"],"0x2222":["ST","1","TransformDescription"],"0x2224":["IS","1","TransformNumberOfAxes"],"0x2226":["IS","1-n","TransformOrderOfAxes"],"0x2228":["CS","1","TransformedAxisUnits"],"0x222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"0x222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],"0x3011":["DS","1","InternalDetectorFrameTime"],"0x3012":["DS","1","NumberOfFramesIntegrated"],"0x3020":["SQ","1","DetectorTemperatureSequence"],"0x3022":["ST","1","SensorName"],"0x3024":["DS","1","HorizontalOffsetOfSensor"],"0x3026":["DS","1","VerticalOffsetOfSensor"],"0x3028":["DS","1","SensorTemperature"],"0x3040":["SQ","1","DarkCurrentSequence"],"0x3050":["ox","1","DarkCurrentCounts"],"0x3060":["SQ","1","GainCorrectionReferenceSequence"],"0x3070":["ox","1","AirCounts"],"0x3071":["DS","1","KVUsedInGainCalibration"],"0x3072":["DS","1","MAUsedInGainCalibration"],"0x3073":["DS","1","NumberOfFramesUsedForIntegration"],"0x3074":["LO","1","FilterMaterialUsedInGainCalibration"],"0x3075":["DS","1","FilterThicknessUsedInGainCalibration"],"0x3076":["DA","1","DateOfGainCalibration"],"0x3077":["TM","1","TimeOfGainCalibration"],"0x3080":["OB","1","BadPixelImage"],"0x3099":["LT","1","CalibrationNotes"],"0x4002":["SQ","1","PulserEquipmentSequence"],"0x4004":["CS","1","PulserType"],"0x4006":["LT","1","PulserNotes"],"0x4008":["SQ","1","ReceiverEquipmentSequence"],"0x400A":["CS","1","AmplifierType"],"0x400C":["LT","1","ReceiverNotes"],"0x400E":["SQ","1","PreAmplifierEquipmentSequence"],"0x400F":["LT","1","PreAmplifierNotes"],"0x4010":["SQ","1","TransmitTransducerSequence"],"0x4011":["SQ","1","ReceiveTransducerSequence"],"0x4012":["US","1","NumberOfElements"],"0x4013":["CS","1","ElementShape"],"0x4014":["DS","1","ElementDimensionA"],"0x4015":["DS","1","ElementDimensionB"],"0x4016":["DS","1","ElementPitchA"],"0x4017":["DS","1","MeasuredBeamDimensionA"],"0x4018":["DS","1","MeasuredBeamDimensionB"],"0x4019":["DS","1","LocationOfMeasuredBeamDiameter"],"0x401A":["DS","1","NominalFrequency"],"0x401B":["DS","1","MeasuredCenterFrequency"],"0x401C":["DS","1","MeasuredBandwidth"],"0x401D":["DS","1","ElementPitchB"],"0x4020":["SQ","1","PulserSettingsSequence"],"0x4022":["DS","1","PulseWidth"],"0x4024":["DS","1","ExcitationFrequency"],"0x4026":["CS","1","ModulationType"],"0x4028":["DS","1","Damping"],"0x4030":["SQ","1","ReceiverSettingsSequence"],"0x4031":["DS","1","AcquiredSoundpathLength"],"0x4032":["CS","1","AcquisitionCompressionType"],"0x4033":["IS","1","AcquisitionSampleSize"],"0x4034":["DS","1","RectifierSmoothing"],"0x4035":["SQ","1","DACSequence"],"0x4036":["CS","1","DACType"],"0x4038":["DS","1-n","DACGainPoints"],"0x403A":["DS","1-n","DACTimePoints"],"0x403C":["DS","1-n","DACAmplitude"],"0x4040":["SQ","1","PreAmplifierSettingsSequence"],"0x4050":["SQ","1","TransmitTransducerSettingsSequence"],"0x4051":["SQ","1","ReceiveTransducerSettingsSequence"],"0x4052":["DS","1","IncidentAngle"],"0x4054":["ST","1","CouplingTechnique"],"0x4056":["ST","1","CouplingMedium"],"0x4057":["DS","1","CouplingVelocity"],"0x4058":["DS","1","ProbeCenterLocationX"],"0x4059":["DS","1","ProbeCenterLocationZ"],"0x405A":["DS","1","SoundPathLength"],"0x405C":["ST","1","DelayLawIdentifier"],"0x4060":["SQ","1","GateSettingsSequence"],"0x4062":["DS","1","GateThreshold"],"0x4064":["DS","1","VelocityOfSound"],"0x4070":["SQ","1","CalibrationSettingsSequence"],"0x4072":["ST","1","CalibrationProcedure"],"0x4074":["SH","1","ProcedureVersion"],"0x4076":["DA","1","ProcedureCreationDate"],"0x4078":["DA","1","ProcedureExpirationDate"],"0x407A":["DA","1","ProcedureLastModifiedDate"],"0x407C":["TM","1-n","CalibrationTime"],"0x407E":["DA","1-n","CalibrationDate"],"0x4080":["SQ","1","ProbeDriveEquipmentSequence"],"0x4081":["CS","1","DriveType"],"0x4082":["LT","1","ProbeDriveNotes"],"0x4083":["SQ","1","DriveProbeSequence"],"0x4084":["DS","1","ProbeInductance"],"0x4085":["DS","1","ProbeResistance"],"0x4086":["SQ","1","ReceiveProbeSequence"],"0x4087":["SQ","1","ProbeDriveSettingsSequence"],"0x4088":["DS","1","BridgeResistors"],"0x4089":["DS","1","ProbeOrientationAngle"],"0x408B":["DS","1","UserSelectedGainY"],"0x408C":["DS","1","UserSelectedPhase"],"0x408D":["DS","1","UserSelectedOffsetX"],"0x408E":["DS","1","UserSelectedOffsetY"],"0x4091":["SQ","1","ChannelSettingsSequence"],"0x4092":["DS","1","ChannelThreshold"],"0x409A":["SQ","1","ScannerSettingsSequence"],"0x409B":["ST","1","ScanProcedure"],"0x409C":["DS","1","TranslationRateX"],"0x409D":["DS","1","TranslationRateY"],"0x409F":["DS","1","ChannelOverlap"],"0x40A0":["LO","1","ImageQualityIndicatorType"],"0x40A1":["LO","1","ImageQualityIndicatorMaterial"],"0x40A2":["LO","1","ImageQualityIndicatorSize"],"0x5002":["IS","1","LINACEnergy"],"0x5004":["IS","1","LINACOutput"],"0x5100":["US","1","ActiveAperture"],"0x5101":["DS","1","TotalAperture"],"0x5102":["DS","1","ApertureElevation"],"0x5103":["DS","1","MainLobeAngle"],"0x5104":["DS","1","MainRoofAngle"],"0x5105":["CS","1","ConnectorType"],"0x5106":["SH","1","WedgeModelNumber"],"0x5107":["DS","1","WedgeAngleFloat"],"0x5108":["DS","1","WedgeRoofAngle"],"0x5109":["CS","1","WedgeElement1Position"],"0x510A":["DS","1","WedgeMaterialVelocity"],"0x510B":["SH","1","WedgeMaterial"],"0x510C":["DS","1","WedgeOffsetZ"],"0x510D":["DS","1","WedgeOriginOffsetX"],"0x510E":["DS","1","WedgeTimeDelay"],"0x510F":["SH","1","WedgeName"],"0x5110":["SH","1","WedgeManufacturerName"],"0x5111":["LO","1","WedgeDescription"],"0x5112":["DS","1","NominalBeamAngle"],"0x5113":["DS","1","WedgeOffsetX"],"0x5114":["DS","1","WedgeOffsetY"],"0x5115":["DS","1","WedgeTotalLength"],"0x5116":["DS","1","WedgeInContactLength"],"0x5117":["DS","1","WedgeFrontGap"],"0x5118":["DS","1","WedgeTotalHeight"],"0x5119":["DS","1","WedgeFrontHeight"],"0x511A":["DS","1","WedgeRearHeight"],"0x511B":["DS","1","WedgeTotalWidth"],"0x511C":["DS","1","WedgeInContactWidth"],"0x511D":["DS","1","WedgeChamferHeight"],"0x511E":["CS","1","WedgeCurve"],"0x511F":["DS","1","RadiusAlongWedge"]},"0x0018":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LO","1","ContrastBolusAgent"],"0x0012":["SQ","1","ContrastBolusAgentSequence"],"0x0013":["FL","1","ContrastBolusT1Relaxivity"],"0x0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0x0015":["CS","1","BodyPartExamined"],"0x0020":["CS","1-n","ScanningSequence"],"0x0021":["CS","1-n","SequenceVariant"],"0x0022":["CS","1-n","ScanOptions"],"0x0023":["CS","1","MRAcquisitionType"],"0x0024":["SH","1","SequenceName"],"0x0025":["CS","1","AngioFlag"],"0x0026":["SQ","1","InterventionDrugInformationSequence"],"0x0027":["TM","1","InterventionDrugStopTime"],"0x0028":["DS","1","InterventionDrugDose"],"0x0029":["SQ","1","InterventionDrugCodeSequence"],"0x002A":["SQ","1","AdditionalDrugSequence"],"0x0030":["LO","1-n","Radionuclide"],"0x0031":["LO","1","Radiopharmaceutical"],"0x0032":["DS","1","EnergyWindowCenterline"],"0x0033":["DS","1-n","EnergyWindowTotalWidth"],"0x0034":["LO","1","InterventionDrugName"],"0x0035":["TM","1","InterventionDrugStartTime"],"0x0036":["SQ","1","InterventionSequence"],"0x0037":["CS","1","TherapyType"],"0x0038":["CS","1","InterventionStatus"],"0x0039":["CS","1","TherapyDescription"],"0x003A":["ST","1","InterventionDescription"],"0x0040":["IS","1","CineRate"],"0x0042":["CS","1","InitialCineRunState"],"0x0050":["DS","1","SliceThickness"],"0x0060":["DS","1","KVP"],"0x0070":["IS","1","CountsAccumulated"],"0x0071":["CS","1","AcquisitionTerminationCondition"],"0x0072":["DS","1","EffectiveDuration"],"0x0073":["CS","1","AcquisitionStartCondition"],"0x0074":["IS","1","AcquisitionStartConditionData"],"0x0075":["IS","1","AcquisitionTerminationConditionData"],"0x0080":["DS","1","RepetitionTime"],"0x0081":["DS","1","EchoTime"],"0x0082":["DS","1","InversionTime"],"0x0083":["DS","1","NumberOfAverages"],"0x0084":["DS","1","ImagingFrequency"],"0x0085":["SH","1","ImagedNucleus"],"0x0086":["IS","1-n","EchoNumbers"],"0x0087":["DS","1","MagneticFieldStrength"],"0x0088":["DS","1","SpacingBetweenSlices"],"0x0089":["IS","1","NumberOfPhaseEncodingSteps"],"0x0090":["DS","1","DataCollectionDiameter"],"0x0091":["IS","1","EchoTrainLength"],"0x0093":["DS","1","PercentSampling"],"0x0094":["DS","1","PercentPhaseFieldOfView"],"0x0095":["DS","1","PixelBandwidth"],"0x1000":["LO","1","DeviceSerialNumber"],"0x1002":["UI","1","DeviceUID"],"0x1003":["LO","1","DeviceID"],"0x1004":["LO","1","PlateID"],"0x1005":["LO","1","GeneratorID"],"0x1006":["LO","1","GridID"],"0x1007":["LO","1","CassetteID"],"0x1008":["LO","1","GantryID"],"0x1010":["LO","1","SecondaryCaptureDeviceID"],"0x1011":["LO","1","HardcopyCreationDeviceID"],"0x1012":["DA","1","DateOfSecondaryCapture"],"0x1014":["TM","1","TimeOfSecondaryCapture"],"0x1016":["LO","1","SecondaryCaptureDeviceManufacturer"],"0x1017":["LO","1","HardcopyDeviceManufacturer"],"0x1018":["LO","1","SecondaryCaptureDeviceManufacturerModelName"],"0x1019":["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"0x101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"0x101B":["LO","1","HardcopyDeviceManufacturerModelName"],"0x1020":["LO","1-n","SoftwareVersions"],"0x1022":["SH","1","VideoImageFormatAcquired"],"0x1023":["LO","1","DigitalImageFormatAcquired"],"0x1030":["LO","1","ProtocolName"],"0x1040":["LO","1","ContrastBolusRoute"],"0x1041":["DS","1","ContrastBolusVolume"],"0x1042":["TM","1","ContrastBolusStartTime"],"0x1043":["TM","1","ContrastBolusStopTime"],"0x1044":["DS","1","ContrastBolusTotalDose"],"0x1045":["IS","1","SyringeCounts"],"0x1046":["DS","1-n","ContrastFlowRate"],"0x1047":["DS","1-n","ContrastFlowDuration"],"0x1048":["CS","1","ContrastBolusIngredient"],"0x1049":["DS","1","ContrastBolusIngredientConcentration"],"0x1050":["DS","1","SpatialResolution"],"0x1060":["DS","1","TriggerTime"],"0x1061":["LO","1","TriggerSourceOrType"],"0x1062":["IS","1","NominalInterval"],"0x1063":["DS","1","FrameTime"],"0x1064":["LO","1","CardiacFramingType"],"0x1065":["DS","1-n","FrameTimeVector"],"0x1066":["DS","1","FrameDelay"],"0x1067":["DS","1","ImageTriggerDelay"],"0x1068":["DS","1","MultiplexGroupTimeOffset"],"0x1069":["DS","1","TriggerTimeOffset"],"0x106A":["CS","1","SynchronizationTrigger"],"0x106C":["US","2","SynchronizationChannel"],"0x106E":["UL","1","TriggerSamplePosition"],"0x1070":["LO","1","RadiopharmaceuticalRoute"],"0x1071":["DS","1","RadiopharmaceuticalVolume"],"0x1072":["TM","1","RadiopharmaceuticalStartTime"],"0x1073":["TM","1","RadiopharmaceuticalStopTime"],"0x1074":["DS","1","RadionuclideTotalDose"],"0x1075":["DS","1","RadionuclideHalfLife"],"0x1076":["DS","1","RadionuclidePositronFraction"],"0x1077":["DS","1","RadiopharmaceuticalSpecificActivity"],"0x1078":["DT","1","RadiopharmaceuticalStartDateTime"],"0x1079":["DT","1","RadiopharmaceuticalStopDateTime"],"0x1080":["CS","1","BeatRejectionFlag"],"0x1081":["IS","1","LowRRValue"],"0x1082":["IS","1","HighRRValue"],"0x1083":["IS","1","IntervalsAcquired"],"0x1084":["IS","1","IntervalsRejected"],"0x1085":["LO","1","PVCRejection"],"0x1086":["IS","1","SkipBeats"],"0x1088":["IS","1","HeartRate"],"0x1090":["IS","1","CardiacNumberOfImages"],"0x1094":["IS","1","TriggerWindow"],"0x1100":["DS","1","ReconstructionDiameter"],"0x1110":["DS","1","DistanceSourceToDetector"],"0x1111":["DS","1","DistanceSourceToPatient"],"0x1114":["DS","1","EstimatedRadiographicMagnificationFactor"],"0x1120":["DS","1","GantryDetectorTilt"],"0x1121":["DS","1","GantryDetectorSlew"],"0x1130":["DS","1","TableHeight"],"0x1131":["DS","1","TableTraverse"],"0x1134":["CS","1","TableMotion"],"0x1135":["DS","1-n","TableVerticalIncrement"],"0x1136":["DS","1-n","TableLateralIncrement"],"0x1137":["DS","1-n","TableLongitudinalIncrement"],"0x1138":["DS","1","TableAngle"],"0x113A":["CS","1","TableType"],"0x1140":["CS","1","RotationDirection"],"0x1141":["DS","1","AngularPosition"],"0x1142":["DS","1-n","RadialPosition"],"0x1143":["DS","1","ScanArc"],"0x1144":["DS","1","AngularStep"],"0x1145":["DS","1","CenterOfRotationOffset"],"0x1146":["DS","1-n","RotationOffset"],"0x1147":["CS","1","FieldOfViewShape"],"0x1149":["IS","1-2","FieldOfViewDimensions"],"0x1150":["IS","1","ExposureTime"],"0x1151":["IS","1","XRayTubeCurrent"],"0x1152":["IS","1","Exposure"],"0x1153":["IS","1","ExposureInuAs"],"0x1154":["DS","1","AveragePulseWidth"],"0x1155":["CS","1","RadiationSetting"],"0x1156":["CS","1","RectificationType"],"0x115A":["CS","1","RadiationMode"],"0x115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],"0x1160":["SH","1","FilterType"],"0x1161":["LO","1-n","TypeOfFilters"],"0x1162":["DS","1","IntensifierSize"],"0x1164":["DS","2","ImagerPixelSpacing"],"0x1166":["CS","1-n","Grid"],"0x1170":["IS","1","GeneratorPower"],"0x1180":["SH","1","CollimatorGridName"],"0x1181":["CS","1","CollimatorType"],"0x1182":["IS","1-2","FocalDistance"],"0x1183":["DS","1-2","XFocusCenter"],"0x1184":["DS","1-2","YFocusCenter"],"0x1190":["DS","1-n","FocalSpots"],"0x1191":["CS","1","AnodeTargetMaterial"],"0x11A0":["DS","1","BodyPartThickness"],"0x11A2":["DS","1","CompressionForce"],"0x11A4":["LO","1","PaddleDescription"],"0x1200":["DA","1-n","DateOfLastCalibration"],"0x1201":["TM","1-n","TimeOfLastCalibration"],"0x1202":["DT","1","DateTimeOfLastCalibration"],"0x1210":["SH","1-n","ConvolutionKernel"],"0x1240":["IS","1-n","UpperLowerPixelValues"],"0x1242":["IS","1","ActualFrameDuration"],"0x1243":["IS","1","CountRate"],"0x1244":["US","1","PreferredPlaybackSequencing"],"0x1250":["SH","1","ReceiveCoilName"],"0x1251":["SH","1","TransmitCoilName"],"0x1260":["SH","1","PlateType"],"0x1261":["LO","1","PhosphorType"],"0x1300":["DS","1","ScanVelocity"],"0x1301":["CS","1-n","WholeBodyTechnique"],"0x1302":["IS","1","ScanLength"],"0x1310":["US","4","AcquisitionMatrix"],"0x1312":["CS","1","InPlanePhaseEncodingDirection"],"0x1314":["DS","1","FlipAngle"],"0x1315":["CS","1","VariableFlipAngleFlag"],"0x1316":["DS","1","SAR"],"0x1318":["DS","1","dBdt"],"0x1400":["LO","1","AcquisitionDeviceProcessingDescription"],"0x1401":["LO","1","AcquisitionDeviceProcessingCode"],"0x1402":["CS","1","CassetteOrientation"],"0x1403":["CS","1","CassetteSize"],"0x1404":["US","1","ExposuresOnPlate"],"0x1405":["IS","1","RelativeXRayExposure"],"0x1411":["DS","1","ExposureIndex"],"0x1412":["DS","1","TargetExposureIndex"],"0x1413":["DS","1","DeviationIndex"],"0x1450":["DS","1","ColumnAngulation"],"0x1460":["DS","1","TomoLayerHeight"],"0x1470":["DS","1","TomoAngle"],"0x1480":["DS","1","TomoTime"],"0x1490":["CS","1","TomoType"],"0x1491":["CS","1","TomoClass"],"0x1495":["IS","1","NumberOfTomosynthesisSourceImages"],"0x1500":["CS","1","PositionerMotion"],"0x1508":["CS","1","PositionerType"],"0x1510":["DS","1","PositionerPrimaryAngle"],"0x1511":["DS","1","PositionerSecondaryAngle"],"0x1520":["DS","1-n","PositionerPrimaryAngleIncrement"],"0x1521":["DS","1-n","PositionerSecondaryAngleIncrement"],"0x1530":["DS","1","DetectorPrimaryAngle"],"0x1531":["DS","1","DetectorSecondaryAngle"],"0x1600":["CS","1-3","ShutterShape"],"0x1602":["IS","1","ShutterLeftVerticalEdge"],"0x1604":["IS","1","ShutterRightVerticalEdge"],"0x1606":["IS","1","ShutterUpperHorizontalEdge"],"0x1608":["IS","1","ShutterLowerHorizontalEdge"],"0x1610":["IS","2","CenterOfCircularShutter"],"0x1612":["IS","1","RadiusOfCircularShutter"],"0x1620":["IS","2-2n","VerticesOfThePolygonalShutter"],"0x1622":["US","1","ShutterPresentationValue"],"0x1623":["US","1","ShutterOverlayGroup"],"0x1624":["US","3","ShutterPresentationColorCIELabValue"],"0x1700":["CS","1-3","CollimatorShape"],"0x1702":["IS","1","CollimatorLeftVerticalEdge"],"0x1704":["IS","1","CollimatorRightVerticalEdge"],"0x1706":["IS","1","CollimatorUpperHorizontalEdge"],"0x1708":["IS","1","CollimatorLowerHorizontalEdge"],"0x1710":["IS","2","CenterOfCircularCollimator"],"0x1712":["IS","1","RadiusOfCircularCollimator"],"0x1720":["IS","2-2n","VerticesOfThePolygonalCollimator"],"0x1800":["CS","1","AcquisitionTimeSynchronized"],"0x1801":["SH","1","TimeSource"],"0x1802":["CS","1","TimeDistributionProtocol"],"0x1803":["LO","1","NTPSourceAddress"],"0x2001":["IS","1-n","PageNumberVector"],"0x2002":["SH","1-n","FrameLabelVector"],"0x2003":["DS","1-n","FramePrimaryAngleVector"],"0x2004":["DS","1-n","FrameSecondaryAngleVector"],"0x2005":["DS","1-n","SliceLocationVector"],"0x2006":["SH","1-n","DisplayWindowLabelVector"],"0x2010":["DS","2","NominalScannedPixelSpacing"],"0x2020":["CS","1","DigitizingDeviceTransportDirection"],"0x2030":["DS","1","RotationOfScannedFilm"],"0x2041":["SQ","1","BiopsyTargetSequence"],"0x2042":["UI","1","TargetUID"],"0x2043":["FL","2","LocalizingCursorPosition"],"0x2044":["FL","3","CalculatedTargetPosition"],"0x2045":["SH","1","TargetLabel"],"0x2046":["FL","1","DisplayedZValue"],"0x3100":["CS","1","IVUSAcquisition"],"0x3101":["DS","1","IVUSPullbackRate"],"0x3102":["DS","1","IVUSGatedRate"],"0x3103":["IS","1","IVUSPullbackStartFrameNumber"],"0x3104":["IS","1","IVUSPullbackStopFrameNumber"],"0x3105":["IS","1-n","LesionNumber"],"0x4000":["LT","1","AcquisitionComments"],"0x5000":["SH","1-n","OutputPower"],"0x5010":["LO","1-n","TransducerData"],"0x5012":["DS","1","FocusDepth"],"0x5020":["LO","1","ProcessingFunction"],"0x5021":["LO","1","PostprocessingFunction"],"0x5022":["DS","1","MechanicalIndex"],"0x5024":["DS","1","BoneThermalIndex"],"0x5026":["DS","1","CranialThermalIndex"],"0x5027":["DS","1","SoftTissueThermalIndex"],"0x5028":["DS","1","SoftTissueFocusThermalIndex"],"0x5029":["DS","1","SoftTissueSurfaceThermalIndex"],"0x5030":["DS","1","DynamicRange"],"0x5040":["DS","1","TotalGain"],"0x5050":["IS","1","DepthOfScanField"],"0x5100":["CS","1","PatientPosition"],"0x5101":["CS","1","ViewPosition"],"0x5104":["SQ","1","ProjectionEponymousNameCodeSequence"],"0x5210":["DS","6","ImageTransformationMatrix"],"0x5212":["DS","3","ImageTranslationVector"],"0x6000":["DS","1","Sensitivity"],"0x6011":["SQ","1","SequenceOfUltrasoundRegions"],"0x6012":["US","1","RegionSpatialFormat"],"0x6014":["US","1","RegionDataType"],"0x6016":["UL","1","RegionFlags"],"0x6018":["UL","1","RegionLocationMinX0"],"0x601A":["UL","1","RegionLocationMinY0"],"0x601C":["UL","1","RegionLocationMaxX1"],"0x601E":["UL","1","RegionLocationMaxY1"],"0x6020":["SL","1","ReferencePixelX0"],"0x6022":["SL","1","ReferencePixelY0"],"0x6024":["US","1","PhysicalUnitsXDirection"],"0x6026":["US","1","PhysicalUnitsYDirection"],"0x6028":["FD","1","ReferencePixelPhysicalValueX"],"0x602A":["FD","1","ReferencePixelPhysicalValueY"],"0x602C":["FD","1","PhysicalDeltaX"],"0x602E":["FD","1","PhysicalDeltaY"],"0x6030":["UL","1","TransducerFrequency"],"0x6031":["CS","1","TransducerType"],"0x6032":["UL","1","PulseRepetitionFrequency"],"0x6034":["FD","1","DopplerCorrectionAngle"],"0x6036":["FD","1","SteeringAngle"],"0x6038":["UL","1","DopplerSampleVolumeXPositionRetired"],"0x6039":["SL","1","DopplerSampleVolumeXPosition"],"0x603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"0x603B":["SL","1","DopplerSampleVolumeYPosition"],"0x603C":["UL","1","TMLinePositionX0Retired"],"0x603D":["SL","1","TMLinePositionX0"],"0x603E":["UL","1","TMLinePositionY0Retired"],"0x603F":["SL","1","TMLinePositionY0"],"0x6040":["UL","1","TMLinePositionX1Retired"],"0x6041":["SL","1","TMLinePositionX1"],"0x6042":["UL","1","TMLinePositionY1Retired"],"0x6043":["SL","1","TMLinePositionY1"],"0x6044":["US","1","PixelComponentOrganization"],"0x6046":["UL","1","PixelComponentMask"],"0x6048":["UL","1","PixelComponentRangeStart"],"0x604A":["UL","1","PixelComponentRangeStop"],"0x604C":["US","1","PixelComponentPhysicalUnits"],"0x604E":["US","1","PixelComponentDataType"],"0x6050":["UL","1","NumberOfTableBreakPoints"],"0x6052":["UL","1-n","TableOfXBreakPoints"],"0x6054":["FD","1-n","TableOfYBreakPoints"],"0x6056":["UL","1","NumberOfTableEntries"],"0x6058":["UL","1-n","TableOfPixelValues"],"0x605A":["FL","1-n","TableOfParameterValues"],"0x6060":["FL","1-n","RWaveTimeVector"],"0x7000":["CS","1","DetectorConditionsNominalFlag"],"0x7001":["DS","1","DetectorTemperature"],"0x7004":["CS","1","DetectorType"],"0x7005":["CS","1","DetectorConfiguration"],"0x7006":["LT","1","DetectorDescription"],"0x7008":["LT","1","DetectorMode"],"0x700A":["SH","1","DetectorID"],"0x700C":["DA","1","DateOfLastDetectorCalibration"],"0x700E":["TM","1","TimeOfLastDetectorCalibration"],"0x7010":["IS","1","ExposuresOnDetectorSinceLastCalibration"],"0x7011":["IS","1","ExposuresOnDetectorSinceManufactured"],"0x7012":["DS","1","DetectorTimeSinceLastExposure"],"0x7014":["DS","1","DetectorActiveTime"],"0x7016":["DS","1","DetectorActivationOffsetFromExposure"],"0x701A":["DS","2","DetectorBinning"],"0x7020":["DS","2","DetectorElementPhysicalSize"],"0x7022":["DS","2","DetectorElementSpacing"],"0x7024":["CS","1","DetectorActiveShape"],"0x7026":["DS","1-2","DetectorActiveDimensions"],"0x7028":["DS","2","DetectorActiveOrigin"],"0x702A":["LO","1","DetectorManufacturerName"],"0x702B":["LO","1","DetectorManufacturerModelName"],"0x7030":["DS","2","FieldOfViewOrigin"],"0x7032":["DS","1","FieldOfViewRotation"],"0x7034":["CS","1","FieldOfViewHorizontalFlip"],"0x7036":["FL","2","PixelDataAreaOriginRelativeToFOV"],"0x7038":["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],"0x7040":["LT","1","GridAbsorbingMaterial"],"0x7041":["LT","1","GridSpacingMaterial"],"0x7042":["DS","1","GridThickness"],"0x7044":["DS","1","GridPitch"],"0x7046":["IS","2","GridAspectRatio"],"0x7048":["DS","1","GridPeriod"],"0x704C":["DS","1","GridFocalDistance"],"0x7050":["CS","1-n","FilterMaterial"],"0x7052":["DS","1-n","FilterThicknessMinimum"],"0x7054":["DS","1-n","FilterThicknessMaximum"],"0x7056":["FL","1-n","FilterBeamPathLengthMinimum"],"0x7058":["FL","1-n","FilterBeamPathLengthMaximum"],"0x7060":["CS","1","ExposureControlMode"],"0x7062":["LT","1","ExposureControlModeDescription"],"0x7064":["CS","1","ExposureStatus"],"0x7065":["DS","1","PhototimerSetting"],"0x8150":["DS","1","ExposureTimeInuS"],"0x8151":["DS","1","XRayTubeCurrentInuA"],"0x9004":["CS","1","ContentQualification"],"0x9005":["SH","1","PulseSequenceName"],"0x9006":["SQ","1","MRImagingModifierSequence"],"0x9008":["CS","1","EchoPulseSequence"],"0x9009":["CS","1","InversionRecovery"],"0x9010":["CS","1","FlowCompensation"],"0x9011":["CS","1","MultipleSpinEcho"],"0x9012":["CS","1","MultiPlanarExcitation"],"0x9014":["CS","1","PhaseContrast"],"0x9015":["CS","1","TimeOfFlightContrast"],"0x9016":["CS","1","Spoiling"],"0x9017":["CS","1","SteadyStatePulseSequence"],"0x9018":["CS","1","EchoPlanarPulseSequence"],"0x9019":["FD","1","TagAngleFirstAxis"],"0x9020":["CS","1","MagnetizationTransfer"],"0x9021":["CS","1","T2Preparation"],"0x9022":["CS","1","BloodSignalNulling"],"0x9024":["CS","1","SaturationRecovery"],"0x9025":["CS","1","SpectrallySelectedSuppression"],"0x9026":["CS","1","SpectrallySelectedExcitation"],"0x9027":["CS","1","SpatialPresaturation"],"0x9028":["CS","1","Tagging"],"0x9029":["CS","1","OversamplingPhase"],"0x9030":["FD","1","TagSpacingFirstDimension"],"0x9032":["CS","1","GeometryOfKSpaceTraversal"],"0x9033":["CS","1","SegmentedKSpaceTraversal"],"0x9034":["CS","1","RectilinearPhaseEncodeReordering"],"0x9035":["FD","1","TagThickness"],"0x9036":["CS","1","PartialFourierDirection"],"0x9037":["CS","1","CardiacSynchronizationTechnique"],"0x9041":["LO","1","ReceiveCoilManufacturerName"],"0x9042":["SQ","1","MRReceiveCoilSequence"],"0x9043":["CS","1","ReceiveCoilType"],"0x9044":["CS","1","QuadratureReceiveCoil"],"0x9045":["SQ","1","MultiCoilDefinitionSequence"],"0x9046":["LO","1","MultiCoilConfiguration"],"0x9047":["SH","1","MultiCoilElementName"],"0x9048":["CS","1","MultiCoilElementUsed"],"0x9049":["SQ","1","MRTransmitCoilSequence"],"0x9050":["LO","1","TransmitCoilManufacturerName"],"0x9051":["CS","1","TransmitCoilType"],"0x9052":["FD","1-2","SpectralWidth"],"0x9053":["FD","1-2","ChemicalShiftReference"],"0x9054":["CS","1","VolumeLocalizationTechnique"],"0x9058":["US","1","MRAcquisitionFrequencyEncodingSteps"],"0x9059":["CS","1","Decoupling"],"0x9060":["CS","1-2","DecoupledNucleus"],"0x9061":["FD","1-2","DecouplingFrequency"],"0x9062":["CS","1","DecouplingMethod"],"0x9063":["FD","1-2","DecouplingChemicalShiftReference"],"0x9064":["CS","1","KSpaceFiltering"],"0x9065":["CS","1-2","TimeDomainFiltering"],"0x9066":["US","1-2","NumberOfZeroFills"],"0x9067":["CS","1","BaselineCorrection"],"0x9069":["FD","1","ParallelReductionFactorInPlane"],"0x9070":["FD","1","CardiacRRIntervalSpecified"],"0x9073":["FD","1","AcquisitionDuration"],"0x9074":["DT","1","FrameAcquisitionDateTime"],"0x9075":["CS","1","DiffusionDirectionality"],"0x9076":["SQ","1","DiffusionGradientDirectionSequence"],"0x9077":["CS","1","ParallelAcquisition"],"0x9078":["CS","1","ParallelAcquisitionTechnique"],"0x9079":["FD","1-n","InversionTimes"],"0x9080":["ST","1","MetaboliteMapDescription"],"0x9081":["CS","1","PartialFourier"],"0x9082":["FD","1","EffectiveEchoTime"],"0x9083":["SQ","1","MetaboliteMapCodeSequence"],"0x9084":["SQ","1","ChemicalShiftSequence"],"0x9085":["CS","1","CardiacSignalSource"],"0x9087":["FD","1","DiffusionBValue"],"0x9089":["FD","3","DiffusionGradientOrientation"],"0x9090":["FD","3","VelocityEncodingDirection"],"0x9091":["FD","1","VelocityEncodingMinimumValue"],"0x9092":["SQ","1","VelocityEncodingAcquisitionSequence"],"0x9093":["US","1","NumberOfKSpaceTrajectories"],"0x9094":["CS","1","CoverageOfKSpace"],"0x9095":["UL","1","SpectroscopyAcquisitionPhaseRows"],"0x9096":["FD","1","ParallelReductionFactorInPlaneRetired"],"0x9098":["FD","1-2","TransmitterFrequency"],"0x9100":["CS","1-2","ResonantNucleus"],"0x9101":["CS","1","FrequencyCorrection"],"0x9103":["SQ","1","MRSpectroscopyFOVGeometrySequence"],"0x9104":["FD","1","SlabThickness"],"0x9105":["FD","3","SlabOrientation"],"0x9106":["FD","3","MidSlabPosition"],"0x9107":["SQ","1","MRSpatialSaturationSequence"],"0x9112":["SQ","1","MRTimingAndRelatedParametersSequence"],"0x9114":["SQ","1","MREchoSequence"],"0x9115":["SQ","1","MRModifierSequence"],"0x9117":["SQ","1","MRDiffusionSequence"],"0x9118":["SQ","1","CardiacSynchronizationSequence"],"0x9119":["SQ","1","MRAveragesSequence"],"0x9125":["SQ","1","MRFOVGeometrySequence"],"0x9126":["SQ","1","VolumeLocalizationSequence"],"0x9127":["UL","1","SpectroscopyAcquisitionDataColumns"],"0x9147":["CS","1","DiffusionAnisotropyType"],"0x9151":["DT","1","FrameReferenceDateTime"],"0x9152":["SQ","1","MRMetaboliteMapSequence"],"0x9155":["FD","1","ParallelReductionFactorOutOfPlane"],"0x9159":["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],"0x9166":["CS","1","BulkMotionStatus"],"0x9168":["FD","1","ParallelReductionFactorSecondInPlane"],"0x9169":["CS","1","CardiacBeatRejectionTechnique"],"0x9170":["CS","1","RespiratoryMotionCompensationTechnique"],"0x9171":["CS","1","RespiratorySignalSource"],"0x9172":["CS","1","BulkMotionCompensationTechnique"],"0x9173":["CS","1","BulkMotionSignalSource"],"0x9174":["CS","1","ApplicableSafetyStandardAgency"],"0x9175":["LO","1","ApplicableSafetyStandardDescription"],"0x9176":["SQ","1","OperatingModeSequence"],"0x9177":["CS","1","OperatingModeType"],"0x9178":["CS","1","OperatingMode"],"0x9179":["CS","1","SpecificAbsorptionRateDefinition"],"0x9180":["CS","1","GradientOutputType"],"0x9181":["FD","1","SpecificAbsorptionRateValue"],"0x9182":["FD","1","GradientOutput"],"0x9183":["CS","1","FlowCompensationDirection"],"0x9184":["FD","1","TaggingDelay"],"0x9185":["ST","1","RespiratoryMotionCompensationTechniqueDescription"],"0x9186":["SH","1","RespiratorySignalSourceID"],"0x9195":["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],"0x9196":["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],"0x9197":["SQ","1","MRVelocityEncodingSequence"],"0x9198":["CS","1","FirstOrderPhaseCorrection"],"0x9199":["CS","1","WaterReferencedPhaseCorrection"],"0x9200":["CS","1","MRSpectroscopyAcquisitionType"],"0x9214":["CS","1","RespiratoryCyclePosition"],"0x9217":["FD","1","VelocityEncodingMaximumValue"],"0x9218":["FD","1","TagSpacingSecondDimension"],"0x9219":["SS","1","TagAngleSecondAxis"],"0x9220":["FD","1","FrameAcquisitionDuration"],"0x9226":["SQ","1","MRImageFrameTypeSequence"],"0x9227":["SQ","1","MRSpectroscopyFrameTypeSequence"],"0x9231":["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],"0x9232":["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],"0x9234":["UL","1","SpectroscopyAcquisitionPhaseColumns"],"0x9236":["CS","1","CardiacCyclePosition"],"0x9239":["SQ","1","SpecificAbsorptionRateSequence"],"0x9240":["US","1","RFEchoTrainLength"],"0x9241":["US","1","GradientEchoTrainLength"],"0x9250":["CS","1","ArterialSpinLabelingContrast"],"0x9251":["SQ","1","MRArterialSpinLabelingSequence"],"0x9252":["LO","1","ASLTechniqueDescription"],"0x9253":["US","1","ASLSlabNumber"],"0x9254":["FD","1","ASLSlabThickness"],"0x9255":["FD","3","ASLSlabOrientation"],"0x9256":["FD","3","ASLMidSlabPosition"],"0x9257":["CS","1","ASLContext"],"0x9258":["UL","1","ASLPulseTrainDuration"],"0x9259":["CS","1","ASLCrusherFlag"],"0x925A":["FD","1","ASLCrusherFlowLimit"],"0x925B":["LO","1","ASLCrusherDescription"],"0x925C":["CS","1","ASLBolusCutoffFlag"],"0x925D":["SQ","1","ASLBolusCutoffTimingSequence"],"0x925E":["LO","1","ASLBolusCutoffTechnique"],"0x925F":["UL","1","ASLBolusCutoffDelayTime"],"0x9260":["SQ","1","ASLSlabSequence"],"0x9295":["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],"0x9296":["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],"0x9297":["CS","1","WaterReferenceAcquisition"],"0x9298":["IS","1","EchoPeakPosition"],"0x9301":["SQ","1","CTAcquisitionTypeSequence"],"0x9302":["CS","1","AcquisitionType"],"0x9303":["FD","1","TubeAngle"],"0x9304":["SQ","1","CTAcquisitionDetailsSequence"],"0x9305":["FD","1","RevolutionTime"],"0x9306":["FD","1","SingleCollimationWidth"],"0x9307":["FD","1","TotalCollimationWidth"],"0x9308":["SQ","1","CTTableDynamicsSequence"],"0x9309":["FD","1","TableSpeed"],"0x9310":["FD","1","TableFeedPerRotation"],"0x9311":["FD","1","SpiralPitchFactor"],"0x9312":["SQ","1","CTGeometrySequence"],"0x9313":["FD","3","DataCollectionCenterPatient"],"0x9314":["SQ","1","CTReconstructionSequence"],"0x9315":["CS","1","ReconstructionAlgorithm"],"0x9316":["CS","1","ConvolutionKernelGroup"],"0x9317":["FD","2","ReconstructionFieldOfView"],"0x9318":["FD","3","ReconstructionTargetCenterPatient"],"0x9319":["FD","1","ReconstructionAngle"],"0x9320":["SH","1","ImageFilter"],"0x9321":["SQ","1","CTExposureSequence"],"0x9322":["FD","2","ReconstructionPixelSpacing"],"0x9323":["CS","1","ExposureModulationType"],"0x9324":["FD","1","EstimatedDoseSaving"],"0x9325":["SQ","1","CTXRayDetailsSequence"],"0x9326":["SQ","1","CTPositionSequence"],"0x9327":["FD","1","TablePosition"],"0x9328":["FD","1","ExposureTimeInms"],"0x9329":["SQ","1","CTImageFrameTypeSequence"],"0x9330":["FD","1","XRayTubeCurrentInmA"],"0x9332":["FD","1","ExposureInmAs"],"0x9333":["CS","1","ConstantVolumeFlag"],"0x9334":["CS","1","FluoroscopyFlag"],"0x9335":["FD","1","DistanceSourceToDataCollectionCenter"],"0x9337":["US","1","ContrastBolusAgentNumber"],"0x9338":["SQ","1","ContrastBolusIngredientCodeSequence"],"0x9340":["SQ","1","ContrastAdministrationProfileSequence"],"0x9341":["SQ","1","ContrastBolusUsageSequence"],"0x9342":["CS","1","ContrastBolusAgentAdministered"],"0x9343":["CS","1","ContrastBolusAgentDetected"],"0x9344":["CS","1","ContrastBolusAgentPhase"],"0x9345":["FD","1","CTDIvol"],"0x9346":["SQ","1","CTDIPhantomTypeCodeSequence"],"0x9351":["FL","1","CalciumScoringMassFactorPatient"],"0x9352":["FL","3","CalciumScoringMassFactorDevice"],"0x9353":["FL","1","EnergyWeightingFactor"],"0x9360":["SQ","1","CTAdditionalXRaySourceSequence"],"0x9401":["SQ","1","ProjectionPixelCalibrationSequence"],"0x9402":["FL","1","DistanceSourceToIsocenter"],"0x9403":["FL","1","DistanceObjectToTableTop"],"0x9404":["FL","2","ObjectPixelSpacingInCenterOfBeam"],"0x9405":["SQ","1","PositionerPositionSequence"],"0x9406":["SQ","1","TablePositionSequence"],"0x9407":["SQ","1","CollimatorShapeSequence"],"0x9410":["CS","1","PlanesInAcquisition"],"0x9412":["SQ","1","XAXRFFrameCharacteristicsSequence"],"0x9417":["SQ","1","FrameAcquisitionSequence"],"0x9420":["CS","1","XRayReceptorType"],"0x9423":["LO","1","AcquisitionProtocolName"],"0x9424":["LT","1","AcquisitionProtocolDescription"],"0x9425":["CS","1","ContrastBolusIngredientOpaque"],"0x9426":["FL","1","DistanceReceptorPlaneToDetectorHousing"],"0x9427":["CS","1","IntensifierActiveShape"],"0x9428":["FL","1-2","IntensifierActiveDimensions"],"0x9429":["FL","2","PhysicalDetectorSize"],"0x9430":["FL","2","PositionOfIsocenterProjection"],"0x9432":["SQ","1","FieldOfViewSequence"],"0x9433":["LO","1","FieldOfViewDescription"],"0x9434":["SQ","1","ExposureControlSensingRegionsSequence"],"0x9435":["CS","1","ExposureControlSensingRegionShape"],"0x9436":["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],"0x9437":["SS","1","ExposureControlSensingRegionRightVerticalEdge"],"0x9438":["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],"0x9439":["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],"0x9440":["SS","2","CenterOfCircularExposureControlSensingRegion"],"0x9441":["US","1","RadiusOfCircularExposureControlSensingRegion"],"0x9442":["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],"0x9445":["","",""],"0x9447":["FL","1","ColumnAngulationPatient"],"0x9449":["FL","1","BeamAngle"],"0x9451":["SQ","1","FrameDetectorParametersSequence"],"0x9452":["FL","1","CalculatedAnatomyThickness"],"0x9455":["SQ","1","CalibrationSequence"],"0x9456":["SQ","1","ObjectThicknessSequence"],"0x9457":["CS","1","PlaneIdentification"],"0x9461":["FL","1-2","FieldOfViewDimensionsInFloat"],"0x9462":["SQ","1","IsocenterReferenceSystemSequence"],"0x9463":["FL","1","PositionerIsocenterPrimaryAngle"],"0x9464":["FL","1","PositionerIsocenterSecondaryAngle"],"0x9465":["FL","1","PositionerIsocenterDetectorRotationAngle"],"0x9466":["FL","1","TableXPositionToIsocenter"],"0x9467":["FL","1","TableYPositionToIsocenter"],"0x9468":["FL","1","TableZPositionToIsocenter"],"0x9469":["FL","1","TableHorizontalRotationAngle"],"0x9470":["FL","1","TableHeadTiltAngle"],"0x9471":["FL","1","TableCradleTiltAngle"],"0x9472":["SQ","1","FrameDisplayShutterSequence"],"0x9473":["FL","1","AcquiredImageAreaDoseProduct"],"0x9474":["CS","1","CArmPositionerTabletopRelationship"],"0x9476":["SQ","1","XRayGeometrySequence"],"0x9477":["SQ","1","IrradiationEventIdentificationSequence"],"0x9504":["SQ","1","XRay3DFrameTypeSequence"],"0x9506":["SQ","1","ContributingSourcesSequence"],"0x9507":["SQ","1","XRay3DAcquisitionSequence"],"0x9508":["FL","1","PrimaryPositionerScanArc"],"0x9509":["FL","1","SecondaryPositionerScanArc"],"0x9510":["FL","1","PrimaryPositionerScanStartAngle"],"0x9511":["FL","1","SecondaryPositionerScanStartAngle"],"0x9514":["FL","1","PrimaryPositionerIncrement"],"0x9515":["FL","1","SecondaryPositionerIncrement"],"0x9516":["DT","1","StartAcquisitionDateTime"],"0x9517":["DT","1","EndAcquisitionDateTime"],"0x9518":["SS","1","PrimaryPositionerIncrementSign"],"0x9519":["SS","1","SecondaryPositionerIncrementSign"],"0x9524":["LO","1","ApplicationName"],"0x9525":["LO","1","ApplicationVersion"],"0x9526":["LO","1","ApplicationManufacturer"],"0x9527":["CS","1","AlgorithmType"],"0x9528":["LO","1","AlgorithmDescription"],"0x9530":["SQ","1","XRay3DReconstructionSequence"],"0x9531":["LO","1","ReconstructionDescription"],"0x9538":["SQ","1","PerProjectionAcquisitionSequence"],"0x9541":["SQ","1","DetectorPositionSequence"],"0x9542":["SQ","1","XRayAcquisitionDoseSequence"],"0x9543":["FD","1","XRaySourceIsocenterPrimaryAngle"],"0x9544":["FD","1","XRaySourceIsocenterSecondaryAngle"],"0x9545":["FD","1","BreastSupportIsocenterPrimaryAngle"],"0x9546":["FD","1","BreastSupportIsocenterSecondaryAngle"],"0x9547":["FD","1","BreastSupportXPositionToIsocenter"],"0x9548":["FD","1","BreastSupportYPositionToIsocenter"],"0x9549":["FD","1","BreastSupportZPositionToIsocenter"],"0x9550":["FD","1","DetectorIsocenterPrimaryAngle"],"0x9551":["FD","1","DetectorIsocenterSecondaryAngle"],"0x9552":["FD","1","DetectorXPositionToIsocenter"],"0x9553":["FD","1","DetectorYPositionToIsocenter"],"0x9554":["FD","1","DetectorZPositionToIsocenter"],"0x9555":["SQ","1","XRayGridSequence"],"0x9556":["SQ","1","XRayFilterSequence"],"0x9557":["FD","3","DetectorActiveAreaTLHCPosition"],"0x9558":["FD","6","DetectorActiveAreaOrientation"],"0x9559":["CS","1","PositionerPrimaryAngleDirection"],"0x9601":["SQ","1","DiffusionBMatrixSequence"],"0x9602":["FD","1","DiffusionBValueXX"],"0x9603":["FD","1","DiffusionBValueXY"],"0x9604":["FD","1","DiffusionBValueXZ"],"0x9605":["FD","1","DiffusionBValueYY"],"0x9606":["FD","1","DiffusionBValueYZ"],"0x9607":["FD","1","DiffusionBValueZZ"],"0x9701":["DT","1","DecayCorrectionDateTime"],"0x9715":["FD","1","StartDensityThreshold"],"0x9716":["FD","1","StartRelativeDensityDifferenceThreshold"],"0x9717":["FD","1","StartCardiacTriggerCountThreshold"],"0x9718":["FD","1","StartRespiratoryTriggerCountThreshold"],"0x9719":["FD","1","TerminationCountsThreshold"],"0x9720":["FD","1","TerminationDensityThreshold"],"0x9721":["FD","1","TerminationRelativeDensityThreshold"],"0x9722":["FD","1","TerminationTimeThreshold"],"0x9723":["FD","1","TerminationCardiacTriggerCountThreshold"],"0x9724":["FD","1","TerminationRespiratoryTriggerCountThreshold"],"0x9725":["CS","1","DetectorGeometry"],"0x9726":["FD","1","TransverseDetectorSeparation"],"0x9727":["FD","1","AxialDetectorDimension"],"0x9729":["US","1","RadiopharmaceuticalAgentNumber"],"0x9732":["SQ","1","PETFrameAcquisitionSequence"],"0x9733":["SQ","1","PETDetectorMotionDetailsSequence"],"0x9734":["SQ","1","PETTableDynamicsSequence"],"0x9735":["SQ","1","PETPositionSequence"],"0x9736":["SQ","1","PETFrameCorrectionFactorsSequence"],"0x9737":["SQ","1","RadiopharmaceuticalUsageSequence"],"0x9738":["CS","1","AttenuationCorrectionSource"],"0x9739":["US","1","NumberOfIterations"],"0x9740":["US","1","NumberOfSubsets"],"0x9749":["SQ","1","PETReconstructionSequence"],"0x9751":["SQ","1","PETFrameTypeSequence"],"0x9755":["CS","1","TimeOfFlightInformationUsed"],"0x9756":["CS","1","ReconstructionType"],"0x9758":["CS","1","DecayCorrected"],"0x9759":["CS","1","AttenuationCorrected"],"0x9760":["CS","1","ScatterCorrected"],"0x9761":["CS","1","DeadTimeCorrected"],"0x9762":["CS","1","GantryMotionCorrected"],"0x9763":["CS","1","PatientMotionCorrected"],"0x9764":["CS","1","CountLossNormalizationCorrected"],"0x9765":["CS","1","RandomsCorrected"],"0x9766":["CS","1","NonUniformRadialSamplingCorrected"],"0x9767":["CS","1","SensitivityCalibrated"],"0x9768":["CS","1","DetectorNormalizationCorrection"],"0x9769":["CS","1","IterativeReconstructionMethod"],"0x9770":["CS","1","AttenuationCorrectionTemporalRelationship"],"0x9771":["SQ","1","PatientPhysiologicalStateSequence"],"0x9772":["SQ","1","PatientPhysiologicalStateCodeSequence"],"0x9801":["FD","1-n","DepthsOfFocus"],"0x9803":["SQ","1","ExcludedIntervalsSequence"],"0x9804":["DT","1","ExclusionStartDateTime"],"0x9805":["FD","1","ExclusionDuration"],"0x9806":["SQ","1","USImageDescriptionSequence"],"0x9807":["SQ","1","ImageDataTypeSequence"],"0x9808":["CS","1","DataType"],"0x9809":["SQ","1","TransducerScanPatternCodeSequence"],"0x980B":["CS","1","AliasedDataType"],"0x980C":["CS","1","PositionMeasuringDeviceUsed"],"0x980D":["SQ","1","TransducerGeometryCodeSequence"],"0x980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"0x980F":["SQ","1","TransducerApplicationCodeSequence"],"0x9810":["xs","1","ZeroVelocityPixelValue"],"0xA001":["SQ","1","ContributingEquipmentSequence"],"0xA002":["DT","1","ContributionDateTime"],"0xA003":["ST","1","ContributionDescription"]},"0x0020":{"0x0000":["UL","1","GenericGroupLength"],"0x000D":["UI","1","StudyInstanceUID"],"0x000E":["UI","1","SeriesInstanceUID"],"0x0010":["SH","1","StudyID"],"0x0011":["IS","1","SeriesNumber"],"0x0012":["IS","1","AcquisitionNumber"],"0x0013":["IS","1","InstanceNumber"],"0x0014":["IS","1","IsotopeNumber"],"0x0015":["IS","1","PhaseNumber"],"0x0016":["IS","1","IntervalNumber"],"0x0017":["IS","1","TimeSlotNumber"],"0x0018":["IS","1","AngleNumber"],"0x0019":["IS","1","ItemNumber"],"0x0020":["CS","2","PatientOrientation"],"0x0022":["IS","1","OverlayNumber"],"0x0024":["IS","1","CurveNumber"],"0x0026":["IS","1","LUTNumber"],"0x0030":["DS","3","ImagePosition"],"0x0032":["DS","3","ImagePositionPatient"],"0x0035":["DS","6","ImageOrientation"],"0x0037":["DS","6","ImageOrientationPatient"],"0x0050":["DS","1","Location"],"0x0052":["UI","1","FrameOfReferenceUID"],"0x0060":["CS","1","Laterality"],"0x0062":["CS","1","ImageLaterality"],"0x0070":["LO","1","ImageGeometryType"],"0x0080":["CS","1-n","MaskingImage"],"0x00AA":["IS","1","ReportNumber"],"0x0100":["IS","1","TemporalPositionIdentifier"],"0x0105":["IS","1","NumberOfTemporalPositions"],"0x0110":["DS","1","TemporalResolution"],"0x0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0x0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],"0x1000":["IS","1","SeriesInStudy"],"0x1001":["IS","1","AcquisitionsInSeries"],"0x1002":["IS","1","ImagesInAcquisition"],"0x1003":["IS","1","ImagesInSeries"],"0x1004":["IS","1","AcquisitionsInStudy"],"0x1005":["IS","1","ImagesInStudy"],"0x1020":["LO","1-n","Reference"],"0x1040":["LO","1","PositionReferenceIndicator"],"0x1041":["DS","1","SliceLocation"],"0x1070":["IS","1-n","OtherStudyNumbers"],"0x1200":["IS","1","NumberOfPatientRelatedStudies"],"0x1202":["IS","1","NumberOfPatientRelatedSeries"],"0x1204":["IS","1","NumberOfPatientRelatedInstances"],"0x1206":["IS","1","NumberOfStudyRelatedSeries"],"0x1208":["IS","1","NumberOfStudyRelatedInstances"],"0x1209":["IS","1","NumberOfSeriesRelatedInstances"],"0x3100":["CS","1-n","SourceImageIDs"],"0x3401":["CS","1","ModifyingDeviceID"],"0x3402":["CS","1","ModifiedImageID"],"0x3403":["DA","1","ModifiedImageDate"],"0x3404":["LO","1","ModifyingDeviceManufacturer"],"0x3405":["TM","1","ModifiedImageTime"],"0x3406":["LO","1","ModifiedImageDescription"],"0x4000":["LT","1","ImageComments"],"0x5000":["AT","1-n","OriginalImageIdentification"],"0x5002":["LO","1-n","OriginalImageIdentificationNomenclature"],"0x9056":["SH","1","StackID"],"0x9057":["UL","1","InStackPositionNumber"],"0x9071":["SQ","1","FrameAnatomySequence"],"0x9072":["CS","1","FrameLaterality"],"0x9111":["SQ","1","FrameContentSequence"],"0x9113":["SQ","1","PlanePositionSequence"],"0x9116":["SQ","1","PlaneOrientationSequence"],"0x9128":["UL","1","TemporalPositionIndex"],"0x9153":["FD","1","NominalCardiacTriggerDelayTime"],"0x9154":["FL","1","NominalCardiacTriggerTimePriorToRPeak"],"0x9155":["FL","1","ActualCardiacTriggerTimePriorToRPeak"],"0x9156":["US","1","FrameAcquisitionNumber"],"0x9157":["UL","1-n","DimensionIndexValues"],"0x9158":["LT","1","FrameComments"],"0x9161":["UI","1","ConcatenationUID"],"0x9162":["US","1","InConcatenationNumber"],"0x9163":["US","1","InConcatenationTotalNumber"],"0x9164":["UI","1","DimensionOrganizationUID"],"0x9165":["AT","1","DimensionIndexPointer"],"0x9167":["AT","1","FunctionalGroupPointer"],"0x9170":["SQ","1","UnassignedSharedConvertedAttributesSequence"],"0x9171":["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],"0x9172":["SQ","1","ConversionSourceAttributesSequence"],"0x9213":["LO","1","DimensionIndexPrivateCreator"],"0x9221":["SQ","1","DimensionOrganizationSequence"],"0x9222":["SQ","1","DimensionIndexSequence"],"0x9228":["UL","1","ConcatenationFrameOffsetNumber"],"0x9238":["LO","1","FunctionalGroupPrivateCreator"],"0x9241":["FL","1","NominalPercentageOfCardiacPhase"],"0x9245":["FL","1","NominalPercentageOfRespiratoryPhase"],"0x9246":["FL","1","StartingRespiratoryAmplitude"],"0x9247":["CS","1","StartingRespiratoryPhase"],"0x9248":["FL","1","EndingRespiratoryAmplitude"],"0x9249":["CS","1","EndingRespiratoryPhase"],"0x9250":["CS","1","RespiratoryTriggerType"],"0x9251":["FD","1","RRIntervalTimeNominal"],"0x9252":["FD","1","ActualCardiacTriggerDelayTime"],"0x9253":["SQ","1","RespiratorySynchronizationSequence"],"0x9254":["FD","1","RespiratoryIntervalTime"],"0x9255":["FD","1","NominalRespiratoryTriggerDelayTime"],"0x9256":["FD","1","RespiratoryTriggerDelayThreshold"],"0x9257":["FD","1","ActualRespiratoryTriggerDelayTime"],"0x9301":["FD","3","ImagePositionVolume"],"0x9302":["FD","6","ImageOrientationVolume"],"0x9307":["CS","1","UltrasoundAcquisitionGeometry"],"0x9308":["FD","3","ApexPosition"],"0x9309":["FD","16","VolumeToTransducerMappingMatrix"],"0x930A":["FD","16","VolumeToTableMappingMatrix"],"0x930B":["CS","1","VolumeToTransducerRelationship"],"0x930C":["CS","1","PatientFrameOfReferenceSource"],"0x930D":["FD","1","TemporalPositionTimeOffset"],"0x930E":["SQ","1","PlanePositionVolumeSequence"],"0x930F":["SQ","1","PlaneOrientationVolumeSequence"],"0x9310":["SQ","1","TemporalPositionSequence"],"0x9311":["CS","1","DimensionOrganizationType"],"0x9312":["UI","1","VolumeFrameOfReferenceUID"],"0x9313":["UI","1","TableFrameOfReferenceUID"],"0x9421":["LO","1","DimensionDescriptionLabel"],"0x9450":["SQ","1","PatientOrientationInFrameSequence"],"0x9453":["LO","1","FrameLabel"],"0x9518":["US","1-n","AcquisitionIndex"],"0x9529":["SQ","1","ContributingSOPInstancesReferenceSequence"],"0x9536":["US","1","ReconstructionIndex"]},"0x0022":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["US","1","LightPathFilterPassThroughWavelength"],"0x0002":["US","2","LightPathFilterPassBand"],"0x0003":["US","1","ImagePathFilterPassThroughWavelength"],"0x0004":["US","2","ImagePathFilterPassBand"],"0x0005":["CS","1","PatientEyeMovementCommanded"],"0x0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0x0007":["FL","1","SphericalLensPower"],"0x0008":["FL","1","CylinderLensPower"],"0x0009":["FL","1","CylinderAxis"],"0x000A":["FL","1","EmmetropicMagnification"],"0x000B":["FL","1","IntraOcularPressure"],"0x000C":["FL","1","HorizontalFieldOfView"],"0x000D":["CS","1","PupilDilated"],"0x000E":["FL","1","DegreeOfDilation"],"0x0010":["FL","1","StereoBaselineAngle"],"0x0011":["FL","1","StereoBaselineDisplacement"],"0x0012":["FL","1","StereoHorizontalPixelOffset"],"0x0013":["FL","1","StereoVerticalPixelOffset"],"0x0014":["FL","1","StereoRotation"],"0x0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0x0016":["SQ","1","IlluminationTypeCodeSequence"],"0x0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0x0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0x0019":["SQ","1","LensesCodeSequence"],"0x001A":["SQ","1","ChannelDescriptionCodeSequence"],"0x001B":["SQ","1","RefractiveStateSequence"],"0x001C":["SQ","1","MydriaticAgentCodeSequence"],"0x001D":["SQ","1","RelativeImagePositionCodeSequence"],"0x001E":["FL","1","CameraAngleOfView"],"0x0020":["SQ","1","StereoPairsSequence"],"0x0021":["SQ","1","LeftImageSequence"],"0x0022":["SQ","1","RightImageSequence"],"0x0028":["CS","1","StereoPairsPresent"],"0x0030":["FL","1","AxialLengthOfTheEye"],"0x0031":["SQ","1","OphthalmicFrameLocationSequence"],"0x0032":["FL","2-2n","ReferenceCoordinates"],"0x0035":["FL","1","DepthSpatialResolution"],"0x0036":["FL","1","MaximumDepthDistortion"],"0x0037":["FL","1","AlongScanSpatialResolution"],"0x0038":["FL","1","MaximumAlongScanDistortion"],"0x0039":["CS","1","OphthalmicImageOrientation"],"0x0041":["FL","1","DepthOfTransverseImage"],"0x0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0x0048":["FL","1","AcrossScanSpatialResolution"],"0x0049":["FL","1","MaximumAcrossScanDistortion"],"0x004E":["DS","1","MydriaticAgentConcentration"],"0x0055":["FL","1","IlluminationWaveLength"],"0x0056":["FL","1","IlluminationPower"],"0x0057":["FL","1","IlluminationBandwidth"],"0x0058":["SQ","1","MydriaticAgentSequence"],"0x1007":["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],"0x1008":["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],"0x1009":["CS","1","OphthalmicAxialMeasurementsDeviceType"],"0x1010":["CS","1","OphthalmicAxialLengthMeasurementsType"],"0x1012":["SQ","1","OphthalmicAxialLengthSequence"],"0x1019":["FL","1","OphthalmicAxialLength"],"0x1024":["SQ","1","LensStatusCodeSequence"],"0x1025":["SQ","1","VitreousStatusCodeSequence"],"0x1028":["SQ","1","IOLFormulaCodeSequence"],"0x1029":["LO","1","IOLFormulaDetail"],"0x1033":["FL","1","KeratometerIndex"],"0x1035":["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],"0x1037":["FL","1","TargetRefraction"],"0x1039":["CS","1","RefractiveProcedureOccurred"],"0x1040":["SQ","1","RefractiveSurgeryTypeCodeSequence"],"0x1044":["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],"0x1050":["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],"0x1053":["FL","1","IOLPower"],"0x1054":["FL","1","PredictedRefractiveError"],"0x1059":["FL","1","OphthalmicAxialLengthVelocity"],"0x1065":["LO","1","LensStatusDescription"],"0x1066":["LO","1","VitreousStatusDescription"],"0x1090":["SQ","1","IOLPowerSequence"],"0x1092":["SQ","1","LensConstantSequence"],"0x1093":["LO","1","IOLManufacturer"],"0x1094":["LO","1","LensConstantDescription"],"0x1095":["LO","1","ImplantName"],"0x1096":["SQ","1","KeratometryMeasurementTypeCodeSequence"],"0x1097":["LO","1","ImplantPartNumber"],"0x1100":["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],"0x1101":["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],"0x1103":["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],"0x1121":["FL","1","IOLPowerForExactEmmetropia"],"0x1122":["FL","1","IOLPowerForExactTargetRefraction"],"0x1125":["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],"0x1127":["SQ","1","LensThicknessSequence"],"0x1128":["SQ","1","AnteriorChamberDepthSequence"],"0x1130":["FL","1","LensThickness"],"0x1131":["FL","1","AnteriorChamberDepth"],"0x1132":["SQ","1","SourceOfLensThicknessDataCodeSequence"],"0x1133":["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],"0x1134":["SQ","1","SourceOfRefractiveMeasurementsSequence"],"0x1135":["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],"0x1140":["CS","1","OphthalmicAxialLengthMeasurementModified"],"0x1150":["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],"0x1153":["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],"0x1155":["FL","1","SignalToNoiseRatio"],"0x1159":["LO","1","OphthalmicAxialLengthDataSourceDescription"],"0x1210":["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],"0x1211":["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],"0x1212":["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],"0x1220":["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],"0x1225":["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],"0x1230":["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],"0x1250":["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],"0x1255":["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],"0x1257":["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],"0x1260":["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],"0x1262":["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],"0x1265":["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],"0x1273":["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],"0x1300":["SQ","1","IntraocularLensCalculationsRightEyeSequence"],"0x1310":["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],"0x1330":["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],"0x1415":["CS","1","OphthalmicMappingDeviceType"],"0x1420":["SQ","1","AcquisitionMethodCodeSequence"],"0x1423":["SQ","1","AcquisitionMethodAlgorithmSequence"],"0x1436":["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],"0x1443":["SQ","1","OphthalmicThicknessMappingNormalsSequence"],"0x1445":["SQ","1","RetinalThicknessDefinitionCodeSequence"],"0x1450":["SQ","1","PixelValueMappingToCodedConceptSequence"],"0x1452":["xs","1","MappedPixelValue"],"0x1454":["LO","1","PixelValueMappingExplanation"],"0x1458":["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],"0x1460":["FL","1","OphthalmicThicknessMapThresholdQualityRating"],"0x1463":["FL","2","AnatomicStructureReferencePoint"],"0x1465":["SQ","1","RegistrationToLocalizerSequence"],"0x1466":["CS","1","RegisteredLocalizerUnits"],"0x1467":["FL","2","RegisteredLocalizerTopLeftHandCorner"],"0x1468":["FL","2","RegisteredLocalizerBottomRightHandCorner"],"0x1470":["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],"0x1472":["SQ","1","RelevantOPTAttributesSequence"],"0x1512":["SQ","1","TransformationMethodCodeSequence"],"0x1513":["SQ","1","TransformationAlgorithmSequence"],"0x1515":["CS","1","OphthalmicAxialLengthMethod"],"0x1517":["FL","1","OphthalmicFOV"],"0x1518":["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],"0x1525":["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],"0x1526":["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],"0x1527":["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],"0x1528":["FL","1","XCoordinatesCenterPixelViewAngle"],"0x1529":["FL","1","YCoordinatesCenterPixelViewAngle"],"0x1530":["UL","1","NumberOfMapPoints"],"0x1531":["OF","1","TwoDimensionalToThreeDimensionalMapData"]},"0x0024":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["FL","1","VisualFieldHorizontalExtent"],"0x0011":["FL","1","VisualFieldVerticalExtent"],"0x0012":["CS","1","VisualFieldShape"],"0x0016":["SQ","1","ScreeningTestModeCodeSequence"],"0x0018":["FL","1","MaximumStimulusLuminance"],"0x0020":["FL","1","BackgroundLuminance"],"0x0021":["SQ","1","StimulusColorCodeSequence"],"0x0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0x0025":["FL","1","StimulusArea"],"0x0028":["FL","1","StimulusPresentationTime"],"0x0032":["SQ","1","FixationSequence"],"0x0033":["SQ","1","FixationMonitoringCodeSequence"],"0x0034":["SQ","1","VisualFieldCatchTrialSequence"],"0x0035":["US","1","FixationCheckedQuantity"],"0x0036":["US","1","PatientNotProperlyFixatedQuantity"],"0x0037":["CS","1","PresentedVisualStimuliDataFlag"],"0x0038":["US","1","NumberOfVisualStimuli"],"0x0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0x0040":["CS","1","ExcessiveFixationLosses"],"0x0042":["US","1","StimuliRetestingQuantity"],"0x0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0x0045":["CS","1","FalseNegativesEstimateFlag"],"0x0046":["FL","1","FalseNegativesEstimate"],"0x0048":["US","1","NegativeCatchTrialsQuantity"],"0x0050":["US","1","FalseNegativesQuantity"],"0x0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0x0052":["CS","1","ExcessiveFalseNegatives"],"0x0053":["CS","1","FalsePositivesEstimateFlag"],"0x0054":["FL","1","FalsePositivesEstimate"],"0x0055":["CS","1","CatchTrialsDataFlag"],"0x0056":["US","1","PositiveCatchTrialsQuantity"],"0x0057":["CS","1","TestPointNormalsDataFlag"],"0x0058":["SQ","1","TestPointNormalsSequence"],"0x0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0x0060":["US","1","FalsePositivesQuantity"],"0x0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0x0062":["CS","1","ExcessiveFalsePositives"],"0x0063":["CS","1","VisualFieldTestNormalsFlag"],"0x0064":["SQ","1","ResultsNormalsSequence"],"0x0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0x0066":["FL","1","GlobalDeviationFromNormal"],"0x0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0x0068":["FL","1","LocalizedDeviationFromNormal"],"0x0069":["LO","1","PatientReliabilityIndicator"],"0x0070":["FL","1","VisualFieldMeanSensitivity"],"0x0071":["FL","1","GlobalDeviationProbability"],"0x0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0x0073":["FL","1","LocalizedDeviationProbability"],"0x0074":["CS","1","ShortTermFluctuationCalculated"],"0x0075":["FL","1","ShortTermFluctuation"],"0x0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0x0077":["FL","1","ShortTermFluctuationProbability"],"0x0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0x0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0x0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0x0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0x0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0x0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0x0086":["CS","1","FovealSensitivityMeasured"],"0x0087":["FL","1","FovealSensitivity"],"0x0088":["FL","1","VisualFieldTestDuration"],"0x0089":["SQ","1","VisualFieldTestPointSequence"],"0x0090":["FL","1","VisualFieldTestPointXCoordinate"],"0x0091":["FL","1","VisualFieldTestPointYCoordinate"],"0x0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0x0093":["CS","1","StimulusResults"],"0x0094":["FL","1","SensitivityValue"],"0x0095":["CS","1","RetestStimulusSeen"],"0x0096":["FL","1","RetestSensitivityValue"],"0x0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0x0098":["FL","1","QuantifiedDefect"],"0x0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0x0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0x0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0x0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0x0105":["FL","1","MinimumSensitivityValue"],"0x0106":["CS","1","BlindSpotLocalized"],"0x0107":["FL","1","BlindSpotXCoordinate"],"0x0108":["FL","1","BlindSpotYCoordinate"],"0x0110":["SQ","1","VisualAcuityMeasurementSequence"],"0x0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0x0113":["CS","1","MeasurementLaterality"],"0x0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0x0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0x0117":["CS","1","FovealPointNormativeDataFlag"],"0x0118":["FL","1","FovealPointProbabilityValue"],"0x0120":["CS","1","ScreeningBaselineMeasured"],"0x0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0x0124":["CS","1","ScreeningBaselineType"],"0x0126":["FL","1","ScreeningBaselineValue"],"0x0202":["LO","1","AlgorithmSource"],"0x0306":["LO","1","DataSetName"],"0x0307":["LO","1","DataSetVersion"],"0x0308":["LO","1","DataSetSource"],"0x0309":["LO","1","DataSetDescription"],"0x0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0x0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0x0325":["SQ","1","DataObservationSequence"],"0x0338":["CS","1","IndexNormalsFlag"],"0x0341":["FL","1","IndexProbability"],"0x0344":["SQ","1","IndexProbabilitySequence"]},"0x0028":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["US","1","SamplesPerPixel"],"0x0003":["US","1","SamplesPerPixelUsed"],"0x0004":["CS","1","PhotometricInterpretation"],"0x0005":["US","1","ImageDimensions"],"0x0006":["US","1","PlanarConfiguration"],"0x0008":["IS","1","NumberOfFrames"],"0x0009":["AT","1-n","FrameIncrementPointer"],"0x000A":["AT","1-n","FrameDimensionPointer"],"0x0010":["US","1","Rows"],"0x0011":["US","1","Columns"],"0x0012":["US","1","Planes"],"0x0014":["US","1","UltrasoundColorDataPresent"],"0x0020":["","",""],"0x0030":["DS","2","PixelSpacing"],"0x0031":["DS","2","ZoomFactor"],"0x0032":["DS","2","ZoomCenter"],"0x0034":["IS","2","PixelAspectRatio"],"0x0040":["CS","1","ImageFormat"],"0x0050":["LO","1-n","ManipulatedImage"],"0x0051":["CS","1-n","CorrectedImage"],"0x005F":["LO","1","CompressionRecognitionCode"],"0x0060":["CS","1","CompressionCode"],"0x0061":["SH","1","CompressionOriginator"],"0x0062":["LO","1","CompressionLabel"],"0x0063":["SH","1","CompressionDescription"],"0x0065":["CS","1-n","CompressionSequence"],"0x0066":["AT","1-n","CompressionStepPointers"],"0x0068":["US","1","RepeatInterval"],"0x0069":["US","1","BitsGrouped"],"0x0070":["US","1-n","PerimeterTable"],"0x0071":["xs","1","PerimeterValue"],"0x0080":["US","1","PredictorRows"],"0x0081":["US","1","PredictorColumns"],"0x0082":["US","1-n","PredictorConstants"],"0x0090":["CS","1","BlockedPixels"],"0x0091":["US","1","BlockRows"],"0x0092":["US","1","BlockColumns"],"0x0093":["US","1","RowOverlap"],"0x0094":["US","1","ColumnOverlap"],"0x0100":["US","1","BitsAllocated"],"0x0101":["US","1","BitsStored"],"0x0102":["US","1","HighBit"],"0x0103":["US","1","PixelRepresentation"],"0x0104":["xs","1","SmallestValidPixelValue"],"0x0105":["xs","1","LargestValidPixelValue"],"0x0106":["xs","1","SmallestImagePixelValue"],"0x0107":["xs","1","LargestImagePixelValue"],"0x0108":["xs","1","SmallestPixelValueInSeries"],"0x0109":["xs","1","LargestPixelValueInSeries"],"0x0110":["xs","1","SmallestImagePixelValueInPlane"],"0x0111":["xs","1","LargestImagePixelValueInPlane"],"0x0120":["xs","1","PixelPaddingValue"],"0x0121":["xs","1","PixelPaddingRangeLimit"],"0x0122":["FL","1","FloatPixelPaddingValue"],"0x0123":["FD","1","DoubleFloatPixelPaddingValue"],"0x0124":["FL","1","FloatPixelPaddingRangeLimit"],"0x0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0x0200":["US","1","ImageLocation"],"0x0300":["CS","1","QualityControlImage"],"0x0301":["CS","1","BurnedInAnnotation"],"0x0302":["CS","1","RecognizableVisualFeatures"],"0x0303":["CS","1","LongitudinalTemporalInformationModified"],"0x0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0x0400":["LO","1","TransformLabel"],"0x0401":["LO","1","TransformVersionNumber"],"0x0402":["US","1","NumberOfTransformSteps"],"0x0403":["LO","1-n","SequenceOfCompressedData"],"0x0404":["AT","1-n","DetailsOfCoefficients"],"0x04x0":["US","1","RowsForNthOrderCoefficients"],"0x04x1":["US","1","ColumnsForNthOrderCoefficients"],"0x04x2":["LO","1-n","CoefficientCoding"],"0x04x3":["AT","1-n","CoefficientCodingPointers"],"0x0700":["LO","1","DCTLabel"],"0x0701":["CS","1-n","DataBlockDescription"],"0x0702":["AT","1-n","DataBlock"],"0x0710":["US","1","NormalizationFactorFormat"],"0x0720":["US","1","ZonalMapNumberFormat"],"0x0721":["AT","1-n","ZonalMapLocation"],"0x0722":["US","1","ZonalMapFormat"],"0x0730":["US","1","AdaptiveMapFormat"],"0x0740":["US","1","CodeNumberFormat"],"0x08x0":["CS","1-n","CodeLabel"],"0x08x2":["US","1","NumberOfTables"],"0x08x3":["AT","1-n","CodeTableLocation"],"0x08x4":["US","1","BitsForCodeWord"],"0x08x8":["AT","1-n","ImageDataLocation"],"0x0A02":["CS","1","PixelSpacingCalibrationType"],"0x0A04":["LO","1","PixelSpacingCalibrationDescription"],"0x1040":["CS","1","PixelIntensityRelationship"],"0x1041":["SS","1","PixelIntensityRelationshipSign"],"0x1050":["DS","1-n","WindowCenter"],"0x1051":["DS","1-n","WindowWidth"],"0x1052":["DS","1","RescaleIntercept"],"0x1053":["DS","1","RescaleSlope"],"0x1054":["LO","1","RescaleType"],"0x1055":["LO","1-n","WindowCenterWidthExplanation"],"0x1056":["CS","1","VOILUTFunction"],"0x1080":["CS","1","GrayScale"],"0x1090":["CS","1","RecommendedViewingMode"],"0x1100":["xs","3","GrayLookupTableDescriptor"],"0x1101":["xs","3","RedPaletteColorLookupTableDescriptor"],"0x1102":["xs","3","GreenPaletteColorLookupTableDescriptor"],"0x1103":["xs","3","BluePaletteColorLookupTableDescriptor"],"0x1104":["US","3","AlphaPaletteColorLookupTableDescriptor"],"0x1111":["xs","4","LargeRedPaletteColorLookupTableDescriptor"],"0x1112":["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],"0x1113":["xs","4","LargeBluePaletteColorLookupTableDescriptor"],"0x1199":["UI","1","PaletteColorLookupTableUID"],"0x1200":["US or SS or OW","1-n or 1","GrayLookupTableData"],"0x1201":["OW","1","RedPaletteColorLookupTableData"],"0x1202":["OW","1","GreenPaletteColorLookupTableData"],"0x1203":["OW","1","BluePaletteColorLookupTableData"],"0x1204":["OW","1","AlphaPaletteColorLookupTableData"],"0x1211":["OW","1","LargeRedPaletteColorLookupTableData"],"0x1212":["OW","1","LargeGreenPaletteColorLookupTableData"],"0x1213":["OW","1","LargeBluePaletteColorLookupTableData"],"0x1214":["UI","1","LargePaletteColorLookupTableUID"],"0x1221":["OW","1","SegmentedRedPaletteColorLookupTableData"],"0x1222":["OW","1","SegmentedGreenPaletteColorLookupTableData"],"0x1223":["OW","1","SegmentedBluePaletteColorLookupTableData"],"0x1300":["CS","1","BreastImplantPresent"],"0x1350":["CS","1","PartialView"],"0x1351":["ST","1","PartialViewDescription"],"0x1352":["SQ","1","PartialViewCodeSequence"],"0x135A":["CS","1","SpatialLocationsPreserved"],"0x1401":["SQ","1","DataFrameAssignmentSequence"],"0x1402":["CS","1","DataPathAssignment"],"0x1403":["US","1","BitsMappedToColorLookupTable"],"0x1404":["SQ","1","BlendingLUT1Sequence"],"0x1405":["CS","1","BlendingLUT1TransferFunction"],"0x1406":["FD","1","BlendingWeightConstant"],"0x1407":["US","3","BlendingLookupTableDescriptor"],"0x1408":["OW","1","BlendingLookupTableData"],"0x140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"0x140C":["SQ","1","BlendingLUT2Sequence"],"0x140D":["CS","1","BlendingLUT2TransferFunction"],"0x140E":["CS","1","DataPathID"],"0x140F":["CS","1","RGBLUTTransferFunction"],"0x1410":["CS","1","AlphaLUTTransferFunction"],"0x2000":["OB","1","ICCProfile"],"0x2110":["CS","1","LossyImageCompression"],"0x2112":["DS","1-n","LossyImageCompressionRatio"],"0x2114":["CS","1-n","LossyImageCompressionMethod"],"0x3000":["SQ","1","ModalityLUTSequence"],"0x3002":["xs","3","LUTDescriptor"],"0x3003":["LO","1","LUTExplanation"],"0x3004":["LO","1","ModalityLUTType"],"0x3006":["US or OW","1-n or 1","LUTData"],"0x3010":["SQ","1","VOILUTSequence"],"0x3110":["SQ","1","SoftcopyVOILUTSequence"],"0x4000":["LT","1","ImagePresentationComments"],"0x5000":["SQ","1","BiPlaneAcquisitionSequence"],"0x6010":["US","1","RepresentativeFrameNumber"],"0x6020":["US","1-n","FrameNumbersOfInterest"],"0x6022":["LO","1-n","FrameOfInterestDescription"],"0x6023":["CS","1-n","FrameOfInterestType"],"0x6030":["US","1-n","MaskPointers"],"0x6040":["US","1-n","RWavePointer"],"0x6100":["SQ","1","MaskSubtractionSequence"],"0x6101":["CS","1","MaskOperation"],"0x6102":["US","2-2n","ApplicableFrameRange"],"0x6110":["US","1-n","MaskFrameNumbers"],"0x6112":["US","1","ContrastFrameAveraging"],"0x6114":["FL","2","MaskSubPixelShift"],"0x6120":["SS","1","TIDOffset"],"0x6190":["ST","1","MaskOperationExplanation"],"0x7000":["SQ","1","EquipmentAdministratorSequence"],"0x7001":["US","1","NumberOfDisplaySubsystems"],"0x7002":["US","1","CurrentConfigurationID"],"0x7003":["US","1","DisplaySubsystemID"],"0x7004":["SH","1","DisplaySubsystemName"],"0x7005":["LO","1","DisplaySubsystemDescription"],"0x7006":["CS","1","SystemStatus"],"0x7007":["LO","1","SystemStatusComment"],"0x7008":["SQ","1","TargetLuminanceCharacteristicsSequence"],"0x7009":["US","1","LuminanceCharacteristicsID"],"0x700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"0x700B":["US","1","ConfigurationID"],"0x700C":["SH","1","ConfigurationName"],"0x700D":["LO","1","ConfigurationDescription"],"0x700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"0x700F":["SQ","1","QAResultsSequence"],"0x7010":["SQ","1","DisplaySubsystemQAResultsSequence"],"0x7011":["SQ","1","ConfigurationQAResultsSequence"],"0x7012":["SQ","1","MeasurementEquipmentSequence"],"0x7013":["CS","1-n","MeasurementFunctions"],"0x7014":["CS","1","MeasurementEquipmentType"],"0x7015":["SQ","1","VisualEvaluationResultSequence"],"0x7016":["SQ","1","DisplayCalibrationResultSequence"],"0x7017":["US","1","DDLValue"],"0x7018":["FL","2","CIExyWhitePoint"],"0x7019":["CS","1","DisplayFunctionType"],"0x701A":["FL","1","GammaValue"],"0x701B":["US","1","NumberOfLuminancePoints"],"0x701C":["SQ","1","LuminanceResponseSequence"],"0x701D":["FL","1","TargetMinimumLuminance"],"0x701E":["FL","1","TargetMaximumLuminance"],"0x701F":["FL","1","LuminanceValue"],"0x7020":["LO","1","LuminanceResponseDescription"],"0x7021":["CS","1","WhitePointFlag"],"0x7022":["SQ","1","DisplayDeviceTypeCodeSequence"],"0x7023":["SQ","1","DisplaySubsystemSequence"],"0x7024":["SQ","1","LuminanceResultSequence"],"0x7025":["CS","1","AmbientLightValueSource"],"0x7026":["CS","1-n","MeasuredCharacteristics"],"0x7027":["SQ","1","LuminanceUniformityResultSequence"],"0x7028":["SQ","1","VisualEvaluationTestSequence"],"0x7029":["CS","1","TestResult"],"0x702A":["LO","1","TestResultComment"],"0x702B":["CS","1","TestImageValidation"],"0x702C":["SQ","1","TestPatternCodeSequence"],"0x702D":["SQ","1","MeasurementPatternCodeSequence"],"0x702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"0x7FE0":["UR","1","PixelDataProviderURL"],"0x9001":["UL","1","DataPointRows"],"0x9002":["UL","1","DataPointColumns"],"0x9003":["CS","1","SignalDomainColumns"],"0x9099":["US","1","LargestMonochromePixelValue"],"0x9108":["CS","1","DataRepresentation"],"0x9110":["SQ","1","PixelMeasuresSequence"],"0x9132":["SQ","1","FrameVOILUTSequence"],"0x9145":["SQ","1","PixelValueTransformationSequence"],"0x9235":["CS","1","SignalDomainRows"],"0x9411":["FL","1","DisplayFilterPercentage"],"0x9415":["SQ","1","FramePixelShiftSequence"],"0x9416":["US","1","SubtractionItemID"],"0x9422":["SQ","1","PixelIntensityRelationshipLUTSequence"],"0x9443":["SQ","1","FramePixelDataPropertiesSequence"],"0x9444":["CS","1","GeometricalProperties"],"0x9445":["FL","1","GeometricMaximumDistortion"],"0x9446":["CS","1-n","ImageProcessingApplied"],"0x9454":["CS","1","MaskSelectionMode"],"0x9474":["CS","1","LUTFunction"],"0x9478":["FL","1","MaskVisibilityPercentage"],"0x9501":["SQ","1","PixelShiftSequence"],"0x9502":["SQ","1","RegionPixelShiftSequence"],"0x9503":["SS","2-2n","VerticesOfTheRegion"],"0x9505":["SQ","1","MultiFramePresentationSequence"],"0x9506":["US","2-2n","PixelShiftFrameRange"],"0x9507":["US","2-2n","LUTFrameRange"],"0x9520":["DS","16","ImageToEquipmentMappingMatrix"],"0x9537":["CS","1","EquipmentCoordinateSystemIdentification"]},"0x0032":{"0x0000":["UL","1","GenericGroupLength"],"0x000A":["CS","1","StudyStatusID"],"0x000C":["CS","1","StudyPriorityID"],"0x0012":["LO","1","StudyIDIssuer"],"0x0032":["DA","1","StudyVerifiedDate"],"0x0033":["TM","1","StudyVerifiedTime"],"0x0034":["DA","1","StudyReadDate"],"0x0035":["TM","1","StudyReadTime"],"0x1000":["DA","1","ScheduledStudyStartDate"],"0x1001":["TM","1","ScheduledStudyStartTime"],"0x1010":["DA","1","ScheduledStudyStopDate"],"0x1011":["TM","1","ScheduledStudyStopTime"],"0x1020":["LO","1","ScheduledStudyLocation"],"0x1021":["AE","1-n","ScheduledStudyLocationAETitle"],"0x1030":["LO","1","ReasonForStudy"],"0x1031":["SQ","1","RequestingPhysicianIdentificationSequence"],"0x1032":["PN","1","RequestingPhysician"],"0x1033":["LO","1","RequestingService"],"0x1034":["SQ","1","RequestingServiceCodeSequence"],"0x1040":["DA","1","StudyArrivalDate"],"0x1041":["TM","1","StudyArrivalTime"],"0x1050":["DA","1","StudyCompletionDate"],"0x1051":["TM","1","StudyCompletionTime"],"0x1055":["CS","1","StudyComponentStatusID"],"0x1060":["LO","1","RequestedProcedureDescription"],"0x1064":["SQ","1","RequestedProcedureCodeSequence"],"0x1070":["LO","1","RequestedContrastAgent"],"0x4000":["LT","1","StudyComments"]},"0x0038":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["SQ","1","ReferencedPatientAliasSequence"],"0x0008":["CS","1","VisitStatusID"],"0x0010":["LO","1","AdmissionID"],"0x0011":["LO","1","IssuerOfAdmissionID"],"0x0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0x0016":["LO","1","RouteOfAdmissions"],"0x001A":["DA","1","ScheduledAdmissionDate"],"0x001B":["TM","1","ScheduledAdmissionTime"],"0x001C":["DA","1","ScheduledDischargeDate"],"0x001D":["TM","1","ScheduledDischargeTime"],"0x001E":["LO","1","ScheduledPatientInstitutionResidence"],"0x0020":["DA","1","AdmittingDate"],"0x0021":["TM","1","AdmittingTime"],"0x0030":["DA","1","DischargeDate"],"0x0032":["TM","1","DischargeTime"],"0x0040":["LO","1","DischargeDiagnosisDescription"],"0x0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0x0050":["LO","1","SpecialNeeds"],"0x0060":["LO","1","ServiceEpisodeID"],"0x0061":["LO","1","IssuerOfServiceEpisodeID"],"0x0062":["LO","1","ServiceEpisodeDescription"],"0x0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0x0100":["SQ","1","PertinentDocumentsSequence"],"0x0101":["SQ","1","PertinentResourcesSequence"],"0x0102":["LO","1","ResourceDescription"],"0x0300":["LO","1","CurrentPatientLocation"],"0x0400":["LO","1","PatientInstitutionResidence"],"0x0500":["LO","1","PatientState"],"0x0502":["SQ","1","PatientClinicalTrialParticipationSequence"],"0x4000":["LT","1","VisitComments"]},"0x003A":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["CS","1","WaveformOriginality"],"0x0005":["US","1","NumberOfWaveformChannels"],"0x0010":["UL","1","NumberOfWaveformSamples"],"0x001A":["DS","1","SamplingFrequency"],"0x0020":["SH","1","MultiplexGroupLabel"],"0x0200":["SQ","1","ChannelDefinitionSequence"],"0x0202":["IS","1","WaveformChannelNumber"],"0x0203":["SH","1","ChannelLabel"],"0x0205":["CS","1-n","ChannelStatus"],"0x0208":["SQ","1","ChannelSourceSequence"],"0x0209":["SQ","1","ChannelSourceModifiersSequence"],"0x020A":["SQ","1","SourceWaveformSequence"],"0x020C":["LO","1","ChannelDerivationDescription"],"0x0210":["DS","1","ChannelSensitivity"],"0x0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0x0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0x0213":["DS","1","ChannelBaseline"],"0x0214":["DS","1","ChannelTimeSkew"],"0x0215":["DS","1","ChannelSampleSkew"],"0x0218":["DS","1","ChannelOffset"],"0x021A":["US","1","WaveformBitsStored"],"0x0220":["DS","1","FilterLowFrequency"],"0x0221":["DS","1","FilterHighFrequency"],"0x0222":["DS","1","NotchFilterFrequency"],"0x0223":["DS","1","NotchFilterBandwidth"],"0x0230":["FL","1","WaveformDataDisplayScale"],"0x0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0x0240":["SQ","1","WaveformPresentationGroupSequence"],"0x0241":["US","1","PresentationGroupNumber"],"0x0242":["SQ","1","ChannelDisplaySequence"],"0x0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0x0245":["FL","1","ChannelPosition"],"0x0246":["CS","1","DisplayShadingFlag"],"0x0247":["FL","1","FractionalChannelDisplayScale"],"0x0248":["FL","1","AbsoluteChannelDisplayScale"],"0x0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0x0301":["IS","1","ChannelIdentificationCode"],"0x0302":["CS","1","ChannelMode"]},"0x0040":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["AE","1-n","ScheduledStationAETitle"],"0x0002":["DA","1","ScheduledProcedureStepStartDate"],"0x0003":["TM","1","ScheduledProcedureStepStartTime"],"0x0004":["DA","1","ScheduledProcedureStepEndDate"],"0x0005":["TM","1","ScheduledProcedureStepEndTime"],"0x0006":["PN","1","ScheduledPerformingPhysicianName"],"0x0007":["LO","1","ScheduledProcedureStepDescription"],"0x0008":["SQ","1","ScheduledProtocolCodeSequence"],"0x0009":["SH","1","ScheduledProcedureStepID"],"0x000A":["SQ","1","StageCodeSequence"],"0x000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0x0010":["SH","1-n","ScheduledStationName"],"0x0011":["SH","1","ScheduledProcedureStepLocation"],"0x0012":["LO","1","PreMedication"],"0x0020":["CS","1","ScheduledProcedureStepStatus"],"0x0026":["SQ","1","OrderPlacerIdentifierSequence"],"0x0027":["SQ","1","OrderFillerIdentifierSequence"],"0x0031":["UT","1","LocalNamespaceEntityID"],"0x0032":["UT","1","UniversalEntityID"],"0x0033":["CS","1","UniversalEntityIDType"],"0x0035":["CS","1","IdentifierTypeCode"],"0x0036":["SQ","1","AssigningFacilitySequence"],"0x0039":["SQ","1","AssigningJurisdictionCodeSequence"],"0x003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0x0100":["SQ","1","ScheduledProcedureStepSequence"],"0x0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0x0241":["AE","1","PerformedStationAETitle"],"0x0242":["SH","1","PerformedStationName"],"0x0243":["SH","1","PerformedLocation"],"0x0244":["DA","1","PerformedProcedureStepStartDate"],"0x0245":["TM","1","PerformedProcedureStepStartTime"],"0x0250":["DA","1","PerformedProcedureStepEndDate"],"0x0251":["TM","1","PerformedProcedureStepEndTime"],"0x0252":["CS","1","PerformedProcedureStepStatus"],"0x0253":["SH","1","PerformedProcedureStepID"],"0x0254":["LO","1","PerformedProcedureStepDescription"],"0x0255":["LO","1","PerformedProcedureTypeDescription"],"0x0260":["SQ","1","PerformedProtocolCodeSequence"],"0x0261":["CS","1","PerformedProtocolType"],"0x0270":["SQ","1","ScheduledStepAttributesSequence"],"0x0275":["SQ","1","RequestAttributesSequence"],"0x0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0x0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0x0293":["SQ","1","QuantitySequence"],"0x0294":["DS","1","Quantity"],"0x0295":["SQ","1","MeasuringUnitsSequence"],"0x0296":["SQ","1","BillingItemSequence"],"0x0300":["US","1","TotalTimeOfFluoroscopy"],"0x0301":["US","1","TotalNumberOfExposures"],"0x0302":["US","1","EntranceDose"],"0x0303":["US","1-2","ExposedArea"],"0x0306":["DS","1","DistanceSourceToEntrance"],"0x0307":["DS","1","DistanceSourceToSupport"],"0x030E":["SQ","1","ExposureDoseSequence"],"0x0310":["ST","1","CommentsOnRadiationDose"],"0x0312":["DS","1","XRayOutput"],"0x0314":["DS","1","HalfValueLayer"],"0x0316":["DS","1","OrganDose"],"0x0318":["CS","1","OrganExposed"],"0x0320":["SQ","1","BillingProcedureStepSequence"],"0x0321":["SQ","1","FilmConsumptionSequence"],"0x0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0x0330":["SQ","1","ReferencedProcedureStepSequence"],"0x0340":["SQ","1","PerformedSeriesSequence"],"0x0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0x0440":["SQ","1","ProtocolContextSequence"],"0x0441":["SQ","1","ContentItemModifierSequence"],"0x0500":["SQ","1","ScheduledSpecimenSequence"],"0x050A":["LO","1","SpecimenAccessionNumber"],"0x0512":["LO","1","ContainerIdentifier"],"0x0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0x0515":["SQ","1","AlternateContainerIdentifierSequence"],"0x0518":["SQ","1","ContainerTypeCodeSequence"],"0x051A":["LO","1","ContainerDescription"],"0x0520":["SQ","1","ContainerComponentSequence"],"0x0550":["SQ","1","SpecimenSequence"],"0x0551":["LO","1","SpecimenIdentifier"],"0x0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0x0553":["ST","1","SpecimenDescriptionTrial"],"0x0554":["UI","1","SpecimenUID"],"0x0555":["SQ","1","AcquisitionContextSequence"],"0x0556":["ST","1","AcquisitionContextDescription"],"0x059A":["SQ","1","SpecimenTypeCodeSequence"],"0x0560":["SQ","1","SpecimenDescriptionSequence"],"0x0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"0x0600":["LO","1","SpecimenShortDescription"],"0x0602":["UT","1","SpecimenDetailedDescription"],"0x0610":["SQ","1","SpecimenPreparationSequence"],"0x0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0x0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"0x06FA":["LO","1","SlideIdentifier"],"0x071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"0x072A":["DS","1","XOffsetInSlideCoordinateSystem"],"0x073A":["DS","1","YOffsetInSlideCoordinateSystem"],"0x074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"0x08D8":["SQ","1","PixelSpacingSequence"],"0x08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"0x08EA":["SQ","1","MeasurementUnitsCodeSequence"],"0x09F8":["SQ","1","VitalStainCodeSequenceTrial"],"0x1001":["SH","1","RequestedProcedureID"],"0x1002":["LO","1","ReasonForTheRequestedProcedure"],"0x1003":["SH","1","RequestedProcedurePriority"],"0x1004":["LO","1","PatientTransportArrangements"],"0x1005":["LO","1","RequestedProcedureLocation"],"0x1006":["SH","1","PlacerOrderNumberProcedure"],"0x1007":["SH","1","FillerOrderNumberProcedure"],"0x1008":["LO","1","ConfidentialityCode"],"0x1009":["SH","1","ReportingPriority"],"0x100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],"0x1010":["PN","1-n","NamesOfIntendedRecipientsOfResults"],"0x1011":["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],"0x1012":["SQ","1","ReasonForPerformedProcedureCodeSequence"],"0x1060":["LO","1","RequestedProcedureDescriptionTrial"],"0x1101":["SQ","1","PersonIdentificationCodeSequence"],"0x1102":["ST","1","PersonAddress"],"0x1103":["LO","1-n","PersonTelephoneNumbers"],"0x1104":["LT","1","PersonTelecomInformation"],"0x1400":["LT","1","RequestedProcedureComments"],"0x2001":["LO","1","ReasonForTheImagingServiceRequest"],"0x2004":["DA","1","IssueDateOfImagingServiceRequest"],"0x2005":["TM","1","IssueTimeOfImagingServiceRequest"],"0x2006":["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],"0x2007":["SH","1","FillerOrderNumberImagingServiceRequestRetired"],"0x2008":["PN","1","OrderEnteredBy"],"0x2009":["SH","1","OrderEntererLocation"],"0x2010":["SH","1","OrderCallbackPhoneNumber"],"0x2011":["LT","1","OrderCallbackTelecomInformation"],"0x2016":["LO","1","PlacerOrderNumberImagingServiceRequest"],"0x2017":["LO","1","FillerOrderNumberImagingServiceRequest"],"0x2400":["LT","1","ImagingServiceRequestComments"],"0x3001":["LO","1","ConfidentialityConstraintOnPatientDataDescription"],"0x4001":["CS","1","GeneralPurposeScheduledProcedureStepStatus"],"0x4002":["CS","1","GeneralPurposePerformedProcedureStepStatus"],"0x4003":["CS","1","GeneralPurposeScheduledProcedureStepPriority"],"0x4004":["SQ","1","ScheduledProcessingApplicationsCodeSequence"],"0x4005":["DT","1","ScheduledProcedureStepStartDateTime"],"0x4006":["CS","1","MultipleCopiesFlag"],"0x4007":["SQ","1","PerformedProcessingApplicationsCodeSequence"],"0x4009":["SQ","1","HumanPerformerCodeSequence"],"0x4010":["DT","1","ScheduledProcedureStepModificationDateTime"],"0x4011":["DT","1","ExpectedCompletionDateTime"],"0x4015":["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],"0x4016":["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],"0x4018":["SQ","1","ScheduledWorkitemCodeSequence"],"0x4019":["SQ","1","PerformedWorkitemCodeSequence"],"0x4020":["CS","1","InputAvailabilityFlag"],"0x4021":["SQ","1","InputInformationSequence"],"0x4022":["SQ","1","RelevantInformationSequence"],"0x4023":["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],"0x4025":["SQ","1","ScheduledStationNameCodeSequence"],"0x4026":["SQ","1","ScheduledStationClassCodeSequence"],"0x4027":["SQ","1","ScheduledStationGeographicLocationCodeSequence"],"0x4028":["SQ","1","PerformedStationNameCodeSequence"],"0x4029":["SQ","1","PerformedStationClassCodeSequence"],"0x4030":["SQ","1","PerformedStationGeographicLocationCodeSequence"],"0x4031":["SQ","1","RequestedSubsequentWorkitemCodeSequence"],"0x4032":["SQ","1","NonDICOMOutputCodeSequence"],"0x4033":["SQ","1","OutputInformationSequence"],"0x4034":["SQ","1","ScheduledHumanPerformersSequence"],"0x4035":["SQ","1","ActualHumanPerformersSequence"],"0x4036":["LO","1","HumanPerformerOrganization"],"0x4037":["PN","1","HumanPerformerName"],"0x4040":["CS","1","RawDataHandling"],"0x4041":["CS","1","InputReadinessState"],"0x4050":["DT","1","PerformedProcedureStepStartDateTime"],"0x4051":["DT","1","PerformedProcedureStepEndDateTime"],"0x4052":["DT","1","ProcedureStepCancellationDateTime"],"0x8302":["DS","1","EntranceDoseInmGy"],"0x9092":["SQ","1","ParametricMapFrameTypeSequence"],"0x9094":["SQ","1","ReferencedImageRealWorldValueMappingSequence"],"0x9096":["SQ","1","RealWorldValueMappingSequence"],"0x9098":["SQ","1","PixelValueMappingCodeSequence"],"0x9210":["SH","1","LUTLabel"],"0x9211":["xs","1","RealWorldValueLastValueMapped"],"0x9212":["FD","1-n","RealWorldValueLUTData"],"0x9216":["xs","1","RealWorldValueFirstValueMapped"],"0x9220":["SQ","1","QuantityDefinitionSequence"],"0x9224":["FD","1","RealWorldValueIntercept"],"0x9225":["FD","1","RealWorldValueSlope"],"0xA007":["CS","1","FindingsFlagTrial"],"0xA010":["CS","1","RelationshipType"],"0xA020":["SQ","1","FindingsSequenceTrial"],"0xA021":["UI","1","FindingsGroupUIDTrial"],"0xA022":["UI","1","ReferencedFindingsGroupUIDTrial"],"0xA023":["DA","1","FindingsGroupRecordingDateTrial"],"0xA024":["TM","1","FindingsGroupRecordingTimeTrial"],"0xA026":["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],"0xA027":["LO","1","VerifyingOrganization"],"0xA028":["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],"0xA030":["DT","1","VerificationDateTime"],"0xA032":["DT","1","ObservationDateTime"],"0xA040":["CS","1","ValueType"],"0xA043":["SQ","1","ConceptNameCodeSequence"],"0xA047":["LO","1","MeasurementPrecisionDescriptionTrial"],"0xA050":["CS","1","ContinuityOfContent"],"0xA057":["CS","1-n","UrgencyOrPriorityAlertsTrial"],"0xA060":["LO","1","SequencingIndicatorTrial"],"0xA066":["SQ","1","DocumentIdentifierCodeSequenceTrial"],"0xA067":["PN","1","DocumentAuthorTrial"],"0xA068":["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],"0xA070":["SQ","1","IdentifierCodeSequenceTrial"],"0xA073":["SQ","1","VerifyingObserverSequence"],"0xA074":["OB","1","ObjectBinaryIdentifierTrial"],"0xA075":["PN","1","VerifyingObserverName"],"0xA076":["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],"0xA078":["SQ","1","AuthorObserverSequence"],"0xA07A":["SQ","1","ParticipantSequence"],"0xA07C":["SQ","1","CustodialOrganizationSequence"],"0xA080":["CS","1","ParticipationType"],"0xA082":["DT","1","ParticipationDateTime"],"0xA084":["CS","1","ObserverType"],"0xA085":["SQ","1","ProcedureIdentifierCodeSequenceTrial"],"0xA088":["SQ","1","VerifyingObserverIdentificationCodeSequence"],"0xA089":["OB","1","ObjectDirectoryBinaryIdentifierTrial"],"0xA090":["SQ","1","EquivalentCDADocumentSequence"],"0xA0B0":["US","2-2n","ReferencedWaveformChannels"],"0xA110":["DA","1","DateOfDocumentOrVerbalTransactionTrial"],"0xA112":["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],"0xA120":["DT","1","DateTime"],"0xA121":["DA","1","Date"],"0xA122":["TM","1","Time"],"0xA123":["PN","1","PersonName"],"0xA124":["UI","1","UID"],"0xA125":["CS","2","ReportStatusIDTrial"],"0xA130":["CS","1","TemporalRangeType"],"0xA132":["UL","1-n","ReferencedSamplePositions"],"0xA136":["US","1-n","ReferencedFrameNumbers"],"0xA138":["DS","1-n","ReferencedTimeOffsets"],"0xA13A":["DT","1-n","ReferencedDateTime"],"0xA160":["UT","1","TextValue"],"0xA161":["FD","1-n","FloatingPointValue"],"0xA162":["SL","1-n","RationalNumeratorValue"],"0xA163":["UL","1-n","RationalDenominatorValue"],"0xA167":["SQ","1","ObservationCategoryCodeSequenceTrial"],"0xA168":["SQ","1","ConceptCodeSequence"],"0xA16A":["ST","1","BibliographicCitationTrial"],"0xA170":["SQ","1","PurposeOfReferenceCodeSequence"],"0xA171":["UI","1","ObservationUID"],"0xA172":["UI","1","ReferencedObservationUIDTrial"],"0xA173":["CS","1","ReferencedObservationClassTrial"],"0xA174":["CS","1","ReferencedObjectObservationClassTrial"],"0xA180":["US","1","AnnotationGroupNumber"],"0xA192":["DA","1","ObservationDateTrial"],"0xA193":["TM","1","ObservationTimeTrial"],"0xA194":["CS","1","MeasurementAutomationTrial"],"0xA195":["SQ","1","ModifierCodeSequence"],"0xA224":["ST","1","IdentificationDescriptionTrial"],"0xA290":["CS","1","CoordinatesSetGeometricTypeTrial"],"0xA296":["SQ","1","AlgorithmCodeSequenceTrial"],"0xA297":["ST","1","AlgorithmDescriptionTrial"],"0xA29A":["SL","2-2n","PixelCoordinatesSetTrial"],"0xA300":["SQ","1","MeasuredValueSequence"],"0xA301":["SQ","1","NumericValueQualifierCodeSequence"],"0xA307":["PN","1","CurrentObserverTrial"],"0xA30A":["DS","1-n","NumericValue"],"0xA313":["SQ","1","ReferencedAccessionSequenceTrial"],"0xA33A":["ST","1","ReportStatusCommentTrial"],"0xA340":["SQ","1","ProcedureContextSequenceTrial"],"0xA352":["PN","1","VerbalSourceTrial"],"0xA353":["ST","1","AddressTrial"],"0xA354":["LO","1","TelephoneNumberTrial"],"0xA358":["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],"0xA360":["SQ","1","PredecessorDocumentsSequence"],"0xA370":["SQ","1","ReferencedRequestSequence"],"0xA372":["SQ","1","PerformedProcedureCodeSequence"],"0xA375":["SQ","1","CurrentRequestedProcedureEvidenceSequence"],"0xA380":["SQ","1","ReportDetailSequenceTrial"],"0xA385":["SQ","1","PertinentOtherEvidenceSequence"],"0xA390":["SQ","1","HL7StructuredDocumentReferenceSequence"],"0xA402":["UI","1","ObservationSubjectUIDTrial"],"0xA403":["CS","1","ObservationSubjectClassTrial"],"0xA404":["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],"0xA491":["CS","1","CompletionFlag"],"0xA492":["LO","1","CompletionFlagDescription"],"0xA493":["CS","1","VerificationFlag"],"0xA494":["CS","1","ArchiveRequested"],"0xA496":["CS","1","PreliminaryFlag"],"0xA504":["SQ","1","ContentTemplateSequence"],"0xA525":["SQ","1","IdenticalDocumentsSequence"],"0xA600":["CS","1","ObservationSubjectContextFlagTrial"],"0xA601":["CS","1","ObserverContextFlagTrial"],"0xA603":["CS","1","ProcedureContextFlagTrial"],"0xA730":["SQ","1","ContentSequence"],"0xA731":["SQ","1","RelationshipSequenceTrial"],"0xA732":["SQ","1","RelationshipTypeCodeSequenceTrial"],"0xA744":["SQ","1","LanguageCodeSequenceTrial"],"0xA992":["ST","1","UniformResourceLocatorTrial"],"0xB020":["SQ","1","WaveformAnnotationSequence"],"0xDB00":["CS","1","TemplateIdentifier"],"0xDB06":["DT","1","TemplateVersion"],"0xDB07":["DT","1","TemplateLocalVersion"],"0xDB0B":["CS","1","TemplateExtensionFlag"],"0xDB0C":["UI","1","TemplateExtensionOrganizationUID"],"0xDB0D":["UI","1","TemplateExtensionCreatorUID"],"0xDB73":["UL","1-n","ReferencedContentItemIdentifier"],"0xE001":["ST","1","HL7InstanceIdentifier"],"0xE004":["DT","1","HL7DocumentEffectiveTime"],"0xE006":["SQ","1","HL7DocumentTypeCodeSequence"],"0xE008":["SQ","1","DocumentClassCodeSequence"],"0xE010":["UR","1","RetrieveURI"],"0xE011":["UI","1","RetrieveLocationUID"],"0xE020":["CS","1","TypeOfInstances"],"0xE021":["SQ","1","DICOMRetrievalSequence"],"0xE022":["SQ","1","DICOMMediaRetrievalSequence"],"0xE023":["SQ","1","WADORetrievalSequence"],"0xE024":["SQ","1","XDSRetrievalSequence"],"0xE025":["SQ","1","WADORSRetrievalSequence"],"0xE030":["UI","1","RepositoryUniqueID"],"0xE031":["UI","1","HomeCommunityID"]},"0x0042":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ST","1","DocumentTitle"],"0x0011":["OB","1","EncapsulatedDocument"],"0x0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0x0013":["SQ","1","SourceInstanceSequence"],"0x0014":["LO","1-n","ListOfMIMETypes"]},"0x0044":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["ST","1","ProductPackageIdentifier"],"0x0002":["CS","1","SubstanceAdministrationApproval"],"0x0003":["LT","1","ApprovalStatusFurtherDescription"],"0x0004":["DT","1","ApprovalStatusDateTime"],"0x0007":["SQ","1","ProductTypeCodeSequence"],"0x0008":["LO","1-n","ProductName"],"0x0009":["LT","1","ProductDescription"],"0x000A":["LO","1","ProductLotIdentifier"],"0x000B":["DT","1","ProductExpirationDateTime"],"0x0010":["DT","1","SubstanceAdministrationDateTime"],"0x0011":["LO","1","SubstanceAdministrationNotes"],"0x0012":["LO","1","SubstanceAdministrationDeviceID"],"0x0013":["SQ","1","ProductParameterSequence"],"0x0019":["SQ","1","SubstanceAdministrationParameterSequence"]},"0x0046":{"0x0000":["UL","1","GenericGroupLength"],"0x0012":["LO","1","LensDescription"],"0x0014":["SQ","1","RightLensSequence"],"0x0015":["SQ","1","LeftLensSequence"],"0x0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0x0018":["SQ","1","CylinderSequence"],"0x0028":["SQ","1","PrismSequence"],"0x0030":["FD","1","HorizontalPrismPower"],"0x0032":["CS","1","HorizontalPrismBase"],"0x0034":["FD","1","VerticalPrismPower"],"0x0036":["CS","1","VerticalPrismBase"],"0x0038":["CS","1","LensSegmentType"],"0x0040":["FD","1","OpticalTransmittance"],"0x0042":["FD","1","ChannelWidth"],"0x0044":["FD","1","PupilSize"],"0x0046":["FD","1","CornealSize"],"0x0050":["SQ","1","AutorefractionRightEyeSequence"],"0x0052":["SQ","1","AutorefractionLeftEyeSequence"],"0x0060":["FD","1","DistancePupillaryDistance"],"0x0062":["FD","1","NearPupillaryDistance"],"0x0063":["FD","1","IntermediatePupillaryDistance"],"0x0064":["FD","1","OtherPupillaryDistance"],"0x0070":["SQ","1","KeratometryRightEyeSequence"],"0x0071":["SQ","1","KeratometryLeftEyeSequence"],"0x0074":["SQ","1","SteepKeratometricAxisSequence"],"0x0075":["FD","1","RadiusOfCurvature"],"0x0076":["FD","1","KeratometricPower"],"0x0077":["FD","1","KeratometricAxis"],"0x0080":["SQ","1","FlatKeratometricAxisSequence"],"0x0092":["CS","1","BackgroundColor"],"0x0094":["CS","1","Optotype"],"0x0095":["CS","1","OptotypePresentation"],"0x0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0x0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0x0100":["SQ","1","AddNearSequence"],"0x0101":["SQ","1","AddIntermediateSequence"],"0x0102":["SQ","1","AddOtherSequence"],"0x0104":["FD","1","AddPower"],"0x0106":["FD","1","ViewingDistance"],"0x0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0x0122":["SQ","1","VisualAcuityRightEyeSequence"],"0x0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0x0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0x0125":["CS","1","ViewingDistanceType"],"0x0135":["SS","2","VisualAcuityModifiers"],"0x0137":["FD","1","DecimalVisualAcuity"],"0x0139":["LO","1","OptotypeDetailedDefinition"],"0x0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0x0146":["FD","1","SpherePower"],"0x0147":["FD","1","CylinderPower"],"0x0201":["CS","1","CornealTopographySurface"],"0x0202":["FL","2","CornealVertexLocation"],"0x0203":["FL","1","PupilCentroidXCoordinate"],"0x0204":["FL","1","PupilCentroidYCoordinate"],"0x0205":["FL","1","EquivalentPupilRadius"],"0x0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0x0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0x0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0x0211":["SQ","1","MaximumCornealCurvatureSequence"],"0x0212":["FL","1","MaximumCornealCurvature"],"0x0213":["FL","2","MaximumCornealCurvatureLocation"],"0x0215":["SQ","1","MinimumKeratometricSequence"],"0x0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0x0220":["FL","1","AverageCornealPower"],"0x0224":["FL","1","CornealISValue"],"0x0227":["FL","1","AnalyzedArea"],"0x0230":["FL","1","SurfaceRegularityIndex"],"0x0232":["FL","1","SurfaceAsymmetryIndex"],"0x0234":["FL","1","CornealEccentricityIndex"],"0x0236":["FL","1","KeratoconusPredictionIndex"],"0x0238":["FL","1","DecimalPotentialVisualAcuity"],"0x0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0x0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0x0247":["FL","3","CornealPointLocation"],"0x0248":["CS","1","CornealPointEstimated"],"0x0249":["FL","1","AxialPower"],"0x0250":["FL","1","TangentialPower"],"0x0251":["FL","1","RefractivePower"],"0x0252":["FL","1","RelativeElevation"],"0x0253":["FL","1","CornealWavefront"]},"0x0048":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["FL","1","ImagedVolumeWidth"],"0x0002":["FL","1","ImagedVolumeHeight"],"0x0003":["FL","1","ImagedVolumeDepth"],"0x0006":["UL","1","TotalPixelMatrixColumns"],"0x0007":["UL","1","TotalPixelMatrixRows"],"0x0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0x0010":["CS","1","SpecimenLabelInImage"],"0x0011":["CS","1","FocusMethod"],"0x0012":["CS","1","ExtendedDepthOfField"],"0x0013":["US","1","NumberOfFocalPlanes"],"0x0014":["FL","1","DistanceBetweenFocalPlanes"],"0x0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0x0100":["SQ","1","IlluminatorTypeCodeSequence"],"0x0102":["DS","6","ImageOrientationSlide"],"0x0105":["SQ","1","OpticalPathSequence"],"0x0106":["SH","1","OpticalPathIdentifier"],"0x0107":["ST","1","OpticalPathDescription"],"0x0108":["SQ","1","IlluminationColorCodeSequence"],"0x0110":["SQ","1","SpecimenReferenceSequence"],"0x0111":["DS","1","CondenserLensPower"],"0x0112":["DS","1","ObjectiveLensPower"],"0x0113":["DS","1","ObjectiveLensNumericalAperture"],"0x0120":["SQ","1","PaletteColorLookupTableSequence"],"0x0200":["SQ","1","ReferencedImageNavigationSequence"],"0x0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0x0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0x0207":["SQ","1","OpticalPathIdentificationSequence"],"0x021A":["SQ","1","PlanePositionSlideSequence"],"0x021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"0x021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0x0301":["CS","1","PixelOriginInterpretation"]},"0x0050":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["CS","1","CalibrationImage"],"0x0010":["SQ","1","DeviceSequence"],"0x0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0x0013":["FD","1","ContainerComponentThickness"],"0x0014":["DS","1","DeviceLength"],"0x0015":["FD","1","ContainerComponentWidth"],"0x0016":["DS","1","DeviceDiameter"],"0x0017":["CS","1","DeviceDiameterUnits"],"0x0018":["DS","1","DeviceVolume"],"0x0019":["DS","1","InterMarkerDistance"],"0x001A":["CS","1","ContainerComponentMaterial"],"0x001B":["LO","1","ContainerComponentID"],"0x001C":["FD","1","ContainerComponentLength"],"0x001D":["FD","1","ContainerComponentDiameter"],"0x001E":["LO","1","ContainerComponentDescription"],"0x0020":["LO","1","DeviceDescription"]},"0x0052":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0x0002":["FD","1","OCTFocalDistance"],"0x0003":["FD","1","BeamSpotSize"],"0x0004":["FD","1","EffectiveRefractiveIndex"],"0x0006":["CS","1","OCTAcquisitionDomain"],"0x0007":["FD","1","OCTOpticalCenterWavelength"],"0x0008":["FD","1","AxialResolution"],"0x0009":["FD","1","RangingDepth"],"0x0011":["FD","1","ALineRate"],"0x0012":["US","1","ALinesPerFrame"],"0x0013":["FD","1","CatheterRotationalRate"],"0x0014":["FD","1","ALinePixelSpacing"],"0x0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0x0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0x0026":["CS","1","OCTZOffsetApplied"],"0x0027":["SQ","1","IntravascularFrameContentSequence"],"0x0028":["FD","1","IntravascularLongitudinalDistance"],"0x0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0x0030":["SS","1","OCTZOffsetCorrection"],"0x0031":["CS","1","CatheterDirectionOfRotation"],"0x0033":["FD","1","SeamLineLocation"],"0x0034":["FD","1","FirstALineLocation"],"0x0036":["US","1","SeamLineIndex"],"0x0038":["US","1","NumberOfPaddedALines"],"0x0039":["CS","1","InterpolationType"],"0x003A":["CS","1","RefractiveIndexApplied"]},"0x0054":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1-n","EnergyWindowVector"],"0x0011":["US","1","NumberOfEnergyWindows"],"0x0012":["SQ","1","EnergyWindowInformationSequence"],"0x0013":["SQ","1","EnergyWindowRangeSequence"],"0x0014":["DS","1","EnergyWindowLowerLimit"],"0x0015":["DS","1","EnergyWindowUpperLimit"],"0x0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0x0017":["IS","1","ResidualSyringeCounts"],"0x0018":["SH","1","EnergyWindowName"],"0x0020":["US","1-n","DetectorVector"],"0x0021":["US","1","NumberOfDetectors"],"0x0022":["SQ","1","DetectorInformationSequence"],"0x0030":["US","1-n","PhaseVector"],"0x0031":["US","1","NumberOfPhases"],"0x0032":["SQ","1","PhaseInformationSequence"],"0x0033":["US","1","NumberOfFramesInPhase"],"0x0036":["IS","1","PhaseDelay"],"0x0038":["IS","1","PauseBetweenFrames"],"0x0039":["CS","1","PhaseDescription"],"0x0050":["US","1-n","RotationVector"],"0x0051":["US","1","NumberOfRotations"],"0x0052":["SQ","1","RotationInformationSequence"],"0x0053":["US","1","NumberOfFramesInRotation"],"0x0060":["US","1-n","RRIntervalVector"],"0x0061":["US","1","NumberOfRRIntervals"],"0x0062":["SQ","1","GatedInformationSequence"],"0x0063":["SQ","1","DataInformationSequence"],"0x0070":["US","1-n","TimeSlotVector"],"0x0071":["US","1","NumberOfTimeSlots"],"0x0072":["SQ","1","TimeSlotInformationSequence"],"0x0073":["DS","1","TimeSlotTime"],"0x0080":["US","1-n","SliceVector"],"0x0081":["US","1","NumberOfSlices"],"0x0090":["US","1-n","AngularViewVector"],"0x0100":["US","1-n","TimeSliceVector"],"0x0101":["US","1","NumberOfTimeSlices"],"0x0200":["DS","1","StartAngle"],"0x0202":["CS","1","TypeOfDetectorMotion"],"0x0210":["IS","1-n","TriggerVector"],"0x0211":["US","1","NumberOfTriggersInPhase"],"0x0220":["SQ","1","ViewCodeSequence"],"0x0222":["SQ","1","ViewModifierCodeSequence"],"0x0300":["SQ","1","RadionuclideCodeSequence"],"0x0302":["SQ","1","AdministrationRouteCodeSequence"],"0x0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0x0306":["SQ","1","CalibrationDataSequence"],"0x0308":["US","1","EnergyWindowNumber"],"0x0400":["SH","1","ImageID"],"0x0410":["SQ","1","PatientOrientationCodeSequence"],"0x0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0x0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0x0500":["CS","1","SliceProgressionDirection"],"0x0501":["CS","1","ScanProgressionDirection"],"0x1000":["CS","2","SeriesType"],"0x1001":["CS","1","Units"],"0x1002":["CS","1","CountsSource"],"0x1004":["CS","1","ReprojectionMethod"],"0x1006":["CS","1","SUVType"],"0x1100":["CS","1","RandomsCorrectionMethod"],"0x1101":["LO","1","AttenuationCorrectionMethod"],"0x1102":["CS","1","DecayCorrection"],"0x1103":["LO","1","ReconstructionMethod"],"0x1104":["LO","1","DetectorLinesOfResponseUsed"],"0x1105":["LO","1","ScatterCorrectionMethod"],"0x1200":["DS","1","AxialAcceptance"],"0x1201":["IS","2","AxialMash"],"0x1202":["IS","1","TransverseMash"],"0x1203":["DS","2","DetectorElementSize"],"0x1210":["DS","1","CoincidenceWindowWidth"],"0x1220":["CS","1-n","SecondaryCountsType"],"0x1300":["DS","1","FrameReferenceTime"],"0x1310":["IS","1","PrimaryPromptsCountsAccumulated"],"0x1311":["IS","1-n","SecondaryCountsAccumulated"],"0x1320":["DS","1","SliceSensitivityFactor"],"0x1321":["DS","1","DecayFactor"],"0x1322":["DS","1","DoseCalibrationFactor"],"0x1323":["DS","1","ScatterFractionFactor"],"0x1324":["DS","1","DeadTimeFactor"],"0x1330":["US","1","ImageIndex"],"0x1400":["CS","1-n","CountsIncluded"],"0x1401":["CS","1","DeadTimeCorrectionFlag"]},"0x0060":{"0x0000":["UL","1","GenericGroupLength"],"0x3000":["SQ","1","HistogramSequence"],"0x3002":["US","1","HistogramNumberOfBins"],"0x3004":["xs","1","HistogramFirstBinValue"],"0x3006":["xs","1","HistogramLastBinValue"],"0x3008":["US","1","HistogramBinWidth"],"0x3010":["LO","1","HistogramExplanation"],"0x3020":["UL","1-n","HistogramData"]},"0x0062":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","SegmentationType"],"0x0002":["SQ","1","SegmentSequence"],"0x0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0x0004":["US","1","SegmentNumber"],"0x0005":["LO","1","SegmentLabel"],"0x0006":["ST","1","SegmentDescription"],"0x0008":["CS","1","SegmentAlgorithmType"],"0x0009":["LO","1","SegmentAlgorithmName"],"0x000A":["SQ","1","SegmentIdentificationSequence"],"0x000B":["US","1-n","ReferencedSegmentNumber"],"0x000C":["US","1","RecommendedDisplayGrayscaleValue"],"0x000D":["US","3","RecommendedDisplayCIELabValue"],"0x000E":["US","1","MaximumFractionalValue"],"0x000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0x0010":["CS","1","SegmentationFractionalType"],"0x0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0x0012":["SQ","1","UsedSegmentsSequence"]},"0x0064":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SQ","1","DeformableRegistrationSequence"],"0x0003":["UI","1","SourceFrameOfReferenceUID"],"0x0005":["SQ","1","DeformableRegistrationGridSequence"],"0x0007":["UL","3","GridDimensions"],"0x0008":["FD","3","GridResolution"],"0x0009":["OF","1","VectorGridData"],"0x000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0x0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0x0066":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["UL","1","NumberOfSurfaces"],"0x0002":["SQ","1","SurfaceSequence"],"0x0003":["UL","1","SurfaceNumber"],"0x0004":["LT","1","SurfaceComments"],"0x0009":["CS","1","SurfaceProcessing"],"0x000A":["FL","1","SurfaceProcessingRatio"],"0x000B":["LO","1","SurfaceProcessingDescription"],"0x000C":["FL","1","RecommendedPresentationOpacity"],"0x000D":["CS","1","RecommendedPresentationType"],"0x000E":["CS","1","FiniteVolume"],"0x0010":["CS","1","Manifold"],"0x0011":["SQ","1","SurfacePointsSequence"],"0x0012":["SQ","1","SurfacePointsNormalsSequence"],"0x0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0x0015":["UL","1","NumberOfSurfacePoints"],"0x0016":["OF","1","PointCoordinatesData"],"0x0017":["FL","3","PointPositionAccuracy"],"0x0018":["FL","1","MeanPointDistance"],"0x0019":["FL","1","MaximumPointDistance"],"0x001A":["FL","6","PointsBoundingBoxCoordinates"],"0x001B":["FL","3","AxisOfRotation"],"0x001C":["FL","3","CenterOfRotation"],"0x001E":["UL","1","NumberOfVectors"],"0x001F":["US","1","VectorDimensionality"],"0x0020":["FL","1-n","VectorAccuracy"],"0x0021":["OF","1","VectorCoordinateData"],"0x0023":["OW","1","TrianglePointIndexList"],"0x0024":["OW","1","EdgePointIndexList"],"0x0025":["OW","1","VertexPointIndexList"],"0x0026":["SQ","1","TriangleStripSequence"],"0x0027":["SQ","1","TriangleFanSequence"],"0x0028":["SQ","1","LineSequence"],"0x0029":["OW","1","PrimitivePointIndexList"],"0x002A":["UL","1","SurfaceCount"],"0x002B":["SQ","1","ReferencedSurfaceSequence"],"0x002C":["UL","1","ReferencedSurfaceNumber"],"0x002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"0x002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"0x002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0x0030":["SQ","1","AlgorithmNameCodeSequence"],"0x0031":["LO","1","AlgorithmVersion"],"0x0032":["LT","1","AlgorithmParameters"],"0x0034":["SQ","1","FacetSequence"],"0x0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0x0036":["LO","1","AlgorithmName"],"0x0037":["FL","1","RecommendedPointRadius"],"0x0038":["FL","1","RecommendedLineThickness"],"0x0040":["UL","1-n","LongPrimitivePointIndexList"],"0x0041":["UL","3-3n","LongTrianglePointIndexList"],"0x0042":["UL","2-2n","LongEdgePointIndexList"],"0x0043":["UL","1-n","LongVertexPointIndexList"]},"0x0068":{"0x0000":["UL","1","GenericGroupLength"],"0x6210":["LO","1","ImplantSize"],"0x6221":["LO","1","ImplantTemplateVersion"],"0x6222":["SQ","1","ReplacedImplantTemplateSequence"],"0x6223":["CS","1","ImplantType"],"0x6224":["SQ","1","DerivationImplantTemplateSequence"],"0x6225":["SQ","1","OriginalImplantTemplateSequence"],"0x6226":["DT","1","EffectiveDateTime"],"0x6230":["SQ","1","ImplantTargetAnatomySequence"],"0x6260":["SQ","1","InformationFromManufacturerSequence"],"0x6265":["SQ","1","NotificationFromManufacturerSequence"],"0x6270":["DT","1","InformationIssueDateTime"],"0x6280":["ST","1","InformationSummary"],"0x62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"0x62A5":["FD","1","OverallTemplateSpatialTolerance"],"0x62C0":["SQ","1","HPGLDocumentSequence"],"0x62D0":["US","1","HPGLDocumentID"],"0x62D5":["LO","1","HPGLDocumentLabel"],"0x62E0":["SQ","1","ViewOrientationCodeSequence"],"0x62F0":["FD","9","ViewOrientationModifier"],"0x62F2":["FD","1","HPGLDocumentScaling"],"0x6300":["OB","1","HPGLDocument"],"0x6310":["US","1","HPGLContourPenNumber"],"0x6320":["SQ","1","HPGLPenSequence"],"0x6330":["US","1","HPGLPenNumber"],"0x6340":["LO","1","HPGLPenLabel"],"0x6345":["ST","1","HPGLPenDescription"],"0x6346":["FD","2","RecommendedRotationPoint"],"0x6347":["FD","4","BoundingRectangle"],"0x6350":["US","1-n","ImplantTemplate3DModelSurfaceNumber"],"0x6360":["SQ","1","SurfaceModelDescriptionSequence"],"0x6380":["LO","1","SurfaceModelLabel"],"0x6390":["FD","1","SurfaceModelScalingFactor"],"0x63A0":["SQ","1","MaterialsCodeSequence"],"0x63A4":["SQ","1","CoatingMaterialsCodeSequence"],"0x63A8":["SQ","1","ImplantTypeCodeSequence"],"0x63AC":["SQ","1","FixationMethodCodeSequence"],"0x63B0":["SQ","1","MatingFeatureSetsSequence"],"0x63C0":["US","1","MatingFeatureSetID"],"0x63D0":["LO","1","MatingFeatureSetLabel"],"0x63E0":["SQ","1","MatingFeatureSequence"],"0x63F0":["US","1","MatingFeatureID"],"0x6400":["SQ","1","MatingFeatureDegreeOfFreedomSequence"],"0x6410":["US","1","DegreeOfFreedomID"],"0x6420":["CS","1","DegreeOfFreedomType"],"0x6430":["SQ","1","TwoDMatingFeatureCoordinatesSequence"],"0x6440":["US","1","ReferencedHPGLDocumentID"],"0x6450":["FD","2","TwoDMatingPoint"],"0x6460":["FD","4","TwoDMatingAxes"],"0x6470":["SQ","1","TwoDDegreeOfFreedomSequence"],"0x6490":["FD","3","ThreeDDegreeOfFreedomAxis"],"0x64A0":["FD","2","RangeOfFreedom"],"0x64C0":["FD","3","ThreeDMatingPoint"],"0x64D0":["FD","9","ThreeDMatingAxes"],"0x64F0":["FD","3","TwoDDegreeOfFreedomAxis"],"0x6500":["SQ","1","PlanningLandmarkPointSequence"],"0x6510":["SQ","1","PlanningLandmarkLineSequence"],"0x6520":["SQ","1","PlanningLandmarkPlaneSequence"],"0x6530":["US","1","PlanningLandmarkID"],"0x6540":["LO","1","PlanningLandmarkDescription"],"0x6545":["SQ","1","PlanningLandmarkIdentificationCodeSequence"],"0x6550":["SQ","1","TwoDPointCoordinatesSequence"],"0x6560":["FD","2","TwoDPointCoordinates"],"0x6590":["FD","3","ThreeDPointCoordinates"],"0x65A0":["SQ","1","TwoDLineCoordinatesSequence"],"0x65B0":["FD","4","TwoDLineCoordinates"],"0x65D0":["FD","6","ThreeDLineCoordinates"],"0x65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"0x65F0":["FD","4","TwoDPlaneIntersection"],"0x6610":["FD","3","ThreeDPlaneOrigin"],"0x6620":["FD","3","ThreeDPlaneNormal"]},"0x0070":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","GraphicAnnotationSequence"],"0x0002":["CS","1","GraphicLayer"],"0x0003":["CS","1","BoundingBoxAnnotationUnits"],"0x0004":["CS","1","AnchorPointAnnotationUnits"],"0x0005":["CS","1","GraphicAnnotationUnits"],"0x0006":["ST","1","UnformattedTextValue"],"0x0008":["SQ","1","TextObjectSequence"],"0x0009":["SQ","1","GraphicObjectSequence"],"0x0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0x0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0x0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0x0014":["FL","2","AnchorPoint"],"0x0015":["CS","1","AnchorPointVisibility"],"0x0020":["US","1","GraphicDimensions"],"0x0021":["US","1","NumberOfGraphicPoints"],"0x0022":["FL","2-n","GraphicData"],"0x0023":["CS","1","GraphicType"],"0x0024":["CS","1","GraphicFilled"],"0x0040":["IS","1","ImageRotationRetired"],"0x0041":["CS","1","ImageHorizontalFlip"],"0x0042":["US","1","ImageRotation"],"0x0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0x0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0x0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0x0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"0x005A":["SQ","1","DisplayedAreaSelectionSequence"],"0x0060":["SQ","1","GraphicLayerSequence"],"0x0062":["IS","1","GraphicLayerOrder"],"0x0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0x0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0x0068":["LO","1","GraphicLayerDescription"],"0x0080":["CS","1","ContentLabel"],"0x0081":["LO","1","ContentDescription"],"0x0082":["DA","1","PresentationCreationDate"],"0x0083":["TM","1","PresentationCreationTime"],"0x0084":["PN","1","ContentCreatorName"],"0x0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0x0087":["SQ","1","AlternateContentDescriptionSequence"],"0x0100":["CS","1","PresentationSizeMode"],"0x0101":["DS","2","PresentationPixelSpacing"],"0x0102":["IS","2","PresentationPixelAspectRatio"],"0x0103":["FL","1","PresentationPixelMagnificationRatio"],"0x0207":["LO","1","GraphicGroupLabel"],"0x0208":["ST","1","GraphicGroupDescription"],"0x0209":["SQ","1","CompoundGraphicSequence"],"0x0226":["UL","1","CompoundGraphicInstanceID"],"0x0227":["LO","1","FontName"],"0x0228":["CS","1","FontNameType"],"0x0229":["LO","1","CSSFontName"],"0x0230":["FD","1","RotationAngle"],"0x0231":["SQ","1","TextStyleSequence"],"0x0232":["SQ","1","LineStyleSequence"],"0x0233":["SQ","1","FillStyleSequence"],"0x0234":["SQ","1","GraphicGroupSequence"],"0x0241":["US","3","TextColorCIELabValue"],"0x0242":["CS","1","HorizontalAlignment"],"0x0243":["CS","1","VerticalAlignment"],"0x0244":["CS","1","ShadowStyle"],"0x0245":["FL","1","ShadowOffsetX"],"0x0246":["FL","1","ShadowOffsetY"],"0x0247":["US","3","ShadowColorCIELabValue"],"0x0248":["CS","1","Underlined"],"0x0249":["CS","1","Bold"],"0x0250":["CS","1","Italic"],"0x0251":["US","3","PatternOnColorCIELabValue"],"0x0252":["US","3","PatternOffColorCIELabValue"],"0x0253":["FL","1","LineThickness"],"0x0254":["CS","1","LineDashingStyle"],"0x0255":["UL","1","LinePattern"],"0x0256":["OB","1","FillPattern"],"0x0257":["CS","1","FillMode"],"0x0258":["FL","1","ShadowOpacity"],"0x0261":["FL","1","GapLength"],"0x0262":["FL","1","DiameterOfVisibility"],"0x0273":["FL","2","RotationPoint"],"0x0274":["CS","1","TickAlignment"],"0x0278":["CS","1","ShowTickLabel"],"0x0279":["CS","1","TickLabelAlignment"],"0x0282":["CS","1","CompoundGraphicUnits"],"0x0284":["FL","1","PatternOnOpacity"],"0x0285":["FL","1","PatternOffOpacity"],"0x0287":["SQ","1","MajorTicksSequence"],"0x0288":["FL","1","TickPosition"],"0x0289":["SH","1","TickLabel"],"0x0294":["CS","1","CompoundGraphicType"],"0x0295":["UL","1","GraphicGroupID"],"0x0306":["CS","1","ShapeType"],"0x0308":["SQ","1","RegistrationSequence"],"0x0309":["SQ","1","MatrixRegistrationSequence"],"0x030A":["SQ","1","MatrixSequence"],"0x030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"0x030D":["SQ","1","RegistrationTypeCodeSequence"],"0x030F":["ST","1","FiducialDescription"],"0x0310":["SH","1","FiducialIdentifier"],"0x0311":["SQ","1","FiducialIdentifierCodeSequence"],"0x0312":["FD","1","ContourUncertaintyRadius"],"0x0314":["SQ","1","UsedFiducialsSequence"],"0x0318":["SQ","1","GraphicCoordinatesDataSequence"],"0x031A":["UI","1","FiducialUID"],"0x031C":["SQ","1","FiducialSetSequence"],"0x031E":["SQ","1","FiducialSequence"],"0x0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0x0402":["SQ","1","BlendingSequence"],"0x0403":["FL","1","RelativeOpacity"],"0x0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0x0405":["CS","1","BlendingPosition"]},"0x0072":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","HangingProtocolName"],"0x0004":["LO","1","HangingProtocolDescription"],"0x0006":["CS","1","HangingProtocolLevel"],"0x0008":["LO","1","HangingProtocolCreator"],"0x000A":["DT","1","HangingProtocolCreationDateTime"],"0x000C":["SQ","1","HangingProtocolDefinitionSequence"],"0x000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0x0010":["LO","1","HangingProtocolUserGroupName"],"0x0012":["SQ","1","SourceHangingProtocolSequence"],"0x0014":["US","1","NumberOfPriorsReferenced"],"0x0020":["SQ","1","ImageSetsSequence"],"0x0022":["SQ","1","ImageSetSelectorSequence"],"0x0024":["CS","1","ImageSetSelectorUsageFlag"],"0x0026":["AT","1","SelectorAttribute"],"0x0028":["US","1","SelectorValueNumber"],"0x0030":["SQ","1","TimeBasedImageSetsSequence"],"0x0032":["US","1","ImageSetNumber"],"0x0034":["CS","1","ImageSetSelectorCategory"],"0x0038":["US","2","RelativeTime"],"0x003A":["CS","1","RelativeTimeUnits"],"0x003C":["SS","2","AbstractPriorValue"],"0x003E":["SQ","1","AbstractPriorCodeSequence"],"0x0040":["LO","1","ImageSetLabel"],"0x0050":["CS","1","SelectorAttributeVR"],"0x0052":["AT","1-n","SelectorSequencePointer"],"0x0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0x0056":["LO","1","SelectorAttributePrivateCreator"],"0x0060":["AT","1-n","SelectorATValue"],"0x0062":["CS","1-n","SelectorCSValue"],"0x0064":["IS","1-n","SelectorISValue"],"0x0066":["LO","1-n","SelectorLOValue"],"0x0068":["LT","1","SelectorLTValue"],"0x006A":["PN","1-n","SelectorPNValue"],"0x006C":["SH","1-n","SelectorSHValue"],"0x006E":["ST","1","SelectorSTValue"],"0x0070":["UT","1","SelectorUTValue"],"0x0072":["DS","1-n","SelectorDSValue"],"0x0074":["FD","1-n","SelectorFDValue"],"0x0076":["FL","1-n","SelectorFLValue"],"0x0078":["UL","1-n","SelectorULValue"],"0x007A":["US","1-n","SelectorUSValue"],"0x007C":["SL","1-n","SelectorSLValue"],"0x007E":["SS","1-n","SelectorSSValue"],"0x007F":["UI","1-n","SelectorUIValue"],"0x0080":["SQ","1","SelectorCodeSequenceValue"],"0x0100":["US","1","NumberOfScreens"],"0x0102":["SQ","1","NominalScreenDefinitionSequence"],"0x0104":["US","1","NumberOfVerticalPixels"],"0x0106":["US","1","NumberOfHorizontalPixels"],"0x0108":["FD","4","DisplayEnvironmentSpatialPosition"],"0x010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"0x010C":["US","1","ScreenMinimumColorBitDepth"],"0x010E":["US","1","ApplicationMaximumRepaintTime"],"0x0200":["SQ","1","DisplaySetsSequence"],"0x0202":["US","1","DisplaySetNumber"],"0x0203":["LO","1","DisplaySetLabel"],"0x0204":["US","1","DisplaySetPresentationGroup"],"0x0206":["LO","1","DisplaySetPresentationGroupDescription"],"0x0208":["CS","1","PartialDataDisplayHandling"],"0x0210":["SQ","1","SynchronizedScrollingSequence"],"0x0212":["US","2-n","DisplaySetScrollingGroup"],"0x0214":["SQ","1","NavigationIndicatorSequence"],"0x0216":["US","1","NavigationDisplaySet"],"0x0218":["US","1-n","ReferenceDisplaySets"],"0x0300":["SQ","1","ImageBoxesSequence"],"0x0302":["US","1","ImageBoxNumber"],"0x0304":["CS","1","ImageBoxLayoutType"],"0x0306":["US","1","ImageBoxTileHorizontalDimension"],"0x0308":["US","1","ImageBoxTileVerticalDimension"],"0x0310":["CS","1","ImageBoxScrollDirection"],"0x0312":["CS","1","ImageBoxSmallScrollType"],"0x0314":["US","1","ImageBoxSmallScrollAmount"],"0x0316":["CS","1","ImageBoxLargeScrollType"],"0x0318":["US","1","ImageBoxLargeScrollAmount"],"0x0320":["US","1","ImageBoxOverlapPriority"],"0x0330":["FD","1","CineRelativeToRealTime"],"0x0400":["SQ","1","FilterOperationsSequence"],"0x0402":["CS","1","FilterByCategory"],"0x0404":["CS","1","FilterByAttributePresence"],"0x0406":["CS","1","FilterByOperator"],"0x0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0x0421":["US","3","EmptyImageBoxCIELabValue"],"0x0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0x0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0x0427":["SQ","1","ReferencedFirstFrameSequence"],"0x0430":["SQ","1","ImageBoxSynchronizationSequence"],"0x0432":["US","2-n","SynchronizedImageBoxList"],"0x0434":["CS","1","TypeOfSynchronization"],"0x0500":["CS","1","BlendingOperationType"],"0x0510":["CS","1","ReformattingOperationType"],"0x0512":["FD","1","ReformattingThickness"],"0x0514":["FD","1","ReformattingInterval"],"0x0516":["CS","1","ReformattingOperationInitialViewDirection"],"0x0520":["CS","1-n","ThreeDRenderingType"],"0x0600":["SQ","1","SortingOperationsSequence"],"0x0602":["CS","1","SortByCategory"],"0x0604":["CS","1","SortingDirection"],"0x0700":["CS","2","DisplaySetPatientOrientation"],"0x0702":["CS","1","VOIType"],"0x0704":["CS","1","PseudoColorType"],"0x0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0x0706":["CS","1","ShowGrayscaleInverted"],"0x0710":["CS","1","ShowImageTrueSizeFlag"],"0x0712":["CS","1","ShowGraphicAnnotationFlag"],"0x0714":["CS","1","ShowPatientDemographicsFlag"],"0x0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0x0717":["CS","1","DisplaySetHorizontalJustification"],"0x0718":["CS","1","DisplaySetVerticalJustification"]},"0x0074":{"0x0000":["UL","1","GenericGroupLength"],"0x0120":["FD","1","ContinuationStartMeterset"],"0x0121":["FD","1","ContinuationEndMeterset"],"0x1000":["CS","1","ProcedureStepState"],"0x1002":["SQ","1","ProcedureStepProgressInformationSequence"],"0x1004":["DS","1","ProcedureStepProgress"],"0x1006":["ST","1","ProcedureStepProgressDescription"],"0x1008":["SQ","1","ProcedureStepCommunicationsURISequence"],"0x100A":["UR","1","ContactURI"],"0x100C":["LO","1","ContactDisplayName"],"0x100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],"0x1020":["SQ","1","BeamTaskSequence"],"0x1022":["CS","1","BeamTaskType"],"0x1024":["IS","1","BeamOrderIndexTrial"],"0x1025":["CS","1","AutosequenceFlag"],"0x1026":["FD","1","TableTopVerticalAdjustedPosition"],"0x1027":["FD","1","TableTopLongitudinalAdjustedPosition"],"0x1028":["FD","1","TableTopLateralAdjustedPosition"],"0x102A":["FD","1","PatientSupportAdjustedAngle"],"0x102B":["FD","1","TableTopEccentricAdjustedAngle"],"0x102C":["FD","1","TableTopPitchAdjustedAngle"],"0x102D":["FD","1","TableTopRollAdjustedAngle"],"0x1030":["SQ","1","DeliveryVerificationImageSequence"],"0x1032":["CS","1","VerificationImageTiming"],"0x1034":["CS","1","DoubleExposureFlag"],"0x1036":["CS","1","DoubleExposureOrdering"],"0x1038":["DS","1","DoubleExposureMetersetTrial"],"0x103A":["DS","4","DoubleExposureFieldDeltaTrial"],"0x1040":["SQ","1","RelatedReferenceRTImageSequence"],"0x1042":["SQ","1","GeneralMachineVerificationSequence"],"0x1044":["SQ","1","ConventionalMachineVerificationSequence"],"0x1046":["SQ","1","IonMachineVerificationSequence"],"0x1048":["SQ","1","FailedAttributesSequence"],"0x104A":["SQ","1","OverriddenAttributesSequence"],"0x104C":["SQ","1","ConventionalControlPointVerificationSequence"],"0x104E":["SQ","1","IonControlPointVerificationSequence"],"0x1050":["SQ","1","AttributeOccurrenceSequence"],"0x1052":["AT","1","AttributeOccurrencePointer"],"0x1054":["UL","1","AttributeItemSelector"],"0x1056":["LO","1","AttributeOccurrencePrivateCreator"],"0x1057":["IS","1-n","SelectorSequencePointerItems"],"0x1200":["CS","1","ScheduledProcedureStepPriority"],"0x1202":["LO","1","WorklistLabel"],"0x1204":["LO","1","ProcedureStepLabel"],"0x1210":["SQ","1","ScheduledProcessingParametersSequence"],"0x1212":["SQ","1","PerformedProcessingParametersSequence"],"0x1216":["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],"0x1220":["SQ","1","RelatedProcedureStepSequence"],"0x1222":["LO","1","ProcedureStepRelationshipType"],"0x1224":["SQ","1","ReplacedProcedureStepSequence"],"0x1230":["LO","1","DeletionLock"],"0x1234":["AE","1","ReceivingAE"],"0x1236":["AE","1","RequestingAE"],"0x1238":["LT","1","ReasonForCancellation"],"0x1242":["CS","1","SCPStatus"],"0x1244":["CS","1","SubscriptionListStatus"],"0x1246":["CS","1","UnifiedProcedureStepListStatus"],"0x1324":["UL","1","BeamOrderIndex"],"0x1338":["FD","1","DoubleExposureMeterset"],"0x133A":["FD","4","DoubleExposureFieldDelta"]},"0x0076":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["LO","1","ImplantAssemblyTemplateName"],"0x0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0x0006":["LO","1","ImplantAssemblyTemplateVersion"],"0x0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"0x000A":["CS","1","ImplantAssemblyTemplateType"],"0x000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"0x000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0x0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0x0020":["SQ","1","ProcedureTypeCodeSequence"],"0x0030":["LO","1","SurgicalTechnique"],"0x0032":["SQ","1","ComponentTypesSequence"],"0x0034":["CS","1","ComponentTypeCodeSequence"],"0x0036":["CS","1","ExclusiveComponentType"],"0x0038":["CS","1","MandatoryComponentType"],"0x0040":["SQ","1","ComponentSequence"],"0x0055":["US","1","ComponentID"],"0x0060":["SQ","1","ComponentAssemblySequence"],"0x0070":["US","1","Component1ReferencedID"],"0x0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0x0090":["US","1","Component1ReferencedMatingFeatureID"],"0x00A0":["US","1","Component2ReferencedID"],"0x00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"0x00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0x0078":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["LO","1","ImplantTemplateGroupName"],"0x0010":["ST","1","ImplantTemplateGroupDescription"],"0x0020":["LO","1","ImplantTemplateGroupIssuer"],"0x0024":["LO","1","ImplantTemplateGroupVersion"],"0x0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0x0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"0x002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"0x002E":["US","1","ImplantTemplateGroupMemberID"],"0x0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0x0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0x0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0x0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"0x00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"0x00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"0x00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"0x00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"0x00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"0x00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0x0080":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0x0002":["SQ","1","SurfaceScanModeCodeSequence"],"0x0003":["SQ","1","RegistrationMethodCodeSequence"],"0x0004":["FD","1","ShotDurationTime"],"0x0005":["FD","1","ShotOffsetTime"],"0x0006":["US","1-n","SurfacePointPresentationValueData"],"0x0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0x0008":["SQ","1","UVMappingSequence"],"0x0009":["SH","1","TextureLabel"],"0x0010":["OF","1-n","UValueData"],"0x0011":["OF","1-n","VValueData"],"0x0012":["SQ","1","ReferencedTextureSequence"],"0x0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0x0088":{"0x0000":["UL","1","GenericGroupLength"],"0x0130":["SH","1","StorageMediaFileSetID"],"0x0140":["UI","1","StorageMediaFileSetUID"],"0x0200":["SQ","1","IconImageSequence"],"0x0904":["LO","1","TopicTitle"],"0x0906":["ST","1","TopicSubject"],"0x0910":["LO","1","TopicAuthor"],"0x0912":["LO","1-32","TopicKeywords"]},"0x0100":{"0x0000":["UL","1","GenericGroupLength"],"0x0410":["CS","1","SOPInstanceStatus"],"0x0420":["DT","1","SOPAuthorizationDateTime"],"0x0424":["LT","1","SOPAuthorizationComment"],"0x0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0x0400":{"0x0000":["UL","1","GenericGroupLength"],"0x0005":["US","1","MACIDNumber"],"0x0010":["UI","1","MACCalculationTransferSyntaxUID"],"0x0015":["CS","1","MACAlgorithm"],"0x0020":["AT","1-n","DataElementsSigned"],"0x0100":["UI","1","DigitalSignatureUID"],"0x0105":["DT","1","DigitalSignatureDateTime"],"0x0110":["CS","1","CertificateType"],"0x0115":["OB","1","CertificateOfSigner"],"0x0120":["OB","1","Signature"],"0x0305":["CS","1","CertifiedTimestampType"],"0x0310":["OB","1","CertifiedTimestamp"],"0x0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0x0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0x0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0x0404":["OB","1","MAC"],"0x0500":["SQ","1","EncryptedAttributesSequence"],"0x0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0x0520":["OB","1","EncryptedContent"],"0x0550":["SQ","1","ModifiedAttributesSequence"],"0x0561":["SQ","1","OriginalAttributesSequence"],"0x0562":["DT","1","AttributeModificationDateTime"],"0x0563":["LO","1","ModifyingSystem"],"0x0564":["LO","1","SourceOfPreviousValues"],"0x0565":["CS","1","ReasonForTheAttributeModification"]},"0x1000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","3","EscapeTriplet"],"0x0011":["US","3","RunLengthTriplet"],"0x0012":["US","1","HuffmanTableSize"],"0x0013":["US","3","HuffmanTableTriplet"],"0x0014":["US","1","ShiftTableSize"],"0x0015":["US","3","ShiftTableTriplet"]},"0x1010":{"0x0000":["UL","1","GenericGroupLength"],"0x0004":["US","1-n","ZonalMap"]},"0x2000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["IS","1","NumberOfCopies"],"0x001E":["SQ","1","PrinterConfigurationSequence"],"0x0020":["CS","1","PrintPriority"],"0x0030":["CS","1","MediumType"],"0x0040":["CS","1","FilmDestination"],"0x0050":["LO","1","FilmSessionLabel"],"0x0060":["IS","1","MemoryAllocation"],"0x0061":["IS","1","MaximumMemoryAllocation"],"0x0062":["CS","1","ColorImagePrintingFlag"],"0x0063":["CS","1","CollationFlag"],"0x0065":["CS","1","AnnotationFlag"],"0x0067":["CS","1","ImageOverlayFlag"],"0x0069":["CS","1","PresentationLUTFlag"],"0x006A":["CS","1","ImageBoxPresentationLUTFlag"],"0x00A0":["US","1","MemoryBitDepth"],"0x00A1":["US","1","PrintingBitDepth"],"0x00A2":["SQ","1","MediaInstalledSequence"],"0x00A4":["SQ","1","OtherMediaAvailableSequence"],"0x00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0x0500":["SQ","1","ReferencedFilmBoxSequence"],"0x0510":["SQ","1","ReferencedStoredPrintSequence"]},"0x2010":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ST","1","ImageDisplayFormat"],"0x0030":["CS","1","AnnotationDisplayFormatID"],"0x0040":["CS","1","FilmOrientation"],"0x0050":["CS","1","FilmSizeID"],"0x0052":["CS","1","PrinterResolutionID"],"0x0054":["CS","1","DefaultPrinterResolutionID"],"0x0060":["CS","1","MagnificationType"],"0x0080":["CS","1","SmoothingType"],"0x00A6":["CS","1","DefaultMagnificationType"],"0x00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"0x00A8":["CS","1","DefaultSmoothingType"],"0x00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0x0100":["CS","1","BorderDensity"],"0x0110":["CS","1","EmptyImageDensity"],"0x0120":["US","1","MinDensity"],"0x0130":["US","1","MaxDensity"],"0x0140":["CS","1","Trim"],"0x0150":["ST","1","ConfigurationInformation"],"0x0152":["LT","1","ConfigurationInformationDescription"],"0x0154":["IS","1","MaximumCollatedFilms"],"0x015E":["US","1","Illumination"],"0x0160":["US","1","ReflectedAmbientLight"],"0x0376":["DS","2","PrinterPixelSpacing"],"0x0500":["SQ","1","ReferencedFilmSessionSequence"],"0x0510":["SQ","1","ReferencedImageBoxSequence"],"0x0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},"0x2020":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","ImageBoxPosition"],"0x0020":["CS","1","Polarity"],"0x0030":["DS","1","RequestedImageSize"],"0x0040":["CS","1","RequestedDecimateCropBehavior"],"0x0050":["CS","1","RequestedResolutionID"],"0x00A0":["CS","1","RequestedImageSizeFlag"],"0x00A2":["CS","1","DecimateCropResult"],"0x0110":["SQ","1","BasicGrayscaleImageSequence"],"0x0111":["SQ","1","BasicColorImageSequence"],"0x0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0x0140":["SQ","1","ReferencedVOILUTBoxSequence"]},"0x2030":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","AnnotationPosition"],"0x0020":["LO","1","TextString"]},"0x2040":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0x0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0x0020":["SQ","1","OverlayPixelDataSequence"],"0x0060":["CS","1","OverlayMagnificationType"],"0x0070":["CS","1","OverlaySmoothingType"],"0x0072":["CS","1","OverlayOrImageMagnification"],"0x0074":["US","1","MagnifyToNumberOfColumns"],"0x0080":["CS","1","OverlayForegroundDensity"],"0x0082":["CS","1","OverlayBackgroundDensity"],"0x0090":["CS","1","OverlayMode"],"0x0100":["CS","1","ThresholdDensity"],"0x0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},"0x2050":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","PresentationLUTSequence"],"0x0020":["CS","1","PresentationLUTShape"],"0x0500":["SQ","1","ReferencedPresentationLUTSequence"]},"0x2100":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SH","1","PrintJobID"],"0x0020":["CS","1","ExecutionStatus"],"0x0030":["CS","1","ExecutionStatusInfo"],"0x0040":["DA","1","CreationDate"],"0x0050":["TM","1","CreationTime"],"0x0070":["AE","1","Originator"],"0x0140":["AE","1","DestinationAE"],"0x0160":["SH","1","OwnerID"],"0x0170":["IS","1","NumberOfFilms"],"0x0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},"0x2110":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["CS","1","PrinterStatus"],"0x0020":["CS","1","PrinterStatusInfo"],"0x0030":["LO","1","PrinterName"],"0x0099":["SH","1","PrintQueueID"]},"0x2120":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["CS","1","QueueStatus"],"0x0050":["SQ","1","PrintJobDescriptionSequence"],"0x0070":["SQ","1","ReferencedPrintJobSequence"]},"0x2130":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0x0015":["SQ","1","PrinterCharacteristicsSequence"],"0x0030":["SQ","1","FilmBoxContentSequence"],"0x0040":["SQ","1","ImageBoxContentSequence"],"0x0050":["SQ","1","AnnotationContentSequence"],"0x0060":["SQ","1","ImageOverlayBoxContentSequence"],"0x0080":["SQ","1","PresentationLUTContentSequence"],"0x00A0":["SQ","1","ProposedStudySequence"],"0x00C0":["SQ","1","OriginalImageSequence"]},"0x2200":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0x0002":["UT","1","LabelText"],"0x0003":["CS","1","LabelStyleSelection"],"0x0004":["LT","1","MediaDisposition"],"0x0005":["LT","1","BarcodeValue"],"0x0006":["CS","1","BarcodeSymbology"],"0x0007":["CS","1","AllowMediaSplitting"],"0x0008":["CS","1","IncludeNonDICOMObjects"],"0x0009":["CS","1","IncludeDisplayApplication"],"0x000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"0x000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"0x000C":["LO","1","RequestedMediaApplicationProfile"],"0x000D":["SQ","1","ReferencedStorageMediaSequence"],"0x000E":["AT","1-n","FailureAttributes"],"0x000F":["CS","1","AllowLossyCompression"],"0x0020":["CS","1","RequestPriority"]},"0x3002":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","RTImageLabel"],"0x0003":["LO","1","RTImageName"],"0x0004":["ST","1","RTImageDescription"],"0x000A":["CS","1","ReportedValuesOrigin"],"0x000C":["CS","1","RTImagePlane"],"0x000D":["DS","3","XRayImageReceptorTranslation"],"0x000E":["DS","1","XRayImageReceptorAngle"],"0x0010":["DS","6","RTImageOrientation"],"0x0011":["DS","2","ImagePlanePixelSpacing"],"0x0012":["DS","2","RTImagePosition"],"0x0020":["SH","1","RadiationMachineName"],"0x0022":["DS","1","RadiationMachineSAD"],"0x0024":["DS","1","RadiationMachineSSD"],"0x0026":["DS","1","RTImageSID"],"0x0028":["DS","1","SourceToReferenceObjectDistance"],"0x0029":["IS","1","FractionNumber"],"0x0030":["SQ","1","ExposureSequence"],"0x0032":["DS","1","MetersetExposure"],"0x0034":["DS","4","DiaphragmPosition"],"0x0040":["SQ","1","FluenceMapSequence"],"0x0041":["CS","1","FluenceDataSource"],"0x0042":["DS","1","FluenceDataScale"],"0x0050":["SQ","1","PrimaryFluenceModeSequence"],"0x0051":["CS","1","FluenceMode"],"0x0052":["SH","1","FluenceModeID"]},"0x3004":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","DVHType"],"0x0002":["CS","1","DoseUnits"],"0x0004":["CS","1","DoseType"],"0x0005":["CS","1","SpatialTransformOfDose"],"0x0006":["LO","1","DoseComment"],"0x0008":["DS","3","NormalizationPoint"],"0x000A":["CS","1","DoseSummationType"],"0x000C":["DS","2-n","GridFrameOffsetVector"],"0x000E":["DS","1","DoseGridScaling"],"0x0010":["SQ","1","RTDoseROISequence"],"0x0012":["DS","1","DoseValue"],"0x0014":["CS","1-3","TissueHeterogeneityCorrection"],"0x0040":["DS","3","DVHNormalizationPoint"],"0x0042":["DS","1","DVHNormalizationDoseValue"],"0x0050":["SQ","1","DVHSequence"],"0x0052":["DS","1","DVHDoseScaling"],"0x0054":["CS","1","DVHVolumeUnits"],"0x0056":["IS","1","DVHNumberOfBins"],"0x0058":["DS","2-2n","DVHData"],"0x0060":["SQ","1","DVHReferencedROISequence"],"0x0062":["CS","1","DVHROIContributionType"],"0x0070":["DS","1","DVHMinimumDose"],"0x0072":["DS","1","DVHMaximumDose"],"0x0074":["DS","1","DVHMeanDose"]},"0x3006":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","StructureSetLabel"],"0x0004":["LO","1","StructureSetName"],"0x0006":["ST","1","StructureSetDescription"],"0x0008":["DA","1","StructureSetDate"],"0x0009":["TM","1","StructureSetTime"],"0x0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0x0012":["SQ","1","RTReferencedStudySequence"],"0x0014":["SQ","1","RTReferencedSeriesSequence"],"0x0016":["SQ","1","ContourImageSequence"],"0x0018":["SQ","1","PredecessorStructureSetSequence"],"0x0020":["SQ","1","StructureSetROISequence"],"0x0022":["IS","1","ROINumber"],"0x0024":["UI","1","ReferencedFrameOfReferenceUID"],"0x0026":["LO","1","ROIName"],"0x0028":["ST","1","ROIDescription"],"0x002A":["IS","3","ROIDisplayColor"],"0x002C":["DS","1","ROIVolume"],"0x0030":["SQ","1","RTRelatedROISequence"],"0x0033":["CS","1","RTROIRelationship"],"0x0036":["CS","1","ROIGenerationAlgorithm"],"0x0038":["LO","1","ROIGenerationDescription"],"0x0039":["SQ","1","ROIContourSequence"],"0x0040":["SQ","1","ContourSequence"],"0x0042":["CS","1","ContourGeometricType"],"0x0044":["DS","1","ContourSlabThickness"],"0x0045":["DS","3","ContourOffsetVector"],"0x0046":["IS","1","NumberOfContourPoints"],"0x0048":["IS","1","ContourNumber"],"0x0049":["IS","1-n","AttachedContours"],"0x0050":["DS","3-3n","ContourData"],"0x0080":["SQ","1","RTROIObservationsSequence"],"0x0082":["IS","1","ObservationNumber"],"0x0084":["IS","1","ReferencedROINumber"],"0x0085":["SH","1","ROIObservationLabel"],"0x0086":["SQ","1","RTROIIdentificationCodeSequence"],"0x0088":["ST","1","ROIObservationDescription"],"0x00A0":["SQ","1","RelatedRTROIObservationsSequence"],"0x00A4":["CS","1","RTROIInterpretedType"],"0x00A6":["PN","1","ROIInterpreter"],"0x00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"0x00B2":["CS","1","ROIPhysicalProperty"],"0x00B4":["DS","1","ROIPhysicalPropertyValue"],"0x00B6":["SQ","1","ROIElementalCompositionSequence"],"0x00B7":["US","1","ROIElementalCompositionAtomicNumber"],"0x00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"0x00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"0x00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"0x00C2":["UI","1","RelatedFrameOfReferenceUID"],"0x00C4":["CS","1","FrameOfReferenceTransformationType"],"0x00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"0x00C8":["LO","1","FrameOfReferenceTransformationComment"]},"0x3008":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["SQ","1","MeasuredDoseReferenceSequence"],"0x0012":["ST","1","MeasuredDoseDescription"],"0x0014":["CS","1","MeasuredDoseType"],"0x0016":["DS","1","MeasuredDoseValue"],"0x0020":["SQ","1","TreatmentSessionBeamSequence"],"0x0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0x0022":["IS","1","CurrentFractionNumber"],"0x0024":["DA","1","TreatmentControlPointDate"],"0x0025":["TM","1","TreatmentControlPointTime"],"0x002A":["CS","1","TreatmentTerminationStatus"],"0x002B":["SH","1","TreatmentTerminationCode"],"0x002C":["CS","1","TreatmentVerificationStatus"],"0x0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0x0032":["DS","1","SpecifiedPrimaryMeterset"],"0x0033":["DS","1","SpecifiedSecondaryMeterset"],"0x0036":["DS","1","DeliveredPrimaryMeterset"],"0x0037":["DS","1","DeliveredSecondaryMeterset"],"0x003A":["DS","1","SpecifiedTreatmentTime"],"0x003B":["DS","1","DeliveredTreatmentTime"],"0x0040":["SQ","1","ControlPointDeliverySequence"],"0x0041":["SQ","1","IonControlPointDeliverySequence"],"0x0042":["DS","1","SpecifiedMeterset"],"0x0044":["DS","1","DeliveredMeterset"],"0x0045":["FL","1","MetersetRateSet"],"0x0046":["FL","1","MetersetRateDelivered"],"0x0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0x0048":["DS","1","DoseRateDelivered"],"0x0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0x0052":["DS","1","CumulativeDoseToDoseReference"],"0x0054":["DA","1","FirstTreatmentDate"],"0x0056":["DA","1","MostRecentTreatmentDate"],"0x005A":["IS","1","NumberOfFractionsDelivered"],"0x0060":["SQ","1","OverrideSequence"],"0x0061":["AT","1","ParameterSequencePointer"],"0x0062":["AT","1","OverrideParameterPointer"],"0x0063":["IS","1","ParameterItemIndex"],"0x0064":["IS","1","MeasuredDoseReferenceNumber"],"0x0065":["AT","1","ParameterPointer"],"0x0066":["ST","1","OverrideReason"],"0x0068":["SQ","1","CorrectedParameterSequence"],"0x006A":["FL","1","CorrectionValue"],"0x0070":["SQ","1","CalculatedDoseReferenceSequence"],"0x0072":["IS","1","CalculatedDoseReferenceNumber"],"0x0074":["ST","1","CalculatedDoseReferenceDescription"],"0x0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0x0078":["DS","1","StartMeterset"],"0x007A":["DS","1","EndMeterset"],"0x0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0x0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0x0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0x0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"0x00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"0x00B0":["SQ","1","RecordedWedgeSequence"],"0x00C0":["SQ","1","RecordedCompensatorSequence"],"0x00D0":["SQ","1","RecordedBlockSequence"],"0x00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"0x00F0":["SQ","1","RecordedSnoutSequence"],"0x00F2":["SQ","1","RecordedRangeShifterSequence"],"0x00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"0x00F6":["SQ","1","RecordedRangeModulatorSequence"],"0x0100":["SQ","1","RecordedSourceSequence"],"0x0105":["LO","1","SourceSerialNumber"],"0x0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0x0116":["CS","1","ApplicationSetupCheck"],"0x0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0x0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0x0130":["SQ","1","RecordedChannelSequence"],"0x0132":["DS","1","SpecifiedChannelTotalTime"],"0x0134":["DS","1","DeliveredChannelTotalTime"],"0x0136":["IS","1","SpecifiedNumberOfPulses"],"0x0138":["IS","1","DeliveredNumberOfPulses"],"0x013A":["DS","1","SpecifiedPulseRepetitionInterval"],"0x013C":["DS","1","DeliveredPulseRepetitionInterval"],"0x0140":["SQ","1","RecordedSourceApplicatorSequence"],"0x0142":["IS","1","ReferencedSourceApplicatorNumber"],"0x0150":["SQ","1","RecordedChannelShieldSequence"],"0x0152":["IS","1","ReferencedChannelShieldNumber"],"0x0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0x0162":["DA","1","SafePositionExitDate"],"0x0164":["TM","1","SafePositionExitTime"],"0x0166":["DA","1","SafePositionReturnDate"],"0x0168":["TM","1","SafePositionReturnTime"],"0x0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0x0172":["US","1","PulseNumber"],"0x0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0x0200":["CS","1","CurrentTreatmentStatus"],"0x0202":["ST","1","TreatmentStatusComment"],"0x0220":["SQ","1","FractionGroupSummarySequence"],"0x0223":["IS","1","ReferencedFractionNumber"],"0x0224":["CS","1","FractionGroupType"],"0x0230":["CS","1","BeamStopperPosition"],"0x0240":["SQ","1","FractionStatusSummarySequence"],"0x0250":["DA","1","TreatmentDate"],"0x0251":["TM","1","TreatmentTime"]},"0x300A":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SH","1","RTPlanLabel"],"0x0003":["LO","1","RTPlanName"],"0x0004":["ST","1","RTPlanDescription"],"0x0006":["DA","1","RTPlanDate"],"0x0007":["TM","1","RTPlanTime"],"0x0009":["LO","1-n","TreatmentProtocols"],"0x000A":["CS","1","PlanIntent"],"0x000B":["LO","1-n","TreatmentSites"],"0x000C":["CS","1","RTPlanGeometry"],"0x000E":["ST","1","PrescriptionDescription"],"0x0010":["SQ","1","DoseReferenceSequence"],"0x0012":["IS","1","DoseReferenceNumber"],"0x0013":["UI","1","DoseReferenceUID"],"0x0014":["CS","1","DoseReferenceStructureType"],"0x0015":["CS","1","NominalBeamEnergyUnit"],"0x0016":["LO","1","DoseReferenceDescription"],"0x0018":["DS","3","DoseReferencePointCoordinates"],"0x001A":["DS","1","NominalPriorDose"],"0x0020":["CS","1","DoseReferenceType"],"0x0021":["DS","1","ConstraintWeight"],"0x0022":["DS","1","DeliveryWarningDose"],"0x0023":["DS","1","DeliveryMaximumDose"],"0x0025":["DS","1","TargetMinimumDose"],"0x0026":["DS","1","TargetPrescriptionDose"],"0x0027":["DS","1","TargetMaximumDose"],"0x0028":["DS","1","TargetUnderdoseVolumeFraction"],"0x002A":["DS","1","OrganAtRiskFullVolumeDose"],"0x002B":["DS","1","OrganAtRiskLimitDose"],"0x002C":["DS","1","OrganAtRiskMaximumDose"],"0x002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0x0040":["SQ","1","ToleranceTableSequence"],"0x0042":["IS","1","ToleranceTableNumber"],"0x0043":["SH","1","ToleranceTableLabel"],"0x0044":["DS","1","GantryAngleTolerance"],"0x0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0x0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"0x004A":["DS","1","BeamLimitingDevicePositionTolerance"],"0x004B":["FL","1","SnoutPositionTolerance"],"0x004C":["DS","1","PatientSupportAngleTolerance"],"0x004E":["DS","1","TableTopEccentricAngleTolerance"],"0x004F":["FL","1","TableTopPitchAngleTolerance"],"0x0050":["FL","1","TableTopRollAngleTolerance"],"0x0051":["DS","1","TableTopVerticalPositionTolerance"],"0x0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0x0053":["DS","1","TableTopLateralPositionTolerance"],"0x0055":["CS","1","RTPlanRelationship"],"0x0070":["SQ","1","FractionGroupSequence"],"0x0071":["IS","1","FractionGroupNumber"],"0x0072":["LO","1","FractionGroupDescription"],"0x0078":["IS","1","NumberOfFractionsPlanned"],"0x0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"0x007A":["IS","1","RepeatFractionCycleLength"],"0x007B":["LT","1","FractionPattern"],"0x0080":["IS","1","NumberOfBeams"],"0x0082":["DS","3","BeamDoseSpecificationPoint"],"0x0084":["DS","1","BeamDose"],"0x0086":["DS","1","BeamMeterset"],"0x0088":["FL","1","BeamDosePointDepth"],"0x0089":["FL","1","BeamDosePointEquivalentDepth"],"0x008A":["FL","1","BeamDosePointSSD"],"0x008B":["CS","1","BeamDoseMeaning"],"0x008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"0x008D":["FL","1","AverageBeamDosePointDepth"],"0x008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"0x008F":["FL","1","AverageBeamDosePointSSD"],"0x00A0":["IS","1","NumberOfBrachyApplicationSetups"],"0x00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"0x00A4":["DS","1","BrachyApplicationSetupDose"],"0x00B0":["SQ","1","BeamSequence"],"0x00B2":["SH","1","TreatmentMachineName"],"0x00B3":["CS","1","PrimaryDosimeterUnit"],"0x00B4":["DS","1","SourceAxisDistance"],"0x00B6":["SQ","1","BeamLimitingDeviceSequence"],"0x00B8":["CS","1","RTBeamLimitingDeviceType"],"0x00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"0x00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"0x00BC":["IS","1","NumberOfLeafJawPairs"],"0x00BE":["DS","3-n","LeafPositionBoundaries"],"0x00C0":["IS","1","BeamNumber"],"0x00C2":["LO","1","BeamName"],"0x00C3":["ST","1","BeamDescription"],"0x00C4":["CS","1","BeamType"],"0x00C5":["FD","1","BeamDeliveryDurationLimit"],"0x00C6":["CS","1","RadiationType"],"0x00C7":["CS","1","HighDoseTechniqueType"],"0x00C8":["IS","1","ReferenceImageNumber"],"0x00CA":["SQ","1","PlannedVerificationImageSequence"],"0x00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"0x00CE":["CS","1","TreatmentDeliveryType"],"0x00D0":["IS","1","NumberOfWedges"],"0x00D1":["SQ","1","WedgeSequence"],"0x00D2":["IS","1","WedgeNumber"],"0x00D3":["CS","1","WedgeType"],"0x00D4":["SH","1","WedgeID"],"0x00D5":["IS","1","WedgeAngle"],"0x00D6":["DS","1","WedgeFactor"],"0x00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"0x00D8":["DS","1","WedgeOrientation"],"0x00D9":["FL","1","IsocenterToWedgeTrayDistance"],"0x00DA":["DS","1","SourceToWedgeTrayDistance"],"0x00DB":["FL","1","WedgeThinEdgePosition"],"0x00DC":["SH","1","BolusID"],"0x00DD":["ST","1","BolusDescription"],"0x00DE":["DS","1","EffectiveWedgeAngle"],"0x00E0":["IS","1","NumberOfCompensators"],"0x00E1":["SH","1","MaterialID"],"0x00E2":["DS","1","TotalCompensatorTrayFactor"],"0x00E3":["SQ","1","CompensatorSequence"],"0x00E4":["IS","1","CompensatorNumber"],"0x00E5":["SH","1","CompensatorID"],"0x00E6":["DS","1","SourceToCompensatorTrayDistance"],"0x00E7":["IS","1","CompensatorRows"],"0x00E8":["IS","1","CompensatorColumns"],"0x00E9":["DS","2","CompensatorPixelSpacing"],"0x00EA":["DS","2","CompensatorPosition"],"0x00EB":["DS","1-n","CompensatorTransmissionData"],"0x00EC":["DS","1-n","CompensatorThicknessData"],"0x00ED":["IS","1","NumberOfBoli"],"0x00EE":["CS","1","CompensatorType"],"0x00EF":["SH","1","CompensatorTrayID"],"0x00F0":["IS","1","NumberOfBlocks"],"0x00F2":["DS","1","TotalBlockTrayFactor"],"0x00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"0x00F4":["SQ","1","BlockSequence"],"0x00F5":["SH","1","BlockTrayID"],"0x00F6":["DS","1","SourceToBlockTrayDistance"],"0x00F7":["FL","1","IsocenterToBlockTrayDistance"],"0x00F8":["CS","1","BlockType"],"0x00F9":["LO","1","AccessoryCode"],"0x00FA":["CS","1","BlockDivergence"],"0x00FB":["CS","1","BlockMountingPosition"],"0x00FC":["IS","1","BlockNumber"],"0x00FE":["LO","1","BlockName"],"0x0100":["DS","1","BlockThickness"],"0x0102":["DS","1","BlockTransmission"],"0x0104":["IS","1","BlockNumberOfPoints"],"0x0106":["DS","2-2n","BlockData"],"0x0107":["SQ","1","ApplicatorSequence"],"0x0108":["SH","1","ApplicatorID"],"0x0109":["CS","1","ApplicatorType"],"0x010A":["LO","1","ApplicatorDescription"],"0x010C":["DS","1","CumulativeDoseReferenceCoefficient"],"0x010E":["DS","1","FinalCumulativeMetersetWeight"],"0x0110":["IS","1","NumberOfControlPoints"],"0x0111":["SQ","1","ControlPointSequence"],"0x0112":["IS","1","ControlPointIndex"],"0x0114":["DS","1","NominalBeamEnergy"],"0x0115":["DS","1","DoseRateSet"],"0x0116":["SQ","1","WedgePositionSequence"],"0x0118":["CS","1","WedgePosition"],"0x011A":["SQ","1","BeamLimitingDevicePositionSequence"],"0x011C":["DS","2-2n","LeafJawPositions"],"0x011E":["DS","1","GantryAngle"],"0x011F":["CS","1","GantryRotationDirection"],"0x0120":["DS","1","BeamLimitingDeviceAngle"],"0x0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0x0122":["DS","1","PatientSupportAngle"],"0x0123":["CS","1","PatientSupportRotationDirection"],"0x0124":["DS","1","TableTopEccentricAxisDistance"],"0x0125":["DS","1","TableTopEccentricAngle"],"0x0126":["CS","1","TableTopEccentricRotationDirection"],"0x0128":["DS","1","TableTopVerticalPosition"],"0x0129":["DS","1","TableTopLongitudinalPosition"],"0x012A":["DS","1","TableTopLateralPosition"],"0x012C":["DS","3","IsocenterPosition"],"0x012E":["DS","3","SurfaceEntryPoint"],"0x0130":["DS","1","SourceToSurfaceDistance"],"0x0131":["FL","1","AverageBeamDosePointSourceToExternalContourSurfaceDistance"],"0x0132":["FL","1","SourceToExternalContourDistance"],"0x0133":["FL","3","ExternalContourEntryPoint"],"0x0134":["DS","1","CumulativeMetersetWeight"],"0x0140":["FL","1","TableTopPitchAngle"],"0x0142":["CS","1","TableTopPitchRotationDirection"],"0x0144":["FL","1","TableTopRollAngle"],"0x0146":["CS","1","TableTopRollRotationDirection"],"0x0148":["FL","1","HeadFixationAngle"],"0x014A":["FL","1","GantryPitchAngle"],"0x014C":["CS","1","GantryPitchRotationDirection"],"0x014E":["FL","1","GantryPitchAngleTolerance"],"0x0180":["SQ","1","PatientSetupSequence"],"0x0182":["IS","1","PatientSetupNumber"],"0x0183":["LO","1","PatientSetupLabel"],"0x0184":["LO","1","PatientAdditionalPosition"],"0x0190":["SQ","1","FixationDeviceSequence"],"0x0192":["CS","1","FixationDeviceType"],"0x0194":["SH","1","FixationDeviceLabel"],"0x0196":["ST","1","FixationDeviceDescription"],"0x0198":["SH","1","FixationDevicePosition"],"0x0199":["FL","1","FixationDevicePitchAngle"],"0x019A":["FL","1","FixationDeviceRollAngle"],"0x01A0":["SQ","1","ShieldingDeviceSequence"],"0x01A2":["CS","1","ShieldingDeviceType"],"0x01A4":["SH","1","ShieldingDeviceLabel"],"0x01A6":["ST","1","ShieldingDeviceDescription"],"0x01A8":["SH","1","ShieldingDevicePosition"],"0x01B0":["CS","1","SetupTechnique"],"0x01B2":["ST","1","SetupTechniqueDescription"],"0x01B4":["SQ","1","SetupDeviceSequence"],"0x01B6":["CS","1","SetupDeviceType"],"0x01B8":["SH","1","SetupDeviceLabel"],"0x01BA":["ST","1","SetupDeviceDescription"],"0x01BC":["DS","1","SetupDeviceParameter"],"0x01D0":["ST","1","SetupReferenceDescription"],"0x01D2":["DS","1","TableTopVerticalSetupDisplacement"],"0x01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"0x01D6":["DS","1","TableTopLateralSetupDisplacement"],"0x0200":["CS","1","BrachyTreatmentTechnique"],"0x0202":["CS","1","BrachyTreatmentType"],"0x0206":["SQ","1","TreatmentMachineSequence"],"0x0210":["SQ","1","SourceSequence"],"0x0212":["IS","1","SourceNumber"],"0x0214":["CS","1","SourceType"],"0x0216":["LO","1","SourceManufacturer"],"0x0218":["DS","1","ActiveSourceDiameter"],"0x021A":["DS","1","ActiveSourceLength"],"0x021B":["SH","1","SourceModelID"],"0x021C":["LO","1","SourceDescription"],"0x0222":["DS","1","SourceEncapsulationNominalThickness"],"0x0224":["DS","1","SourceEncapsulationNominalTransmission"],"0x0226":["LO","1","SourceIsotopeName"],"0x0228":["DS","1","SourceIsotopeHalfLife"],"0x0229":["CS","1","SourceStrengthUnits"],"0x022A":["DS","1","ReferenceAirKermaRate"],"0x022B":["DS","1","SourceStrength"],"0x022C":["DA","1","SourceStrengthReferenceDate"],"0x022E":["TM","1","SourceStrengthReferenceTime"],"0x0230":["SQ","1","ApplicationSetupSequence"],"0x0232":["CS","1","ApplicationSetupType"],"0x0234":["IS","1","ApplicationSetupNumber"],"0x0236":["LO","1","ApplicationSetupName"],"0x0238":["LO","1","ApplicationSetupManufacturer"],"0x0240":["IS","1","TemplateNumber"],"0x0242":["SH","1","TemplateType"],"0x0244":["LO","1","TemplateName"],"0x0250":["DS","1","TotalReferenceAirKerma"],"0x0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0x0262":["IS","1","BrachyAccessoryDeviceNumber"],"0x0263":["SH","1","BrachyAccessoryDeviceID"],"0x0264":["CS","1","BrachyAccessoryDeviceType"],"0x0266":["LO","1","BrachyAccessoryDeviceName"],"0x026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"0x026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0x0280":["SQ","1","ChannelSequence"],"0x0282":["IS","1","ChannelNumber"],"0x0284":["DS","1","ChannelLength"],"0x0286":["DS","1","ChannelTotalTime"],"0x0288":["CS","1","SourceMovementType"],"0x028A":["IS","1","NumberOfPulses"],"0x028C":["DS","1","PulseRepetitionInterval"],"0x0290":["IS","1","SourceApplicatorNumber"],"0x0291":["SH","1","SourceApplicatorID"],"0x0292":["CS","1","SourceApplicatorType"],"0x0294":["LO","1","SourceApplicatorName"],"0x0296":["DS","1","SourceApplicatorLength"],"0x0298":["LO","1","SourceApplicatorManufacturer"],"0x029C":["DS","1","SourceApplicatorWallNominalThickness"],"0x029E":["DS","1","SourceApplicatorWallNominalTransmission"],"0x02A0":["DS","1","SourceApplicatorStepSize"],"0x02A2":["IS","1","TransferTubeNumber"],"0x02A4":["DS","1","TransferTubeLength"],"0x02B0":["SQ","1","ChannelShieldSequence"],"0x02B2":["IS","1","ChannelShieldNumber"],"0x02B3":["SH","1","ChannelShieldID"],"0x02B4":["LO","1","ChannelShieldName"],"0x02B8":["DS","1","ChannelShieldNominalThickness"],"0x02BA":["DS","1","ChannelShieldNominalTransmission"],"0x02C8":["DS","1","FinalCumulativeTimeWeight"],"0x02D0":["SQ","1","BrachyControlPointSequence"],"0x02D2":["DS","1","ControlPointRelativePosition"],"0x02D4":["DS","3","ControlPoint3DPosition"],"0x02D6":["DS","1","CumulativeTimeWeight"],"0x02E0":["CS","1","CompensatorDivergence"],"0x02E1":["CS","1","CompensatorMountingPosition"],"0x02E2":["DS","1-n","SourceToCompensatorDistance"],"0x02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"0x02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"0x02E5":["FL","1","CompensatorColumnOffset"],"0x02E6":["FL","1-n","IsocenterToCompensatorDistances"],"0x02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"0x02E8":["FL","1","CompensatorMillingToolDiameter"],"0x02EA":["SQ","1","IonRangeCompensatorSequence"],"0x02EB":["LT","1","CompensatorDescription"],"0x0302":["IS","1","RadiationMassNumber"],"0x0304":["IS","1","RadiationAtomicNumber"],"0x0306":["SS","1","RadiationChargeState"],"0x0308":["CS","1","ScanMode"],"0x030A":["FL","2","VirtualSourceAxisDistances"],"0x030C":["SQ","1","SnoutSequence"],"0x030D":["FL","1","SnoutPosition"],"0x030F":["SH","1","SnoutID"],"0x0312":["IS","1","NumberOfRangeShifters"],"0x0314":["SQ","1","RangeShifterSequence"],"0x0316":["IS","1","RangeShifterNumber"],"0x0318":["SH","1","RangeShifterID"],"0x0320":["CS","1","RangeShifterType"],"0x0322":["LO","1","RangeShifterDescription"],"0x0330":["IS","1","NumberOfLateralSpreadingDevices"],"0x0332":["SQ","1","LateralSpreadingDeviceSequence"],"0x0334":["IS","1","LateralSpreadingDeviceNumber"],"0x0336":["SH","1","LateralSpreadingDeviceID"],"0x0338":["CS","1","LateralSpreadingDeviceType"],"0x033A":["LO","1","LateralSpreadingDeviceDescription"],"0x033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0x0340":["IS","1","NumberOfRangeModulators"],"0x0342":["SQ","1","RangeModulatorSequence"],"0x0344":["IS","1","RangeModulatorNumber"],"0x0346":["SH","1","RangeModulatorID"],"0x0348":["CS","1","RangeModulatorType"],"0x034A":["LO","1","RangeModulatorDescription"],"0x034C":["SH","1","BeamCurrentModulationID"],"0x0350":["CS","1","PatientSupportType"],"0x0352":["SH","1","PatientSupportID"],"0x0354":["LO","1","PatientSupportAccessoryCode"],"0x0356":["FL","1","FixationLightAzimuthalAngle"],"0x0358":["FL","1","FixationLightPolarAngle"],"0x035A":["FL","1","MetersetRate"],"0x0360":["SQ","1","RangeShifterSettingsSequence"],"0x0362":["LO","1","RangeShifterSetting"],"0x0364":["FL","1","IsocenterToRangeShifterDistance"],"0x0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0x0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0x0372":["LO","1","LateralSpreadingDeviceSetting"],"0x0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0x0380":["SQ","1","RangeModulatorSettingsSequence"],"0x0382":["FL","1","RangeModulatorGatingStartValue"],"0x0384":["FL","1","RangeModulatorGatingStopValue"],"0x0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0x0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"0x038A":["FL","1","IsocenterToRangeModulatorDistance"],"0x0390":["SH","1","ScanSpotTuneID"],"0x0392":["IS","1","NumberOfScanSpotPositions"],"0x0394":["FL","1-n","ScanSpotPositionMap"],"0x0396":["FL","1-n","ScanSpotMetersetWeights"],"0x0398":["FL","2","ScanningSpotSize"],"0x039A":["IS","1","NumberOfPaintings"],"0x03A0":["SQ","1","IonToleranceTableSequence"],"0x03A2":["SQ","1","IonBeamSequence"],"0x03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"0x03A6":["SQ","1","IonBlockSequence"],"0x03A8":["SQ","1","IonControlPointSequence"],"0x03AA":["SQ","1","IonWedgeSequence"],"0x03AC":["SQ","1","IonWedgePositionSequence"],"0x0401":["SQ","1","ReferencedSetupImageSequence"],"0x0402":["ST","1","SetupImageComment"],"0x0410":["SQ","1","MotionSynchronizationSequence"],"0x0412":["FL","3","ControlPointOrientation"],"0x0420":["SQ","1","GeneralAccessorySequence"],"0x0421":["SH","1","GeneralAccessoryID"],"0x0422":["ST","1","GeneralAccessoryDescription"],"0x0423":["CS","1","GeneralAccessoryType"],"0x0424":["IS","1","GeneralAccessoryNumber"],"0x0425":["FL","1","SourceToGeneralAccessoryDistance"],"0x0431":["SQ","1","ApplicatorGeometrySequence"],"0x0432":["CS","1","ApplicatorApertureShape"],"0x0433":["FL","1","ApplicatorOpening"],"0x0434":["FL","1","ApplicatorOpeningX"],"0x0435":["FL","1","ApplicatorOpeningY"],"0x0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0x0440":["IS","1","NumberOfBlockSlabItems"],"0x0441":["SQ","1","BlockSlabSequence"],"0x0442":["DS","1","BlockSlabThickness"],"0x0443":["US","1","BlockSlabNumber"],"0x0450":["SQ","1","DeviceMotionControlSequence"],"0x0451":["CS","1","DeviceMotionExecutionMode"],"0x0452":["CS","1","DeviceMotionObservationMode"],"0x0453":["SQ","1","DeviceMotionParameterCodeSequence"]},"0x300C":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["SQ","1","ReferencedRTPlanSequence"],"0x0004":["SQ","1","ReferencedBeamSequence"],"0x0006":["IS","1","ReferencedBeamNumber"],"0x0007":["IS","1","ReferencedReferenceImageNumber"],"0x0008":["DS","1","StartCumulativeMetersetWeight"],"0x0009":["DS","1","EndCumulativeMetersetWeight"],"0x000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"0x000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"0x000E":["IS","1","ReferencedSourceNumber"],"0x0020":["SQ","1","ReferencedFractionGroupSequence"],"0x0022":["IS","1","ReferencedFractionGroupNumber"],"0x0040":["SQ","1","ReferencedVerificationImageSequence"],"0x0042":["SQ","1","ReferencedReferenceImageSequence"],"0x0050":["SQ","1","ReferencedDoseReferenceSequence"],"0x0051":["IS","1","ReferencedDoseReferenceNumber"],"0x0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0x0060":["SQ","1","ReferencedStructureSetSequence"],"0x006A":["IS","1","ReferencedPatientSetupNumber"],"0x0080":["SQ","1","ReferencedDoseSequence"],"0x00A0":["IS","1","ReferencedToleranceTableNumber"],"0x00B0":["SQ","1","ReferencedBolusSequence"],"0x00C0":["IS","1","ReferencedWedgeNumber"],"0x00D0":["IS","1","ReferencedCompensatorNumber"],"0x00E0":["IS","1","ReferencedBlockNumber"],"0x00F0":["IS","1","ReferencedControlPointIndex"],"0x00F2":["SQ","1","ReferencedControlPointSequence"],"0x00F4":["IS","1","ReferencedStartControlPointIndex"],"0x00F6":["IS","1","ReferencedStopControlPointIndex"],"0x0100":["IS","1","ReferencedRangeShifterNumber"],"0x0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0x0104":["IS","1","ReferencedRangeModulatorNumber"],"0x0111":["SQ","1","OmittedBeamTaskSequence"],"0x0112":["CS","1","ReasonForOmission"],"0x0113":["LO","1","ReasonForOmissionDescription"]},"0x300E":{"0x0000":["UL","1","GenericGroupLength"],"0x0002":["CS","1","ApprovalStatus"],"0x0004":["DA","1","ReviewDate"],"0x0005":["TM","1","ReviewTime"],"0x0008":["PN","1","ReviewerName"]},"0x4000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["LT","1","Arbitrary"],"0x4000":["LT","1","TextComments"]},"0x4008":{"0x0000":["UL","1","GenericGroupLength"],"0x0040":["SH","1","ResultsID"],"0x0042":["LO","1","ResultsIDIssuer"],"0x0050":["SQ","1","ReferencedInterpretationSequence"],"0x00FF":["CS","1","ReportProductionStatusTrial"],"0x0100":["DA","1","InterpretationRecordedDate"],"0x0101":["TM","1","InterpretationRecordedTime"],"0x0102":["PN","1","InterpretationRecorder"],"0x0103":["LO","1","ReferenceToRecordedSound"],"0x0108":["DA","1","InterpretationTranscriptionDate"],"0x0109":["TM","1","InterpretationTranscriptionTime"],"0x010A":["PN","1","InterpretationTranscriber"],"0x010B":["ST","1","InterpretationText"],"0x010C":["PN","1","InterpretationAuthor"],"0x0111":["SQ","1","InterpretationApproverSequence"],"0x0112":["DA","1","InterpretationApprovalDate"],"0x0113":["TM","1","InterpretationApprovalTime"],"0x0114":["PN","1","PhysicianApprovingInterpretation"],"0x0115":["LT","1","InterpretationDiagnosisDescription"],"0x0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0x0118":["SQ","1","ResultsDistributionListSequence"],"0x0119":["PN","1","DistributionName"],"0x011A":["LO","1","DistributionAddress"],"0x0200":["SH","1","InterpretationID"],"0x0202":["LO","1","InterpretationIDIssuer"],"0x0210":["CS","1","InterpretationTypeID"],"0x0212":["CS","1","InterpretationStatusID"],"0x0300":["ST","1","Impressions"],"0x4000":["ST","1","ResultsComments"]},"0x4010":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["CS","1","LowEnergyDetectors"],"0x0002":["CS","1","HighEnergyDetectors"],"0x0004":["SQ","1","DetectorGeometrySequence"],"0x1001":["SQ","1","ThreatROIVoxelSequence"],"0x1004":["FL","3","ThreatROIBase"],"0x1005":["FL","3","ThreatROIExtents"],"0x1006":["OB","1","ThreatROIBitmap"],"0x1007":["SH","1","RouteSegmentID"],"0x1008":["CS","1","GantryType"],"0x1009":["CS","1","OOIOwnerType"],"0x100A":["SQ","1","RouteSegmentSequence"],"0x1010":["US","1","PotentialThreatObjectID"],"0x1011":["SQ","1","ThreatSequence"],"0x1012":["CS","1","ThreatCategory"],"0x1013":["LT","1","ThreatCategoryDescription"],"0x1014":["CS","1","ATDAbilityAssessment"],"0x1015":["CS","1","ATDAssessmentFlag"],"0x1016":["FL","1","ATDAssessmentProbability"],"0x1017":["FL","1","Mass"],"0x1018":["FL","1","Density"],"0x1019":["FL","1","ZEffective"],"0x101A":["SH","1","BoardingPassID"],"0x101B":["FL","3","CenterOfMass"],"0x101C":["FL","3","CenterOfPTO"],"0x101D":["FL","6-n","BoundingPolygon"],"0x101E":["SH","1","RouteSegmentStartLocationID"],"0x101F":["SH","1","RouteSegmentEndLocationID"],"0x1020":["CS","1","RouteSegmentLocationIDType"],"0x1021":["CS","1-n","AbortReason"],"0x1023":["FL","1","VolumeOfPTO"],"0x1024":["CS","1","AbortFlag"],"0x1025":["DT","1","RouteSegmentStartTime"],"0x1026":["DT","1","RouteSegmentEndTime"],"0x1027":["CS","1","TDRType"],"0x1028":["CS","1","InternationalRouteSegment"],"0x1029":["LO","1-n","ThreatDetectionAlgorithmandVersion"],"0x102A":["SH","1","AssignedLocation"],"0x102B":["DT","1","AlarmDecisionTime"],"0x1031":["CS","1","AlarmDecision"],"0x1033":["US","1","NumberOfTotalObjects"],"0x1034":["US","1","NumberOfAlarmObjects"],"0x1037":["SQ","1","PTORepresentationSequence"],"0x1038":["SQ","1","ATDAssessmentSequence"],"0x1039":["CS","1","TIPType"],"0x103A":["CS","1","DICOSVersion"],"0x1041":["DT","1","OOIOwnerCreationTime"],"0x1042":["CS","1","OOIType"],"0x1043":["FL","3","OOISize"],"0x1044":["CS","1","AcquisitionStatus"],"0x1045":["SQ","1","BasisMaterialsCodeSequence"],"0x1046":["CS","1","PhantomType"],"0x1047":["SQ","1","OOIOwnerSequence"],"0x1048":["CS","1","ScanType"],"0x1051":["LO","1","ItineraryID"],"0x1052":["SH","1","ItineraryIDType"],"0x1053":["LO","1","ItineraryIDAssigningAuthority"],"0x1054":["SH","1","RouteID"],"0x1055":["SH","1","RouteIDAssigningAuthority"],"0x1056":["CS","1","InboundArrivalType"],"0x1058":["SH","1","CarrierID"],"0x1059":["CS","1","CarrierIDAssigningAuthority"],"0x1060":["FL","3","SourceOrientation"],"0x1061":["FL","3","SourcePosition"],"0x1062":["FL","1","BeltHeight"],"0x1064":["SQ","1","AlgorithmRoutingCodeSequence"],"0x1067":["CS","1","TransportClassification"],"0x1068":["LT","1","OOITypeDescriptor"],"0x1069":["FL","1","TotalProcessingTime"],"0x106C":["OB","1","DetectorCalibrationData"],"0x106D":["CS","1","AdditionalScreeningPerformed"],"0x106E":["CS","1","AdditionalInspectionSelectionCriteria"],"0x106F":["SQ","1","AdditionalInspectionMethodSequence"],"0x1070":["CS","1","AITDeviceType"],"0x1071":["SQ","1","QRMeasurementsSequence"],"0x1072":["SQ","1","TargetMaterialSequence"],"0x1073":["FD","1","SNRThreshold"],"0x1075":["DS","1","ImageScaleRepresentation"],"0x1076":["SQ","1","ReferencedPTOSequence"],"0x1077":["SQ","1","ReferencedTDRInstanceSequence"],"0x1078":["ST","1","PTOLocationDescription"],"0x1079":["SQ","1","AnomalyLocatorIndicatorSequence"],"0x107A":["FL","3","AnomalyLocatorIndicator"],"0x107B":["SQ","1","PTORegionSequence"],"0x107C":["CS","1","InspectionSelectionCriteria"],"0x107D":["SQ","1","SecondaryInspectionMethodSequence"],"0x107E":["DS","6","PRCSToRCSOrientation"]},"0x4FFE":{"0x0000":["UL","1","GenericGroupLength"],"0x0001":["SQ","1","MACParametersSequence"]},"0x5000":{"0x0000":["UL","1","GenericGroupLength"],"0x0005":["US","1","CurveDimensions"],"0x0010":["US","1","NumberOfPoints"],"0x0020":["CS","1","TypeOfData"],"0x0022":["LO","1","CurveDescription"],"0x0030":["SH","1-n","AxisUnits"],"0x0040":["SH","1-n","AxisLabels"],"0x0103":["US","1","DataValueRepresentation"],"0x0104":["US","1-n","MinimumCoordinateValue"],"0x0105":["US","1-n","MaximumCoordinateValue"],"0x0106":["SH","1-n","CurveRange"],"0x0110":["US","1-n","CurveDataDescriptor"],"0x0112":["US","1-n","CoordinateStartValue"],"0x0114":["US","1-n","CoordinateStepValue"],"0x1001":["CS","1","CurveActivationLayer"],"0x2000":["US","1","AudioType"],"0x2002":["US","1","AudioSampleFormat"],"0x2004":["US","1","NumberOfChannels"],"0x2006":["UL","1","NumberOfSamples"],"0x2008":["UL","1","SampleRate"],"0x200A":["UL","1","TotalTime"],"0x200C":["ox","1","AudioSampleData"],"0x200E":["LT","1","AudioComments"],"0x2500":["LO","1","CurveLabel"],"0x2600":["SQ","1","CurveReferencedOverlaySequence"],"0x2610":["US","1","CurveReferencedOverlayGroup"],"0x3000":["ox","1","CurveData"]},"0x5200":{"0x0000":["UL","1","GenericGroupLength"],"0x9229":["SQ","1","SharedFunctionalGroupsSequence"],"0x9230":["SQ","1","PerFrameFunctionalGroupsSequence"]},"0x5400":{"0x0000":["UL","1","GenericGroupLength"],"0x0100":["SQ","1","WaveformSequence"],"0x0110":["ox","1","ChannelMinimumValue"],"0x0112":["ox","1","ChannelMaximumValue"],"0x1004":["US","1","WaveformBitsAllocated"],"0x1006":["CS","1","WaveformSampleInterpretation"],"0x100A":["ox","1","WaveformPaddingValue"],"0x1010":["ox","1","WaveformData"]},"0x5600":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0x0020":["OF","1","SpectroscopyData"]},"0x6000":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["US","1","OverlayRows"],"0x0011":["US","1","OverlayColumns"],"0x0012":["US","1","OverlayPlanes"],"0x0015":["IS","1","NumberOfFramesInOverlay"],"0x0022":["LO","1","OverlayDescription"],"0x0040":["CS","1","OverlayType"],"0x0045":["LO","1","OverlaySubtype"],"0x0050":["SS","2","OverlayOrigin"],"0x0051":["US","1","ImageFrameOrigin"],"0x0052":["US","1","OverlayPlaneOrigin"],"0x0060":["CS","1","OverlayCompressionCode"],"0x0061":["SH","1","OverlayCompressionOriginator"],"0x0062":["SH","1","OverlayCompressionLabel"],"0x0063":["CS","1","OverlayCompressionDescription"],"0x0066":["AT","1-n","OverlayCompressionStepPointers"],"0x0068":["US","1","OverlayRepeatInterval"],"0x0069":["US","1","OverlayBitsGrouped"],"0x0100":["US","1","OverlayBitsAllocated"],"0x0102":["US","1","OverlayBitPosition"],"0x0110":["CS","1","OverlayFormat"],"0x0200":["US","1","OverlayLocation"],"0x0800":["CS","1-n","OverlayCodeLabel"],"0x0802":["US","1","OverlayNumberOfTables"],"0x0803":["AT","1-n","OverlayCodeTableLocation"],"0x0804":["US","1","OverlayBitsForCodeWord"],"0x1001":["CS","1","OverlayActivationLayer"],"0x1100":["US","1","OverlayDescriptorGray"],"0x1101":["US","1","OverlayDescriptorRed"],"0x1102":["US","1","OverlayDescriptorGreen"],"0x1103":["US","1","OverlayDescriptorBlue"],"0x1200":["US","1-n","OverlaysGray"],"0x1201":["US","1-n","OverlaysRed"],"0x1202":["US","1-n","OverlaysGreen"],"0x1203":["US","1-n","OverlaysBlue"],"0x1301":["IS","1","ROIArea"],"0x1302":["DS","1","ROIMean"],"0x1303":["DS","1","ROIStandardDeviation"],"0x1500":["LO","1","OverlayLabel"],"0x3000":["ox","1","OverlayData"],"0x4000":["LT","1","OverlayComments"]},"0x7FE0":{"0x0000":["UL","1","GenericGroupLength"],"0x0008":["OF","1","FloatPixelData"],"0x0009":["OD","1","DoubleFloatPixelData"],"0x0010":["ox","1","PixelData"],"0x0020":["OW","1","CoefficientsSDVN"],"0x0030":["OW","1","CoefficientsSDHN"],"0x0040":["OW","1","CoefficientsSDDN"]},"0x7F00":{"0x0000":["UL","1","GenericGroupLength"],"0x0010":["ox","1","VariablePixelData"],"0x0011":["US","1","VariableNextDataGroup"],"0x0020":["OW","1","VariableCoefficientsSDVN"],"0x0030":["OW","1","VariableCoefficientsSDHN"],"0x0040":["OW","1","VariableCoefficientsSDDN"]},"0xFFFA":{"0x0000":["UL","1","GenericGroupLength"],"0xFFFA":["SQ","1","DigitalSignaturesSequence"]},"0xFFFC":{"0x0000":["UL","1","GenericGroupLength"],"0xFFFC":["OB","1","DataSetTrailingPadding"]},"0xFFFE":{"0x0000":["UL","1","GenericGroupLength"],"0xE000":["NONE","1","Item"],"0xE00D":["NONE","1","ItemDelimitationItem"],"0xE0DD":["NONE","1","SequenceDelimitationItem"]}},m.dicom.TagGroups={x0000:"Command",x0002:"Meta Element",x0004:"File Set",x0008:"Identifying",x0009:"SPI Identifying",x0010:"Patient",x0012:"Clinical Trial",x0018:"Acquisition",x0019:"SPI Acquisition",x0020:"Image",x0021:"SPI Image",x0022:"Ophtalmology",x0028:"Image Presentation",x0032:"Study",x0038:"Visit",x003A:"Waveform",x0040:"Procedure",x0042:"Encapsulated Document",x0050:"Device Informations",x0054:"Nuclear Medicine",x0060:"Histogram",x0070:"Presentation State",x0072:"Hanging Protocol",x0088:"Storage",x0100:"Authorization",x0400:"Digital Signature",x1000:"Code Table",x1010:"Zonal Map",x2000:"Film Session",x2010:"Film Box",x2020:"Image Box",x2030:"Annotation",x2040:"Overlay Box",x2050:"Presentation LUT",x2100:"Print Job",x2110:"Printer",x2120:"Queue",x2130:"Print Content",x2200:"Media Creation",x3002:"RT Image",x3004:"RT Dose",x3006:"RT StructureSet",x3008:"RT Treatment",x300A:"RT Plan",x300C:"RT Relationship",x300E:"RT Approval",x4000:"Text",x4008:"Results",x4FFE:"MAC Parameters",x5000:"Curve",x5002:"Curve",x5004:"Curve",x5006:"Curve",x5008:"Curve",x500A:"Curve",x500C:"Curve",x500E:"Curve",x5400:"Waveform Data",x6000:"Overlays",x6002:"Overlays",x6004:"Overlays",x6008:"Overlays",x600A:"Overlays",x600C:"Overlays",x600E:"Overlays",xFFFC:"Generic",x7FE0:"Pixel Data",xFFFF:"Unknown"},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.filter=m.gui.filter||{},m.gui.filter.base=m.gui.filter.base||{},m.gui.base.Filter=function(e){this.setup=function(t){var n=m.html.createHtmlSelect("filterSelect",t,"filter");n.onchange=e.onChangeFilter;var r=m.html.createHiddenElement("li","filterLi");r.className+=" ui-block-b",r.appendChild(n);var i=e.getElement("toolList").getElementsByTagName("ul")[0];m.html.appendElement(i,r)},this.display=function(t){var n=e.getElement("filterLi");m.html.displayElement(n,t)},this.initialise=function(){var t=e.getElement("filterSelect");t.selectedIndex=0,m.gui.refreshElement(t)}},m.gui.base.Threshold=function(e){var t=new m.gui.Slider(e);this.setup=function(){var n=m.html.createHiddenElement("li","thresholdLi");n.className+=" ui-block-c";var r=e.getElement("toolList").getElementsByTagName("ul")[0];r.appendChild(n),t.append(),m.gui.refreshElement(r)},this.display=function(n){n&&t.initialise();var r=e.getElement("thresholdLi");m.html.displayElement(r,n)},this.initialise=function(){}},m.gui.filter.base.createFilterApplyButton=function(e){var t=document.createElement("button");return t.id="runFilterButton",t.onclick=e.onRunFilter,t.setAttribute("style","width:100%; margin-top:0.5em;"),t.setAttribute("class","ui-btn ui-btn-b"),t.appendChild(document.createTextNode(m.i18n("basics.apply"))),t},m.gui.base.Sharpen=function(e){this.setup=function(){var t=m.html.createHiddenElement("li","sharpenLi");t.className+=" ui-block-c",t.appendChild(m.gui.filter.base.createFilterApplyButton(e));var n=e.getElement("toolList").getElementsByTagName("ul")[0];m.html.appendElement(n,t)},this.display=function(t){var n=e.getElement("sharpenLi");m.html.displayElement(n,t)}},m.gui.base.Sobel=function(e){this.setup=function(){var t=m.html.createHiddenElement("li","sobelLi");t.className+=" ui-block-c",t.appendChild(m.gui.filter.base.createFilterApplyButton(e));var n=e.getElement("toolList").getElementsByTagName("ul")[0];m.html.appendElement(n,t)},this.display=function(t){var n=e.getElement("sobelLi");m.html.displayElement(n,t)}},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.base.getWindowSize=function(){return{width:s.innerWidth,height:s.innerHeight-147}},m.gui.base.prompt=function(e,t){return prompt(e,t)},m.gui.base.displayProgress=function(){},m.gui.base.focusImage=function(){},m.gui.base.postProcessTable=function(){},m.gui.base.getElement=function(e,t){var n=document.getElementById(e);if(!n)return null;var r=n.getElementsByClassName(t),i=r[r.length-1];return void 0===i&&(i=document.getElementById(e+"-"+t)),i},m.gui.base.refreshElement=function(){},m.gui.setSelected=function(e,t){if(e){var n=0;for(n in e.options)if(e.options[n].value===t)break;e.selectedIndex=n,m.gui.refreshElement(e)}},m.gui.base.Slider=function(e){this.append=function(){var t=document.createElement("input");t.id="threshold-min",t.type="range",t.max=1,t.min=0,t.value=0;var n=document.createElement("input");n.id="threshold-max",n.type="range",n.max=1,n.min=0,n.value=1;var r=document.createElement("div");r.id="threshold-div",r.setAttribute("data-role","rangeslider"),r.appendChild(t),r.appendChild(n),r.setAttribute("data-mini","true"),e.getElement("thresholdLi").appendChild(r),$("#threshold-div").on("change",function(){e.onChangeMinMax({min:$("#threshold-min").val(),max:$("#threshold-max").val()})}),m.gui.refreshElement(e.getElement("toolList"))},this.initialise=function(){var t=e.getImage().getDataRange().min,n=e.getImage().getDataRange().max,r=document.getElementById("threshold-min");r.max=n,r.min=t,r.value=t;var i=document.getElementById("threshold-max");i.max=n,i.min=t,i.value=n,m.gui.refreshElement(e.getElement("toolList"))}},m.gui.base.DicomTags=function(e){this.update=function(t){var n=e.getElement("tags");if(null!==n){for(;n.hasChildNodes();)n.removeChild(n.firstChild);if(0!==t.length){var r=m.html.toTable(t);r.className="tagsTable",m.gui.postProcessTable(r),0!==r.rows.length?(m.html.translateTableRow(r.rows.item(0)),n.appendChild(m.html.getHtmlSearchForm(r)),n.appendChild(r),m.gui.refreshElement(n)):console.warn("The processed table does not contain data.")}else console.warn("No DICOM tags to show.")}else console.warn("Cannot find a node to append the DICOM tags.")}},m.gui.base.DrawList=function(e){var t=this;this.update=function(n){var r=!1;void 0!==n.editable&&(r=n.editable);var i=e.getElement("drawList");if(null!==i){for(;i.hasChildNodes();)i.removeChild(i.firstChild);var o=e.getDrawDisplayDetails();if(0!==o.length){var a=m.html.toTable(o);if(a.className="drawsTable",m.gui.postProcessTable(a),0!==a.rows.length){m.html.translateTableRow(a.rows.item(0)),m.html.translateTableColumn(a,3,"shape","name");var s=function(t){return function(){t.color=this.value,e.updateDraw(t)}},u=function(t){return function(){t.label=this.value,e.updateDraw(t)}},l=function(t){return function(){t.description=this.value,e.updateDraw(t)}},c=function(t,n){return function(){var r=e.getViewController().getCurrentPosition();r.k=t,e.getViewController().setCurrentPosition(r),e.getViewController().setCurrentFrame(n),m.gui.focusImage()}},h=function(t){return function(){e.toogleGroupVisibility(t)}};a.rows.item(0).insertCell(0).outerHTML="<th>"+m.i18n("basics.visible")+"</th>";for(var d=1;d<a.rows.length;++d){for(var f=o[d-1],p=a.rows.item(d),g=p.cells,x=0;x<g.length;++x)0===x&&(g[x].firstChild.data=g[x].firstChild.data.substring(0,5)),r?4===x?m.html.makeCellEditable(g[x],s(f),"color"):5===x?m.html.makeCellEditable(g[x],u(f)):6===x&&m.html.makeCellEditable(g[x],l(f)):(g[0].onclick=c(g[1].firstChild.data,g[2].firstChild.data),g[0].onmouseover=m.html.setCursorToPointer,g[0].onmouseout=m.html.setCursorToDefault,4===x&&m.html.makeCellEditable(g[x],null,"color"));var v=p.insertCell(0),S=document.createElement("input");S.setAttribute("type","checkbox"),S.checked=e.isGroupVisible(f),S.onclick=h(f),v.appendChild(S)}var y=document.createElement("input");y.setAttribute("type","checkbox"),y.id="checkbox-editable",y.checked=r,y.onclick=function(){t.update({editable:this.checked})};var b=document.createElement("label");b.setAttribute("for",y.id),b.setAttribute("class","inline"),b.appendChild(document.createTextNode(m.i18n("basics.editMode")));var C=document.createElement("div");C.appendChild(b),C.appendChild(y),i.appendChild(m.html.getHtmlSearchForm(a)),i.appendChild(C),i.appendChild(a);var w=document.createElement("button");w.onclick=function(){e.deleteDraws()},w.setAttribute("class","ui-btn ui-btn-inline"),w.appendChild(document.createTextNode(m.i18n("basics.deleteDraws"))),r||(w.style.display="none"),i.appendChild(w),m.gui.refreshElement(i)}else console.warn("The processed table does not contain data.")}}else console.warn("Cannot find a node to append the drawing list.")}},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.base.appendVersionHtml=function(e){var t=document.getElementsByClassName("dwv-version");if(t)for(var n=0;n<t.length;++n)t[n].appendChild(document.createTextNode(e))},m.gui.base.appendHelpHtml=function(e,t,n){var r="mouse";t&&(r="touch");for(var i=document.createElement("div"),o=null,a=Object.keys(e),s=0;s<a.length;++s){o=e[a[s]];var u=document.createElement("h3");u.appendChild(document.createTextNode(o.getHelp().title));var l=document.createElement("div"),c=document.createElement("p");if(c.appendChild(document.createTextNode(o.getHelp().brief)),l.appendChild(c),o.getHelp()[r])for(var h=Object.keys(o.getHelp()[r]),d=0;d<h.length;++d){var f=o.getHelp()[r][h[d]],p=document.createElement("img");p.src=n.getHelpResourcesPath()+"/"+h[d]+".png",p.style.float="left",p.style.margin="0px 15px 15px 0px";var g=document.createElement("br");g.style.clear="both";var x=document.createElement("p");x.appendChild(p),x.appendChild(document.createTextNode(f)),x.appendChild(g),l.appendChild(x)}if(t){var v=document.createElement("div");v.setAttribute("data-role","collapsible"),v.appendChild(u),v.appendChild(l),i.appendChild(v)}else i.id="accordion",i.appendChild(u),i.appendChild(l)}var S=n.getElement("help"),y=document.createElement("p");y.appendChild(document.createTextNode(m.i18n("help.intro.p0"))),S.appendChild(y);var b=document.createElement("p");b.appendChild(document.createTextNode(m.i18n("help.intro.p1"))),S.appendChild(b);var C=document.createElement("p");C.appendChild(document.createTextNode(m.i18n("help.tool_intro"))),S.appendChild(C),S.appendChild(i)},(m=m||{}).html=m.html||{},m.html.appendCell=function(e,t){var n=e.insertCell(-1),r=t;(t instanceof Array||t instanceof Uint8Array||t instanceof Int8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Uint32Array)&&(10<t.length&&((t=Array.prototype.slice.call(t,0,10))[10]="..."),r=Array.prototype.join.call(t,", ")),n.appendChild(document.createTextNode(r))},m.html.appendHCell=function(e,t){var n=document.createElement("th");n.appendChild(document.createTextNode(t)),e.appendChild(n)},m.html.appendRowForArray=function(e,t,n,r,i){for(var o=null,a=0;a<t.length;++a){var s=t[a];"number"==typeof s||"string"==typeof s||null==s||r<=n?(o||(o=e.insertRow(-1)),m.html.appendCell(o,s)):m.html.appendRow(e,s,n+a,r,i)}},m.html.appendRowForObject=function(e,t,n,r,i){for(var o=Object.keys(t),a=null,s=0;s<o.length;++s){var u=t[o[s]];"number"==typeof u||"string"==typeof u||null==u||r<=n?(a||(a=e.insertRow(-1)),0===s&&i&&m.html.appendCell(a,i),m.html.appendCell(a,u)):m.html.appendRow(e,u,n+s,r,o[s])}if(2===n){var l=e.createTHead().insertRow(-1);i&&m.html.appendHCell(l,"");for(var c=0;c<o.length;++c)m.html.appendHCell(l,o[c])}},m.html.appendRow=function(e,t,n,r,i){if(t instanceof Array)m.html.appendRowForArray(e,t,n+1,r,i);else{if("object"!=typeof t)throw new Error("Unsupported input data type.");m.html.appendRowForObject(e,t,n+1,r,i)}},m.html.toTable=function(e){if(0===e.length)return null;var t=document.createElement("table");return m.html.appendRow(t,e,0,2),t},m.html.getHtmlSearchForm=function(e){var t=document.createElement("input");t.id="table-search",t.onkeyup=function(){m.html.filterTable(t,e)};var n=document.createElement("label");n.setAttribute("for",t.id),n.appendChild(document.createTextNode(m.i18n("basics.search")+": "));var r=document.createElement("form");return r.setAttribute("class","filter"),r.onsubmit=function(e){e.preventDefault()},r.appendChild(n),r.appendChild(t),r},m.html.filterTable=function(e,t){m.html.dehighlight(t);for(var n=e.value.toLowerCase().split(" "),r=0,i=1;i<t.rows.length;++i){r="";for(var o=0;o<n.length;++o)t.rows[i].innerHTML.replace(/<[^>]+>/g,"").toLowerCase().indexOf(n[o])<0?r="none":n[o].length&&m.html.highlight(n[o],t.rows[i]),t.rows[i].style.display=r}},m.html.dehighlight=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(n.attributes&&n.attributes.class&&"highlighted"===n.attributes.class.value)return void n.parentNode.parentNode.replaceChild(document.createTextNode(n.parentNode.innerHTML.replace(/<[^>]+>/g,"")),n.parentNode);3!==n.nodeType&&m.html.dehighlight(n)}},m.html.highlight=function(e,t){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(3===r.nodeType){var i=r.data,o=i.toLowerCase();if(0<=o.indexOf(e)){var a,s=document.createElement("span");for(r.parentNode.replaceChild(s,r);-1!==(a=o.indexOf(e));)s.appendChild(document.createTextNode(i.substr(0,a))),s.appendChild(m.html.createHighlightNode(document.createTextNode(i.substr(a,e.length)))),i=i.substr(a+e.length),o=o.substr(a+e.length);s.appendChild(document.createTextNode(i))}}else m.html.highlight(e,r)}},m.html.createHighlightNode=function(e){var t=document.createElement("span");return t.setAttribute("class","highlighted"),t.attributes.class.value="highlighted",t.appendChild(e),t},m.html.cleanNode=function(e){if(e)for(;e.hasChildNodes();)e.removeChild(e.firstChild)},m.html.removeNode=function(e){e&&(m.html.cleanNode(e),e.parentNode.removeChild(e))},m.html.removeNodes=function(e){for(var t=0;t<e.length;++t)m.html.removeNode(e[t])},m.html.translateTableRow=function(e,t){var n=void 0===t?"basics":t;0!==n.length&&(n+=".");for(var r=e.cells,i=0;i<r.length;++i)r[i].firstChild.data=m.i18n(n+r[i].firstChild.data)},m.html.translateTableColumn=function(e,t,n,r){var i=void 0===n?"basics":n;0!==i.length&&(i+=".");var o=void 0===r?"":r;if(0!==o.length&&(o="."+o),0!==e.rows.length)for(var a=1;a<e.rows.length;++a){var s=e.rows.item(a).cells;s.length>=t&&(s[t].firstChild.data=m.i18n(i+s[t].firstChild.data+o))}},m.html.makeCellEditable=function(e,t,n){if(void 0!==e){var r=document.createElement("input");t?r.onchange=t:r.disabled=!0,r.value=e.firstChild.data,r.type=void 0===n||"color"===n&&!m.browser.hasInputColor()?"text":n,m.html.cleanNode(e);var i=document.createElement("form");i.onsubmit=function(e){e.preventDefault()},i.appendChild(r),e.appendChild(i)}else console.warn("Cannot create input for non existing cell.")},m.html.setCursorToPointer=function(){document.body.style.cursor="pointer"},m.html.setCursorToDefault=function(){document.body.style.cursor="default"},m.html.createHtmlSelect=function(e,t,n,r){var i=document.createElement("select");i.className=e;var o,a=void 0===n?"":n+".",s=void 0!==r,u=function(e){var t=a+e+".name";return s?m.i18nExists(t)?m.i18n(t):e:m.i18n(t)};if(t instanceof Array)for(var l in t)t.hasOwnProperty(l)&&((o=document.createElement("option")).value=t[l],o.appendChild(document.createTextNode(u(t[l]))),i.appendChild(o));else{if("object"!=typeof t)throw new Error("Unsupported input list type.");for(var c in t)(o=document.createElement("option")).value=c,o.appendChild(document.createTextNode(u(c))),i.appendChild(o)}return i},m.html.displayElement=function(e,t){e.style.display=t?"":"none"},m.html.toggleDisplay=function(e){e.style.display="none"===e.style.display?"":"none"},m.html.appendElement=function(e,t){e.appendChild(t),m.gui.refreshElement(e)},m.html.createHiddenElement=function(e,t){var n=document.createElement(e);return n.className=t,n.style.display="none",n},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.info=m.gui.info||{},m.gui.base.plot=function(){},m.gui.info.MiniColourMap=function(e,t){this.create=function(){var t=e.getElementsByClassName("colour-map-info");0!==t.length&&m.html.removeNodes(t);var n=document.createElement("canvas");n.className="colour-map-info",n.width=98,n.height=10,e.appendChild(n)},this.update=function(n){for(var r,i=n.wc,o=n.ww,a=e.getElementsByClassName("colour-map-info")[0],s=a.getContext("2d"),u=t.getViewController().getColourMap(),l=s.getImageData(0,0,a.width,a.height),c=0,h=t.getImage().getRescaledDataRange().min,d=(t.getImage().getRescaledDataRange().max-h)/a.width,f=0,p=i-.5-(o-1)/2,g=i-.5+(o-1)/2,m=0;m<a.height;++m){c=h;for(var x=0;x<a.width;++x)c<=p?f=0:g<c?f=255:(f=255*((c-(i-.5))/(o-1)+.5)+0,f=parseInt(f,10)),l.data[r=4*(x+m*a.width)]=u.red[f],l.data[r+1]=u.green[f],l.data[r+2]=u.blue[f],l.data[r+3]=255,c+=d}s.putImageData(l,0,0)}},m.gui.info.Plot=function(e,t){this.create=function(){e&&m.html.cleanNode(e),m.gui.plot(e,t.getImage().getHistogram())},this.update=function(n){var r=n.wc,i=parseInt((n.ww-1)/2,10),o=parseInt(r-.5,10),a=o-i,s=o+i,u=[{color:"#faa",lineWidth:1,xaxis:{from:a,to:a}},{color:"#aaf",lineWidth:1,xaxis:{from:s,to:s}}];m.gui.plot(e,t.getImage().getHistogram(),{markings:u})}},m.gui.info.Overlay=function(e,t,n){var r=this;this.getOverlays=function(){var e=n.getImage();if(e){var r=e.getOverlays();if(r){var i=r[n.getViewController().getCurrentPosition().k];if(i)return i[t]}}},this.create=function(){m.html.cleanNode(e);var n=r.getOverlays();if(n)if("bc"===t||"tc"===t||"cr"===t||"cl"===t)e.textContent=n[0].value;else{for(var i=document.createElement("ul"),o=0;n[o];o++){var a;"window-center"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-window-center":"window-width"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-window-width":"zoom"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-zoom":"offset"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-offset":"value"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-value":"position"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-position":"frame"===n[o].value?(a=document.createElement("li")).className="info-"+t+"-frame":((a=document.createElement("li")).className="info-"+t+"-"+o,a.appendChild(document.createTextNode(n[o].value))),i.appendChild(a)}e.appendChild(i)}},this.update=function(n){var i,o,a=r.getOverlays();if(a)if("bc"===t||"tc"===t||"cr"===t||"cl"===t)e.textContent=a[0].value;else for(o=0;a[o];o++)if("window-center"===a[o].value){if("wl-center-change"===n.type){i=e.getElementsByClassName("info-"+t+"-window-center")[0],m.html.cleanNode(i);var s=m.utils.replaceFlags2(a[o].format,[Math.round(n.wc)]);i&&i.appendChild(document.createTextNode(s))}}else if("window-width"===a[o].value){if("wl-width-change"===n.type){i=e.getElementsByClassName("info-"+t+"-window-width")[0],m.html.cleanNode(i);var u=m.utils.replaceFlags2(a[o].format,[Math.round(n.ww)]);i&&i.appendChild(document.createTextNode(u))}}else if("zoom"===a[o].value){if("zoom-change"===n.type){i=e.getElementsByClassName("info-"+t+"-zoom")[0],m.html.cleanNode(i);var l=Number(n.scale).toPrecision(3),c=m.utils.replaceFlags2(a[o].format,[l]);i&&i.appendChild(document.createTextNode(c))}}else if("offset"===a[o].value){if("zoom-change"===n.type){i=e.getElementsByClassName("info-"+t+"-offset")[0],m.html.cleanNode(i);var h=[Number(n.cx).toPrecision(3),Number(n.cy).toPrecision(3)],d=m.utils.replaceFlags2(a[o].format,h);i&&i.appendChild(document.createTextNode(d))}}else if("value"===a[o].value){if("position-change"===n.type){i=e.getElementsByClassName("info-"+t+"-value")[0],m.html.cleanNode(i);var f=m.utils.replaceFlags2(a[o].format,[n.value]);i&&i.appendChild(document.createTextNode(f))}}else if("position"===a[o].value){if("position-change"===n.type){i=e.getElementsByClassName("info-"+t+"-position")[0],m.html.cleanNode(i);var p=m.utils.replaceFlags2(a[o].format,[n.i,n.j,n.k]);i&&i.appendChild(document.createTextNode(p))}}else if("frame"===a[o].value){if("frame-change"===n.type){i=e.getElementsByClassName("info-"+t+"-frame")[0],m.html.cleanNode(i);var g=m.utils.replaceFlags2(a[o].format,[n.frame]);i&&i.appendChild(document.createTextNode(g))}}else"position-change"===n.type&&(i=e.getElementsByClassName("info-"+t+"-"+o)[0],m.html.cleanNode(i),i&&i.appendChild(document.createTextNode(a[o].value)))}},m.gui.info.createOverlays=function(e){var t={},n=e.getFromKey("x00080060");if(!n)return t;var r=m.gui.info.overlayMaps;if(!r)return t;for(var i=r[n]||r["*"],o=0;i[o];o++){var a=i[o].value,s=i[o].tags,u=i[o].format,l=i[o].pos;if(void 0!==s&&0!==s.length){for(var c=[],h=0;h<s.length;++h)c.push(e.getElementValueAsStringFromKey(s[h]));null==u&&(u=m.utils.createDefaultReplaceFormat(c)),a=m.utils.replaceFlags2(u,c)}a&&0!==a.length&&(t[l]||(t[l]=[]),t[l].push({value:a.trim(),format:u}))}var d=e.getFromKey("x00200020");if(null!=d&&2==d.length){var f=m.dicom.cleanString(d[0]),p=m.dicom.cleanString(d[1]);t.cr=[{value:f}],t.cl=[{value:m.dicom.getReverseOrientation(f)}],t.bc=[{value:p}],t.tc=[{value:m.dicom.getReverseOrientation(p)}]}return t},m.gui.info.createOverlaysForDom=function(e){var t={},n=m.gui.info.overlayMaps;if(!n)return t;var r=n.DOM;if(!r)return t;for(var i=0;r[i];i++){var o=r[i].value,a=r[i].tags,s=r[i].format,u=r[i].pos;if(void 0!==a&&0!==a.length){for(var l=[],c=0;c<a.length;++c)for(var h=0;h<e.length;++h)a[c]===e[h].name&&l.push(e[h].value);null==s&&(s=m.utils.createDefaultReplaceFormat(l)),o=m.utils.replaceFlags2(s,l)}o&&0!==o.length&&(t[u]||(t[u]=[]),t[u].push({value:o.trim(),format:s}))}return t},(m=m||{}).html=m.html||{},m.html.Layer=function(e){var t=null,n=null;this.getCanvas=function(){return e},this.getContext=function(){return n},this.getOffset=function(){return e.offset()};var r=null,i={x:0,y:0};this.getOrigin=function(){return i};var o={x:1,y:1};this.getZoom=function(){return o};var a={x:0,y:0};this.getTrans=function(){return a},this.setWidth=function(t){e.width=t},this.setHeight=function(t){e.height=t},this.zoom=function(e,t,n,r){i.x=n-e/o.x*(n-i.x),i.y=r-t/o.y*(r-i.y),o.x=e,o.y=t},this.translate=function(e,t){a.x=e,a.y=t},this.setImageData=function(e){r=e,t.getContext("2d").putImageData(r,0,0)},this.resetLayout=function(e){i.x=0,i.y=0,o.x=e,o.y=e,a.x=0,a.y=0},this.displayToIndex=function(e){return{x:(e.x-i.x)/o.x-a.x,y:(e.y-i.y)/o.y-a.y}},this.draw=function(){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),n.restore(),n.setTransform(o.x,0,0,o.y,i.x+a.x*o.x,i.y+a.y*o.y),n.drawImage(t,0,0)},this.initialise=function(i,o){e.getContext?(n=e.getContext("2d"))?(e.width=i,e.height=o,n.clearRect(0,0,e.width,e.height),r=n.getImageData(0,0,e.width,e.height),(t=document.createElement("canvas")).width=i,t.height=o):alert("Error: failed to get the 2D context."):alert("Error: no canvas.getContext method.")},this.fillContext=function(){n.fillRect(0,0,e.width,e.height)},this.clear=function(){n.clearRect(0,0,e.width,e.height),r=n.getImageData(0,0,e.width,e.height),this.resetLayout()},this.merge=function(t){for(var n=t.getContext().getImageData(0,0,e.width,e.height),a=0,s=0,u=0,l=0,c=0,h=0;h<e.height;++h){s=parseInt(i.y+h*o.y,10)*e.width,l=h*e.width;for(var d=0;d<e.width;++d)a=4*(parseInt(i.x+d*o.x,10)+s),u=4*(d+l),0!==(c=n.data[a+3])&&(r.data[u]=n.data[a],r.data[u+1]=n.data[a+1],r.data[u+2]=n.data[a+2],r.data[u+3]=c)}t.clear(),this.draw()},this.setLineColour=function(e){n.fillStyle=e,n.strokeStyle=e},this.setStyleDisplay=function(t){e.style.display=!0===t?"":"none"},this.isVisible=function(){return"none"!==e.style.display},this.align=function(t){e.style.top=t.getCanvas().offsetTop,e.style.left=t.getCanvas().offsetLeft}},m.html.getEventOffset=function(e){var t=[],n=0;if(e.targetTouches){for(var r=0,i=0,o=e.targetTouches[0].target.offsetParent;o;)isNaN(o.offsetLeft)||(r+=o.offsetLeft),isNaN(o.offsetTop)||(i+=o.offsetTop),o=o.offsetParent;for(var a=null,s=0;s<e.targetTouches.length;++s)n=(a=e.targetTouches[s]).pageX-r,t.push({x:n,y:a.pageY-i})}else t.push({x:n=void 0===e.offsetX?e.layerX:e.offsetX,y:void 0===e.offsetY?e.layerY:e.offsetY});return t},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.base.Loadbox=function(e,t){var n=null;this.setup=function(){(n=m.html.createHtmlSelect("loaderSelect",t,"io")).onchange=e.onChangeLoader;for(var r=e.getElement("loaderlist");r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(n),m.gui.refreshElement(r)},this.displayLoader=function(e){for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]].display(n[r]===e)},this.reset=function(){var e=Object.keys(t);this.displayLoader(e[0]),n&&(n.selectedIndex=0)}},m.gui.base.FileLoad=function(e){var t=this;function n(n){"function"==typeof t.onchange&&t.onchange(n),e.onChangeFiles(n)}this.setup=function(){var t=document.createElement("input");t.onchange=n,t.type="file",t.multiple=!0,t.className="imagefiles",t.setAttribute("data-clear-btn","true"),t.setAttribute("data-mini","true");var r=document.createElement("div");r.className="imagefilesdiv",r.style.display="none",r.appendChild(t);var i=e.getElement("loaderlist");i.appendChild(r),m.gui.refreshElement(i)},this.display=function(t){e.getElement("loaderlist").getElementsByClassName("imagefilesdiv")[0].style.display=t?"":"none"}},m.gui.base.FolderLoad=function(e){var t=this;function n(n){"function"==typeof t.onchange&&t.onchange(n),e.onChangeFiles(n)}this.setup=function(){var t=document.createElement("input");t.onchange=n,t.type="file",t.multiple=!0,t.webkitdirectory=!0,t.className="imagefolder",t.setAttribute("data-clear-btn","true"),t.setAttribute("data-mini","true");var r=document.createElement("div");r.className="imagefolderdiv",r.style.display="none",r.appendChild(t);var i=e.getElement("loaderlist");i.appendChild(r),m.gui.refreshElement(i)},this.display=function(t){e.getElement("loaderlist").getElementsByClassName("imagefolderdiv")[0].style.display=t?"":"none"}},m.gui.base.UrlLoad=function(e){var t=this;function n(n){"function"==typeof t.onchange&&t.onchange(n),e.onChangeURL(n)}this.setup=function(){var t=document.createElement("input");t.onchange=n,t.type="url",t.className="imageurl",t.setAttribute("data-clear-btn","true"),t.setAttribute("data-mini","true");var r=document.createElement("div");r.className="imageurldiv",r.style.display="none",r.appendChild(t);var i=e.getElement("loaderlist");i.appendChild(r),m.gui.refreshElement(i)},this.display=function(t){e.getElement("loaderlist").getElementsByClassName("imageurldiv")[0].style.display=t?"":"none"}},(m=m||{}).html=m.html||{},m.html.Style=function(){var e="#ffff80",t=1;this.getFontFamily=function(){return"Verdana"},this.getFontSize=function(){return 12},this.getStrokeWidth=function(){return 2},this.getTextColour=function(){return"#fff"},this.getLineColour=function(){return e},this.setLineColour=function(t){e=t},this.setScale=function(e){t=e},this.scale=function(e){return e/t}},m.html.Style.prototype.getFontStr=function(){return"normal "+this.getFontSize()+"px sans-serif"},m.html.Style.prototype.getLineHeight=function(){return this.getFontSize()+this.getFontSize()/5},m.html.Style.prototype.getScaledFontSize=function(){return this.scale(this.getFontSize())},m.html.Style.prototype.getScaledStrokeWidth=function(){return this.scale(this.getStrokeWidth())},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.base.Toolbox=function(e){this.setup=function(t){var n=m.html.createHtmlSelect("toolSelect",t,"tool");n.onchange=e.onChangeTool;var r=document.createElement("li");r.className="toolLi ui-block-a",r.style.display="none",r.appendChild(n);var i=document.createElement("ul");i.appendChild(r),i.className="ui-grid-b";var o=e.getElement("toolList");o.appendChild(i),m.gui.refreshElement(o)},this.display=function(t){var n=e.getElement("toolLi");m.html.displayElement(n,t)},this.initialise=function(t){for(var n=e.getElement("toolSelect"),r=n.options,i=-1,o=0;o<r.length;++o)t[o]?(-1===i&&(i=o),r[o].style.display=""):r[o].style.display="none";n.selectedIndex=i,m.gui.refreshElement(n)}},m.gui.base.WindowLevel=function(e){this.setup=function(){var t=m.html.createHtmlSelect("presetSelect",[]);t.onchange=e.onChangeWindowLevelPreset;var n=m.html.createHtmlSelect("colourMapSelect",m.tool.colourMaps,"colourmap");n.onchange=e.onChangeColourMap;var r=document.createElement("li");r.className="wlLi ui-block-b",r.style.display="none",r.appendChild(t);var i=document.createElement("li");i.className="cmLi ui-block-c",i.style.display="none",i.appendChild(n);var o=e.getElement("toolList").getElementsByTagName("ul")[0];o.appendChild(r),o.appendChild(i),m.gui.refreshElement(o)},this.display=function(t){var n=e.getElement("wlLi");m.html.displayElement(n,t),n=e.getElement("cmLi"),m.html.displayElement(n,t)},this.initialise=function(){var t=m.html.createHtmlSelect("presetSelect",e.getViewController().getWindowLevelPresetsNames(),"wl.presets",!0);t.onchange=e.onChangeWindowLevelPreset,t.title="Select w/l preset.";var n=e.getElement("wlLi");m.html.cleanNode(n),n.appendChild(t),m.gui.refreshElement(n);var r=e.getElement("colourMapSelect");r.selectedIndex=0,"MONOCHROME1"===e.getImage().getPhotometricInterpretation()&&(r.selectedIndex=1),m.gui.refreshElement(r)}},m.gui.base.Draw=function(e){var t=["Yellow","Red","White","Green","Blue","Lime","Fuchsia","Black"];this.getDefaultColour=function(){return m.browser.hasInputColor()?"#FFFF80":t[0]},this.setup=function(n){var r=m.html.createHtmlSelect("shapeSelect",n,"shape");r.onchange=e.onChangeShape;var i=null;m.browser.hasInputColor()?((i=document.createElement("input")).className="colourSelect",i.type="color",i.value="#FFFF80"):i=m.html.createHtmlSelect("colourSelect",t,"colour"),i.onchange=e.onChangeLineColour;var o=document.createElement("li");o.className="shapeLi ui-block-c",o.style.display="none",o.appendChild(r);var a=document.createElement("li");a.className="colourLi ui-block-b",a.style.display="none",a.appendChild(i);var s=e.getElement("toolList").getElementsByTagName("ul")[0];s.appendChild(o),s.appendChild(a),m.gui.refreshElement(s)},this.display=function(t){var n=e.getElement("colourLi");m.html.displayElement(n,t),n=e.getElement("shapeLi"),m.html.displayElement(n,t)},this.initialise=function(){var t=e.getElement("shapeSelect");t.selectedIndex=0,m.gui.refreshElement(t);var n=e.getElement("colourSelect");m.browser.hasInputColor()||(n.selectedIndex=0),m.gui.refreshElement(n)}},m.gui.base.ColourTool=function(e,t){var n=["Yellow","Red","White","Green","Blue","Lime","Fuchsia","Black"],r=t+"ColourSelect",i=t+"ColourLi";this.getDefaultColour=function(){return m.browser.hasInputColor()?"#FFFF80":n[0]},this.setup=function(){var t=null;m.browser.hasInputColor()?((t=document.createElement("input")).className=r,t.type="color",t.value="#FFFF80"):t=m.html.createHtmlSelect(r,n,"colour"),t.onchange=e.onChangeLineColour;var o=document.createElement("li");o.className=i+" ui-block-b",o.style.display="none",o.appendChild(t);var a=e.getElement("toolList").getElementsByTagName("ul")[0];a.appendChild(o),m.gui.refreshElement(a)},this.display=function(t){var n=e.getElement(i);m.html.displayElement(n,t)},this.initialise=function(){var t=e.getElement(r);m.browser.hasInputColor()||(t.selectedIndex=0),m.gui.refreshElement(t)}},m.gui.base.ZoomAndPan=function(e){this.setup=function(){var t=document.createElement("button");t.className="zoomResetButton",t.name="zoomResetButton",t.onclick=e.onZoomReset,t.setAttribute("style","width:100%; margin-top:0.5em;"),t.setAttribute("class","ui-btn ui-btn-b");var n=document.createTextNode(m.i18n("basics.reset"));t.appendChild(n);var r=document.createElement("li");r.className="zoomLi ui-block-c",r.style.display="none",r.appendChild(t);var i=e.getElement("toolList").getElementsByTagName("ul")[0];i.appendChild(r),m.gui.refreshElement(i)},this.display=function(t){var n=e.getElement("zoomLi");m.html.displayElement(n,t)}},m.gui.base.Scroll=function(e){this.setup=function(){var t=document.createElement("li");t.className="scrollLi ui-block-c",t.style.display="none";var n=e.getElement("toolList").getElementsByTagName("ul")[0];n.appendChild(t),m.gui.refreshElement(n)},this.display=function(t){var n=e.getElement("scrollLi");m.html.displayElement(n,t)}},(m=m||{}).gui=m.gui||{},m.gui.base=m.gui.base||{},m.gui.base.Undo=function(e){this.setup=function(){var t=document.createElement("p");t.appendChild(document.createTextNode("History:")),t.appendChild(document.createElement("br"));var n=document.createElement("select");n.className="history_list",n.name="history_list",n.multiple="multiple",t.appendChild(n);for(var r=e.getElement("history");r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(t),m.gui.refreshElement(r)},this.initialise=function(){var t=e.getElement("history_list");if(t&&0!==t.length)for(var n=t.length-1;0<=n;--n)t.remove(n);m.gui.refreshElement(t)},this.addCommandToUndoHtml=function(t){var n=e.getElement("history_list"),r=n.length-(n.selectedIndex+1);if(0<r)for(var i=0;i<r;++i)n.remove(n.length-1);var o=document.createElement("option");o.text=t,o.value=t,n.add(o),n.selectedIndex++,m.gui.refreshElement(n)},this.enableInUndoHtml=function(t){var n=e.getElement("history_list");t?(n.selectedIndex++,n.options[n.selectedIndex].disabled=!1):(n.options[n.selectedIndex].disabled=!0,n.selectedIndex--),m.gui.refreshElement(n)}},(m=m||{}).image=m.image||{};var u=void 0!==l,l=l||{},c=void 0!==h&&void 0!==h.lossless,h=h||{};h.lossless=h.lossless||{};var d=void 0!==f,f=f||{};m.image.AsynchPixelBufferDecoder=function(e){var t=new m.utils.ThreadPool(15);t.init(),this.decode=function(n,r,i,o){t.onpoolworkend=this.ondecodeend,t.onworkerend=this.ondecoded;var a=new m.utils.WorkerTask(e,o,{buffer:n,bitsAllocated:r,isSigned:i});t.addWorkerTask(a)},this.abort=function(){t.abort()}},m.image.AsynchPixelBufferDecoder.prototype.ondecodeend=function(){},m.image.AsynchPixelBufferDecoder.prototype.ondecoded=function(){},m.image.SynchPixelBufferDecoder=function(e){this.decode=function(t,n,r,i){var o=null,a=null;if("jpeg-lossless"===e){if(!c)throw new Error("No JPEG Lossless decoder provided");var s=n/8,p=new Uint8Array(t),g=(o=new h.lossless.Decoder).decode(p.buffer,0,p.buffer.byteLength,s);8===n?a=r?new Int8Array(g.buffer):new Uint8Array(g.buffer):16===n&&(a=r?new Int16Array(g.buffer):new Uint16Array(g.buffer))}else if("jpeg-baseline"===e){if(!u)throw new Error("No JPEG Baseline decoder provided");(o=new l).parse(t),a=o.getData(o.width,o.height)}else if("jpeg2000"===e){if(!d)throw new Error("No JPEG 2000 decoder provided");(o=new f).parse(t),a=o.tiles[0].items}this.ondecoded(),this.ondecodeend(),i({data:[a]})},this.abort=function(){}},m.image.SynchPixelBufferDecoder.prototype.ondecodeend=function(){},m.image.SynchPixelBufferDecoder.prototype.ondecoded=function(){},m.image.PixelBufferDecoder=function(e){var t=null;t=void 0!==m.image.decoderScripts&&void 0!==m.image.decoderScripts[e]?new m.image.AsynchPixelBufferDecoder(m.image.decoderScripts[e]):new m.image.SynchPixelBufferDecoder(e),this.decode=function(e,n,r,i){t.ondecodeend=this.ondecodeend,t.ondecoded=this.ondecoded,t.decode(e,n,r,i)},this.abort=function(){t.abort()}},m.image.PixelBufferDecoder.prototype.ondecodeend=function(){},m.image.PixelBufferDecoder.prototype.ondecoded=function(){},(m=m||{}).image=m.image||{},m.image.DicomBufferToView=function(){var e,t=this;this.setDefaultCharacterSet=function(t){e=t};var n=null;this.convert=function(r,i){var o=new m.dicom.DicomParser;o.setDefaultCharacterSet(e),o.parse(r);var a=o.getRawDicomElements().x7FE00010.value,s=m.dicom.cleanString(o.getRawDicomElements().x00020010.value[0]),u=m.dicom.getSyntaxDecompressionName(s),l=function(){var e=(new m.image.ImageFactory).create(o.getDicomElements(),a),n=(new m.image.ViewFactory).create(o.getDicomElements(),e);t.onload({view:n,info:o.getDicomElements().dumpToTable()})};if(null!==u){var c=o.getRawDicomElements().x00280100.value[0],h=1===o.getRawDicomElements().x00280103.value[0],d=a.length;n||(n=new m.image.PixelBufferDecoder(u)),n.ondecodeend=function(){t.onloadend()},1===d&&(n.ondecoded=function(){t.onloadend()});var f=0,p=function(e){return function(n){var r={type:"load-progress",lengthComputable:!0,loaded:100*++f/d,total:100};void 0!==i&&(r.index=i),t.onprogress(r),a[e]=n.data[0],0===e&&l()}};if(n.decode(a[0],c,h,p(0),!1),1!==d)for(var g=1;g<d;++g)n.decode(a[g],c,h,p(g))}else{var x={type:"load-progress",lengthComputable:!0,loaded:100,total:100};void 0!==i&&(x.index=i),t.onprogress(x),l(),t.onloadend()}},this.abort=function(){n&&n.abort()}},m.image.DicomBufferToView.prototype.onloadend=function(){},m.image.DicomBufferToView.prototype.onload=function(){},m.image.DicomBufferToView.prototype.onprogress=function(){},(m=m||{}).image=m.image||{},m.image.imageDataToBuffer=function(e){for(var t=e.data.length,n=new Uint8Array(t/4*3),r=0,i=0;i<t;i+=4)n[r]=e.data[i],n[r+1]=e.data[i+1],n[r+2]=e.data[i+2],r+=3;return n},m.image.getDefaultView=function(e,t,n,r,i,o){var a=new m.image.Size(e,t),s=new m.image.Spacing(1,1),u=new m.math.Point3D(0,0,n),l=new m.image.Geometry(u,a,s),c=new m.image.Image(l,r,i);c.setPhotometricInterpretation("RGB"),c.setMeta({BitsStored:8}),c.setFirstOverlay(m.gui.info.createOverlaysForDom(o));var h=new m.image.View(c);return h.setWindowLevelMinMax(),h},m.image.getViewFromDOMImage=function(e){var t=e.width,n=e.height,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0);var o=i.getImageData(0,0,t,n),a=[];"string"==typeof e.origin?a.push({name:"origin",value:e.origin}):(a.push({name:"fileName",value:e.origin.name}),a.push({name:"fileType",value:e.origin.type}),a.push({name:"fileLastModifiedDate",value:e.origin.lastModifiedDate})),a.push({name:"imageWidth",value:t}),a.push({name:"imageHeight",value:n});var s=e.index?e.index:0,u=m.image.imageDataToBuffer(o);return{view:m.image.getDefaultView(t,n,s,[u],1,a),info:a}},m.image.getViewFromDOMVideo=function(e,t,n,r,i){var o=e.videoWidth,a=e.videoHeight,s=Math.floor(30*e.duration),u=[];e.file&&(u.push({name:"fileName",value:e.file.name}),u.push({name:"fileType",value:e.file.type}),u.push({name:"fileLastModifiedDate",value:e.file.lastModifiedDate})),u.push({name:"imageWidth",value:o}),u.push({name:"imageHeight",value:a}),u.push({name:"numberOfFrames",value:s});var l=document.createElement("canvas");l.width=o,l.height=a;var c=l.getContext("2d");e.addEventListener("seeked",function l(){!function(){var r={type:"load-progress",lengthComputable:!0,loaded:h,total:s};void 0!==i&&(r.index=i),n(r),c.drawImage(e,0,0);var l=m.image.imageDataToBuffer(c.getImageData(0,0,o,a));0===h?(d=m.image.getDefaultView(o,a,1,[l],s,u),t({view:d,info:u})):d.appendFrameBuffer(l)}();var f=++h/30;f<=this.duration?this.currentTime=f:(r(),e.removeEventListener("seeked",l))},!1);var h=0,d=null;e.currentTime=0},(m=m||{}).image=m.image||{},m.image.filter=m.image.filter||{},m.image.filter.Threshold=function(){var e=0,t=0;this.getMin=function(){return e},this.setMin=function(t){e=t},this.getMax=function(){return t},this.setMax=function(e){t=e},this.getName=function(){return"Threshold"};var n=null;this.setOriginalImage=function(e){n=e},this.getOriginalImage=function(){return n}},m.image.filter.Threshold.prototype.update=function(){var e=this.getOriginalImage(),t=e.getDataRange().min,n=this;return e.transform(function(e){return e<n.getMin()||e>n.getMax()?t:e})},m.image.filter.Sharpen=function(){this.getName=function(){return"Sharpen"};var e=null;this.setOriginalImage=function(t){e=t},this.getOriginalImage=function(){return e}},m.image.filter.Sharpen.prototype.update=function(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])},m.image.filter.Sobel=function(){this.getName=function(){return"Sobel"};var e=null;this.setOriginalImage=function(t){e=t},this.getOriginalImage=function(){return e}},m.image.filter.Sobel.prototype.update=function(){var e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),n=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(n,function(e,t){return Math.sqrt(e*e+t*t)})},(m=m||{}).image=m.image||{},m.image.Size=function(e,t,n){this.getNumberOfColumns=function(){return e},this.getNumberOfRows=function(){return t},this.getNumberOfSlices=function(){return n||1}},m.image.Size.prototype.getSliceSize=function(){return this.getNumberOfColumns()*this.getNumberOfRows()},m.image.Size.prototype.getTotalSize=function(){return this.getSliceSize()*this.getNumberOfSlices()},m.image.Size.prototype.equals=function(e){return null!==e&&this.getNumberOfColumns()===e.getNumberOfColumns()&&this.getNumberOfRows()===e.getNumberOfRows()&&this.getNumberOfSlices()===e.getNumberOfSlices()},m.image.Size.prototype.isInBounds=function(e,t,n){return!(e<0||e>this.getNumberOfColumns()-1||t<0||t>this.getNumberOfRows()-1||n<0||n>this.getNumberOfSlices()-1)},m.image.Size.prototype.toString=function(){return"("+this.getNumberOfColumns()+", "+this.getNumberOfRows()+", "+this.getNumberOfSlices()+")"},m.image.Spacing=function(e,t,n){this.getColumnSpacing=function(){return e},this.getRowSpacing=function(){return t},this.getSliceSpacing=function(){return n||1}},m.image.Spacing.prototype.equals=function(e){return null!==e&&this.getColumnSpacing()===e.getColumnSpacing()&&this.getRowSpacing()===e.getRowSpacing()&&this.getSliceSpacing()===e.getSliceSpacing()},m.image.Spacing.prototype.toString=function(){return"("+this.getColumnSpacing()+", "+this.getRowSpacing()+", "+this.getSliceSpacing()+")"},m.image.Geometry=function(e,t,n,r){void 0===e&&(e=new m.math.Point3D(0,0,0));var i=[e];void 0===r&&(r=new m.math.getIdentityMat33),this.getOrigin=function(){return e},this.getOrigins=function(){return i},this.getSize=function(){return t},this.getSpacing=function(){return n},this.getOrientation=function(){return r},this.getSliceIndex=function(e){for(var t=0,n=e.getDistance(i[0]),o=0,a=0;a<i.length;++a)(o=e.getDistance(i[a]))<n&&(n=o,t=a);return 0<new m.math.Vector3D(r.get(2,0),r.get(2,1),r.get(2,2)).dotProduct(e.minus(i[t]))?t+1:t},this.appendOrigin=function(e,n){i.splice(n,0,e),t=new m.image.Size(t.getNumberOfColumns(),t.getNumberOfRows(),t.getNumberOfSlices()+1)}},m.image.Geometry.prototype.equals=function(e){return null!==e&&this.getOrigin()===e.getOrigin()&&this.getSize()===e.getSize()&&this.getSpacing()===e.getSpacing()},m.image.Geometry.prototype.indexToOffset=function(e){var t=this.getSize();return e.getI()+e.getJ()*t.getNumberOfColumns()+e.getK()*t.getSliceSize()},m.image.Geometry.prototype.indexToWorld=function(e){var t=this.getOrigin(),n=this.getSpacing();return new m.math.Point3D(t.getX()+e.getI()*n.getColumnSpacing(),t.getY()+e.getJ()*n.getRowSpacing(),t.getZ()+e.getK()*n.getSliceSpacing())},m.image.Geometry.prototype.worldToIndex=function(e){var t=this.getOrigin(),n=this.getSpacing();return new m.math.Point3D(e.getX()/n.getColumnSpacing()-t.getX(),e.getY()/n.getRowSpacing()-t.getY(),e.getZ()/n.getSliceSpacing()-t.getZ())},(m=m||{}).image=m.image||{},m.image.RescaleSlopeAndIntercept=function(e,t){this.getSlope=function(){return e},this.getIntercept=function(){return t},this.apply=function(n){return n*e+t}},m.image.RescaleSlopeAndIntercept.prototype.equals=function(e){return null!==e&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()},m.image.RescaleSlopeAndIntercept.prototype.toString=function(){return this.getSlope()+", "+this.getIntercept()},m.image.RescaleSlopeAndIntercept.prototype.isID=function(){return 1===this.getSlope()&&0===this.getIntercept()},m.image.Image=function(e,t,n){void 0===n&&(n=t.length),this.getNumberOfFrames=function(){return n};for(var r=[],i=0,o=e.getSize().getNumberOfSlices();i<o;++i)r.push(new m.image.RescaleSlopeAndIntercept(1,0));var a=!0,s=!0,u="MONOCHROME2",l=0,c=t[0].length/e.getSize().getTotalSize(),h={},d=null,f=null,p=null,g=[];this.setFirstOverlay=function(e){g[0]=e},this.getOverlays=function(){return g},this.getGeometry=function(){return e},this.getBuffer=function(){return t},this.getFrame=function(e){return t[e]},this.getRescaleSlopeAndIntercept=function(e){return r[e]},this.setRescaleSlopeAndIntercept=function(e,t){void 0===t&&(t=0),r[t]=e,s=a=!0;for(var n=0,i=r.length;n<i;++n)r[n].isID()||(a=!1),0<n&&!r[n].equals(r[n-1])&&(s=!1)},this.isIdentityRSI=function(){return a},this.isConstantRSI=function(){return s},this.getPhotometricInterpretation=function(){return u},this.setPhotometricInterpretation=function(e){u=e},this.getPlanarConfiguration=function(){return l},this.setPlanarConfiguration=function(e){l=e},this.getNumberOfComponents=function(){return c},this.getMeta=function(){return h},this.setMeta=function(e){h=e},this.getValueAtOffset=function(e,n){return t[n][e]},this.clone=function(){for(var e=[],n=0,r=this.getNumberOfFrames();n<r;++n)e[n]=t[n].slice(0);for(var i=new m.image.Image(this.getGeometry(),e),o=this.getGeometry().getSize().getNumberOfSlices(),a=0;a<o;++a)i.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept(a),a);return i.setPhotometricInterpretation(this.getPhotometricInterpretation()),i.setPlanarConfiguration(this.getPlanarConfiguration()),i.setMeta(this.getMeta()),i},this.appendSlice=function(n,i){if(null===n)throw new Error("Cannot append null slice");var o=n.getGeometry().getSize(),a=e.getSize();if(1!==o.getNumberOfSlices())throw new Error("Cannot append more than one slice");if(a.getNumberOfColumns()!==o.getNumberOfColumns())throw new Error("Cannot append a slice with different number of columns");if(a.getNumberOfRows()!==o.getNumberOfRows())throw new Error("Cannot append a slice with different number of rows");if(u!==n.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(var s in h)if(h[s]!==n.getMeta()[s])throw new Error("Cannot append a slice with different "+s);var l=void 0===i?0:i,c=1;"RGB"!==u&&"YBR_FULL_422"!==u||(c=3);var d=c*a.getSliceSize(),f=m.dicom.getTypedArray(8*t[l].BYTES_PER_ELEMENT,h.IsSigned?1:0,d*(a.getNumberOfSlices()+1)),p=e.getSliceIndex(n.getGeometry().getOrigin());if(0===p)f.set(n.getFrame(l)),f.set(t[l],d);else if(p===a.getNumberOfSlices())f.set(t[l]),f.set(n.getFrame(l),a.getNumberOfSlices()*d);else{var x=p*d;f.set(t[l].subarray(0,x-1)),f.set(n.getFrame(l),x),f.set(t[l].subarray(x),x+d)}return e.appendOrigin(n.getGeometry().getOrigin(),p),r.splice(p,0,n.getRescaleSlopeAndIntercept(0)),t[l]=f,g.splice(p,0,n.getOverlays()[0]),p},this.appendFrameBuffer=function(e){t.push(e)},this.getDataRange=function(){return d||(d=this.calculateDataRange()),d},this.getRescaledDataRange=function(){return f||(f=this.calculateRescaledDataRange()),f},this.getHistogram=function(){if(!p){var e=this.calculateHistogram();d=e.dataRange,f=e.rescaledDataRange,p=e.histogram}return p}},m.image.Image.prototype.getValue=function(e,t,n,r){var i=r||0,o=new m.math.Index3D(e,t,n);return this.getValueAtOffset(this.getGeometry().indexToOffset(o),i)},m.image.Image.prototype.getRescaledValue=function(e,t,n,r){var i=this.getValue(e,t,n,r||0);return this.isIdentityRSI()||(i=this.getRescaleSlopeAndIntercept(n).apply(i)),i},m.image.Image.prototype.calculateDataRange=function(){for(var e=this.getGeometry().getSize().getTotalSize(),t=this.getValueAtOffset(0,0),n=t,r=0,i=0;i<1;++i)for(var o=0;o<e;++o)n<(r=this.getValueAtOffset(o,i))&&(n=r),r<t&&(t=r);return{min:t,max:n}},m.image.Image.prototype.calculateRescaledDataRange=function(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){var e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept(0).apply(e.min),n=this.getRescaleSlopeAndIntercept(0).apply(e.max);return{min:t<n?t:n,max:n<t?t:n}}for(var r=this.getGeometry().getSize(),i=this.getRescaledValue(0,0,0),o=i,a=0,s=0;s<1;++s)for(var u=0,l=r.getNumberOfSlices();u<l;++u)for(var c=0,h=r.getNumberOfRows();c<h;++c)for(var d=0,f=r.getNumberOfColumns();d<f;++d)o<(a=this.getRescaledValue(d,c,u,s))&&(o=a),a<i&&(i=a);return{min:i,max:o}},m.image.Image.prototype.calculateHistogram=function(){for(var e=this.getGeometry().getSize(),t=[],n=this.getValue(0,0,0),r=n,i=0,o=this.getRescaledValue(0,0,0),a=o,s=0,u=0,l=this.getNumberOfFrames();u<l;++u)for(var c=0,h=e.getNumberOfSlices();c<h;++c)for(var d=0,f=e.getNumberOfRows();d<f;++d)for(var p=0,g=e.getNumberOfColumns();p<g;++p)r<(i=this.getValue(p,d,c,u))&&(r=i),i<n&&(n=i),a<(s=this.getRescaleSlopeAndIntercept(c).apply(i))&&(a=s),s<o&&(o=s),t[s]=(t[s]||0)+1;for(var m={min:n,max:r},x={min:o,max:a},v=[],S=o;S<=a;++S)v.push([S,t[S]||0]);return{dataRange:m,rescaledDataRange:x,histogram:v}},m.image.Image.prototype.convolute2D=function(e){if(9!==e.length)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);var t=this.clone(),n=t.getBuffer(),r=this.getGeometry().getSize(),i=r.getNumberOfColumns(),o=r.getNumberOfRows(),a=r.getNumberOfSlices(),s=this.getNumberOfFrames(),u=this.getNumberOfComponents(),l=1,c=1,h=r.getTotalSize();3===u&&(h*=3,0===this.getPlanarConfiguration()?l=3:c=r.getTotalSize());var d=[];d[0]=(-i-1)*l,d[1]=-i*l,d[2]=(1-i)*l,d[3]=-l,d[4]=0,d[5]=1*l,d[6]=(i-1)*l,d[7]=i*l,d[8]=(i+1)*l;var f=[];f[0]=d[4],f[1]=d[4],f[2]=d[5],f[3]=d[4],f[4]=d[4],f[5]=d[5],f[6]=d[7],f[7]=d[7],f[8]=d[8];var p=[];p[0]=d[1],p[1]=d[1],p[2]=d[2],p[3]=d[4],p[4]=d[4],p[5]=d[5],p[6]=d[7],p[7]=d[7],p[8]=d[8];var g=[];g[0]=d[1],g[1]=d[1],g[2]=d[2],g[3]=d[4],g[4]=d[4],g[5]=d[5],g[6]=d[4],g[7]=d[4],g[8]=d[5];var m=[];m[0]=d[3],m[1]=d[4],m[2]=d[5],m[3]=d[3],m[4]=d[4],m[5]=d[5],m[6]=d[6],m[7]=d[7],m[8]=d[8];var x=[];x[0]=d[0],x[1]=d[1],x[2]=d[2],x[3]=d[3],x[4]=d[4],x[5]=d[5],x[6]=d[3],x[7]=d[4],x[8]=d[5];var v=[];v[0]=d[3],v[1]=d[4],v[2]=d[4],v[3]=d[3],v[4]=d[4],v[5]=d[4],v[6]=d[6],v[7]=d[7],v[8]=d[7];var S=[];S[0]=d[0],S[1]=d[1],S[2]=d[1],S[3]=d[3],S[4]=d[4],S[5]=d[4],S[6]=d[6],S[7]=d[7],S[8]=d[7];var y=[];y[0]=d[0],y[1]=d[1],y[2]=d[1],y[3]=d[3],y[4]=d[4],y[5]=d[4],y[6]=d[3],y[7]=d[4],y[8]=d[4];for(var b=0,C=0,w=[],_=0;_<s;_++){b=_*h;for(var D=0;D<u;D++){b+=D*c;for(var T=0;T<a;T++)for(var L=0;L<o;L++)for(var E=0;E<i;E++){w=d,0===E&&0===L?w=f:0===E&&L===o-1?w=g:E===i-1&&0===L?w=v:E===i-1&&L===o-1?w=y:0===E&&L!==o-1&&0!==L?w=p:E===i-1&&L!==o-1&&0!==L?w=S:0!==E&&E!==i-1&&0===L?w=m:0!==E&&E!==i-1&&L===o-1&&(w=x);for(var I=C=0;I<9;++I)C+=this.getValueAtOffset(b+w[I],_)*e[I];n[_][b]=C,b+=l}}}return t},m.image.Image.prototype.transform=function(e){for(var t=this.clone(),n=t.getBuffer(),r=0,i=this.getNumberOfFrames();r<i;++r)for(var o=0,a=n[r].length;o<a;++o)n[r][o]=e(t.getValueAtOffset(o,r));return t},m.image.Image.prototype.compose=function(e,t){for(var n=this.clone(),r=n.getBuffer(),i=0,o=this.getNumberOfFrames();i<o;++i)for(var a=0,s=r[i].length;a<s;++a)r[i][a]=Math.floor(t(this.getValueAtOffset(a,i),e.getValueAtOffset(a,i)));return n},m.image.Image.prototype.quantifyLine=function(e){var t={},n=this.getGeometry().getSpacing(),r=e.getWorldLength(n.getColumnSpacing(),n.getRowSpacing());return null!==r&&(t.length={value:r,unit:m.i18n("unit.mm")}),t},m.image.Image.prototype.quantifyRect=function(e){var t={},n=this.getGeometry().getSpacing(),r=e.getWorldSurface(n.getColumnSpacing(),n.getRowSpacing());null!==r&&(t.surface={value:r/100,unit:m.i18n("unit.cm2")});for(var i=[],o=parseInt(e.getBegin().getY(),10),a=parseInt(e.getEnd().getY(),10),s=parseInt(e.getBegin().getX(),10),u=parseInt(e.getEnd().getX(),10),l=o;l<a;++l)for(var c=s;c<u;++c)i.push(this.getValue(c,l,0));var h=m.math.getStats(i);return t.min={value:h.min,unit:""},t.max={value:h.max,unit:""},t.mean={value:h.mean,unit:""},t.stdDev={value:h.stdDev,unit:""},t},m.image.Image.prototype.quantifyEllipse=function(e){var t={},n=this.getGeometry().getSpacing(),r=e.getWorldSurface(n.getColumnSpacing(),n.getRowSpacing());return null!==r&&(t.surface={value:r/100,unit:m.i18n("unit.cm2")}),t},m.image.ImageFactory=function(){},m.image.ImageFactory.prototype.create=function(e,t){var n=e.getFromKey("x00280011");if(!n)throw new Error("Missing or empty DICOM image number of columns");var r=e.getFromKey("x00280010");if(!r)throw new Error("Missing or empty DICOM image number of rows");var i=new m.image.Size(n,r),o=null,a=null,s=e.getFromKey("x00280030"),u=e.getFromKey("x00181164");s&&s[0]&&s[1]?(o=parseFloat(s[0]),a=parseFloat(s[1])):u&&u[0]&&u[1]&&(o=parseFloat(u[0]),a=parseFloat(u[1]));var l=new m.image.Spacing(a,o),c=e.getFromKey("x00020010"),h=m.dicom.cleanString(c),d=m.dicom.isJpeg2000TransferSyntax(h),f=m.dicom.isJpegBaselineTransferSyntax(h),p=m.dicom.isJpegLosslessTransferSyntax(h),g=new Array(0,0,0),x=e.getFromKey("x00200032");x&&(g=[parseFloat(x[0]),parseFloat(x[1]),parseFloat(x[2])]);var v,S=e.getFromKey("x00200037");if(S){var y=new m.math.Vector3D(parseFloat(S[0]),parseFloat(S[1]),parseFloat(S[2])),b=new m.math.Vector3D(parseFloat(S[3]),parseFloat(S[4]),parseFloat(S[5])),C=y.crossProduct(b);v=new m.math.Matrix33(y.getX(),y.getY(),y.getZ(),b.getX(),b.getY(),b.getZ(),C.getX(),C.getY(),C.getZ())}var w=new m.math.Point3D(g[0],g[1],g[2]),_=new m.image.Geometry(w,i,l,v),D=new m.image.Image(_,t),T=e.getFromKey("x00280004");if(T){var L=m.dicom.cleanString(T).toUpperCase();(d||f||p)&&"MONOCHROME1"!==L&&"MONOCHROME2"!==L&&(L="RGB"),D.setPhotometricInterpretation(L)}var E=e.getFromKey("x00280006");E&&D.setPlanarConfiguration(E);var I=1,P=e.getFromKey("x00281053");P&&(I=parseFloat(P));var A=0,O=e.getFromKey("x00281052");O&&(A=parseFloat(O));var F=new m.image.RescaleSlopeAndIntercept(I,A);D.setRescaleSlopeAndIntercept(F);var R={},k=e.getFromKey("x00080060");k&&(R.Modality=k);var M=e.getFromKey("x0020000D");M&&(R.StudyInstanceUID=M);var N=e.getFromKey("x0020000E");N&&(R.SeriesInstanceUID=N);var U=e.getFromKey("x00280101");U&&(R.BitsStored=parseInt(U,10));var q=e.getFromKey("x00280103");return R.IsSigned=!1,q&&(R.IsSigned=1===q),D.setMeta(R),D.setFirstOverlay(m.gui.info.createOverlays(e)),D},(m=m||{}).image=m.image||{},m.image.lut=m.image.lut||{},m.image.lut.Rescale=function(e,t){var n=null,r=!1,i=Math.pow(2,t);this.getRSI=function(){return e},this.isReady=function(){return r},this.initialise=function(){if(!r){n=new Float32Array(i);for(var t=0;t<i;++t)n[t]=e.apply(t);r=!0}},this.getLength=function(){return i},this.getValue=function(e){return n[e]}},m.image.lut.Window=function(e,t){var n=null,r=null,i=!1,o=0;this.getWindowLevel=function(){return r},this.isSigned=function(){return t},this.getRescaleLut=function(){return e},this.isReady=function(){return i},this.setWindowLevel=function(n){if(o=0,(r=n).setSignedOffset(0),t){var a=e.getLength();o=a/2,r.setSignedOffset(e.getRSI().getSlope()*o)}i=!1},this.update=function(){if(!i){e.isReady()||e.initialise();var t=e.getLength();n||(n=new Uint8ClampedArray(t));for(var o=0;o<t;++o)n[o]=r.apply(e.getValue(o));i=!0}},this.getLength=function(){return n.length},this.getValue=function(e){return n[e+o]}},m.image.lut.range_max=256,m.image.lut.buildLut=function(e){for(var t=[],n=0;n<m.image.lut.range_max;++n)t.push(e(n));return t},m.image.lut.max=function(){return m.image.lut.range_max-1},m.image.lut.maxFirstThird=function(e){return e<m.image.lut.range_max/3?m.image.lut.range_max-1:0},m.image.lut.maxSecondThird=function(e){var t=m.image.lut.range_max/3;return t<=e&&e<2*t?m.image.lut.range_max-1:0},m.image.lut.maxThirdThird=function(e){return e>=2*m.image.lut.range_max/3?m.image.lut.range_max-1:0},m.image.lut.toMaxFirstThird=function(e){var t=3*e;return t>m.image.lut.range_max-1?m.image.lut.range_max-1:t},m.image.lut.toMaxSecondThird=function(e){var t=m.image.lut.range_max/3,n=0;return t<=e&&(n=3*(e-t))>m.image.lut.range_max-1?m.image.lut.range_max-1:n},m.image.lut.toMaxThirdThird=function(e){var t=m.image.lut.range_max/3,n=0;return 2*t<=e&&(n=3*(e-2*t))>m.image.lut.range_max-1?m.image.lut.range_max-1:n},m.image.lut.zero=function(){return 0},m.image.lut.id=function(e){return e},m.image.lut.invId=function(e){return m.image.lut.range_max-1-e},m.image.lut.plain={red:m.image.lut.buildLut(m.image.lut.id),green:m.image.lut.buildLut(m.image.lut.id),blue:m.image.lut.buildLut(m.image.lut.id)},m.image.lut.invPlain={red:m.image.lut.buildLut(m.image.lut.invId),green:m.image.lut.buildLut(m.image.lut.invId),blue:m.image.lut.buildLut(m.image.lut.invId)},m.image.lut.rainbow={blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},m.image.lut.hot={red:m.image.lut.buildLut(m.image.lut.toMaxFirstThird),green:m.image.lut.buildLut(m.image.lut.toMaxSecondThird),blue:m.image.lut.buildLut(m.image.lut.toMaxThirdThird)},m.image.lut.hot_iron={red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},m.image.lut.pet={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},m.image.lut.hot_metal_blue={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},m.image.lut.pet_20step={red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]},m.image.lut.test={red:m.image.lut.buildLut(m.image.lut.id),green:m.image.lut.buildLut(m.image.lut.zero),blue:m.image.lut.buildLut(m.image.lut.zero)},(m=m||{}).image=m.image||{},m.image.WindowLevel=function(e,t){if(0===t)throw new Error("A window level with a width of zero is not possible.");var n=0,r=0,i=255,o=null,a=null,s=null,u=null;function l(){var l=e+n;o=l-.5-(t-1)/2,a=l-.5+(t-1)/2,s=(i-r)/(t-1),u=(-(l-.5)/(t-1)+.5)*(i-r)+r}l(),this.getCenter=function(){return e},this.getWidth=function(){return t},this.setRange=function(e,t){r=parseInt(e,10),i=parseInt(t,10),l()},this.setSignedOffset=function(e){n=e,l()},this.apply=function(e){return e<=o?r:a<e?i:parseInt(e*s+u,10)}},m.image.WindowLevel.prototype.equals=function(e){return null!==e&&this.getCenter()===e.getCenter()&&this.getWidth()===e.getWidth()},m.image.WindowLevel.prototype.toString=function(){return this.getCenter()+", "+this.getWidth()},m.image.View=function(e){var t={},n={minmax:{name:"minmax"}},r=null,i=m.image.lut.plain,o={i:0,j:0,k:0},a=null;this.getImage=function(){return e},this.setImage=function(t){e=t},this.getCurrentWindowLut=function(i){var o=this.getCurrentPosition().k;void 0===i&&(i=e.getRescaleSlopeAndIntercept(o));var a=t[i.toString()];if(r&&void 0!==n[r]&&void 0!==n[r].perslice&&!0===n[r].perslice){var s=n[r].wl[o];if(!a.getWindowLevel().equals(s)){var u=a.getWindowLevel().getWidth(),l=a.getWindowLevel().getCenter();a.setWindowLevel(s),u!==s.getWidth()&&this.fireEvent({type:"wl-width-change",wc:s.getCenter(),ww:s.getWidth(),skipGenerate:!0}),l!==s.getCenter()&&this.fireEvent({type:"wl-center-change",wc:s.getCenter(),ww:s.getWidth(),skipGenerate:!0})}}return a.update(),a},this.addWindowLut=function(e){var n=e.getRescaleLut().getRSI();t[n.toString()]=e},this.getWindowPresets=function(){return n},this.getWindowPresetsNames=function(){return Object.keys(n)},this.setWindowPresets=function(e){n=e},this.setDefaultColourMap=function(e){i=e},this.addWindowPresets=function(e,t){for(var r=Object.keys(e),i=null,o=0;o<r.length;++o)void 0!==n[i=r[o]]&&void 0!==n[i].perslice&&!0===n[i].perslice?n[i].wl.splice(t,0,e[i].wl[0]):n[i]=e[i]},this.getColourMap=function(){return i},this.setColourMap=function(e){i=e,this.fireEvent({type:"colour-change",wc:this.getCurrentWindowLut().getWindowLevel().getCenter(),ww:this.getCurrentWindowLut().getWindowLevel().getWidth()})},this.getCurrentPosition=function(){return{i:o.i,j:o.j,k:o.k}},this.setCurrentPosition=function(t,n){if(void 0===n&&(n=!1),!e.getGeometry().getSize().isInBounds(t.i,t.j,t.k))return!1;var r=o;return o=t,null!==e.getPhotometricInterpretation().match(/MONOCHROME/)?this.fireEvent({type:"position-change",i:t.i,j:t.j,k:t.k,value:e.getRescaledValue(t.i,t.j,t.k,this.getCurrentFrame())}):this.fireEvent({type:"position-change",i:t.i,j:t.j,k:t.k}),n||r.k!==o.k&&this.fireEvent({type:"slice-change"}),!0},this.getCurrentFrame=function(){return a},this.setCurrentFrame=function(t){return!(t<0||t>=e.getNumberOfFrames()||(a!==(a=t)&&1!==e.getNumberOfFrames()&&(this.fireEvent({type:"frame-change",frame:a}),this.setCurrentPosition(this.getCurrentPosition(),!0)),0))},this.append=function(e){var t=this.getImage().appendSlice(e.getImage());t<=this.getCurrentPosition().k&&this.setCurrentPosition({i:this.getCurrentPosition().i,j:this.getCurrentPosition().j,k:this.getCurrentPosition().k+1},!0),this.addWindowPresets(e.getWindowPresets(),t)},this.appendFrameBuffer=function(e){this.getImage().appendFrameBuffer(e)},this.setWindowLevel=function(n,i,o){if(1<=i){var a=this.getCurrentPosition().k,s=null,u=e.getRescaleSlopeAndIntercept(a);if(u&&void 0!==u){var l=t[u.toString()];l&&void 0!==l&&(s=l.getWindowLevel())}void 0===o&&(o="manual"),r=o;var c=new m.image.WindowLevel(n,i);if(0===Object.keys(t).length){var h=new m.image.lut.Rescale(e.getRescaleSlopeAndIntercept(0),e.getMeta().BitsStored),d=new m.image.lut.Window(h,e.getMeta().IsSigned);this.addWindowLut(d)}for(var f in t)t[f].setWindowLevel(c);s&&void 0!==s?(s.getWidth()!==i&&this.fireEvent({type:"wl-width-change",wc:n,ww:i}),s.getCenter()!==n&&this.fireEvent({type:"wl-center-change",wc:n,ww:i})):(this.fireEvent({type:"wl-width-change",wc:n,ww:i}),this.fireEvent({type:"wl-center-change",wc:n,ww:i}))}},this.setWindowLevelPreset=function(e){var t=this.getWindowPresets()[e];if(void 0===t)throw new Error("Unknown window level preset: '"+e+"'");"minmax"===e&&void 0===t.wl&&(t.wl=this.getWindowLevelMinMax()),void 0!==t.perslice&&!0===t.perslice&&(t={wl:t.wl[this.getCurrentPosition().k]}),this.setWindowLevel(t.wl.getCenter(),t.wl.getWidth(),e)},this.setWindowLevelPresetById=function(e){var t=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(t[e])},this.clone=function(){var e=new m.image.View(this.getImage());for(var n in t)e.addWindowLut(t[n]);return e.setListeners(this.getListeners()),e};var s={};this.getListeners=function(){return s},this.setListeners=function(e){s=e}},m.image.View.prototype.getWindowLevelMinMax=function(){var e=this.getImage().getRescaledDataRange(),t=e.min,n=e.max-t;return new m.image.WindowLevel(t+n/2,n)},m.image.View.prototype.setWindowLevelMinMax=function(){var e=this.getWindowLevelMinMax();this.setWindowLevel(e.getCenter(),e.getWidth(),"minmax")},m.image.View.prototype.generateImageData=function(e){var t=this.getCurrentWindowLut(),n=this.getImage(),r=n.getGeometry().getSize().getSliceSize(),i=r*this.getCurrentPosition().k,o=this.getCurrentFrame()?this.getCurrentFrame():0,a=0,s=0,u=0,l=n.getPhotometricInterpretation();switch(l){case"MONOCHROME1":case"MONOCHROME2":for(var c=this.getColourMap(),h=i+r,d=i;d<h;++d)s=parseInt(t.getValue(n.getValueAtOffset(d,o)),10),e.data[a]=c.red[s],e.data[a+1]=c.green[s],e.data[a+2]=c.blue[s],e.data[a+3]=255,a+=4;break;case"RGB":i*=3;var f=n.getPlanarConfiguration();if(0!==f&&1!==f)throw new Error("Unsupported planar configuration: "+f);var p=i,g=i+1,m=i+2;u=3,1===f&&(g=(p=i)+r,m=i+2*r,u=1);for(var x=0;x<r;++x)e.data[a]=parseInt(t.getValue(n.getValueAtOffset(p,o)),10),e.data[a+1]=parseInt(t.getValue(n.getValueAtOffset(g,o)),10),e.data[a+2]=parseInt(t.getValue(n.getValueAtOffset(m,o)),10),e.data[a+3]=255,a+=4,p+=u,g+=u,m+=u;break;case"YBR_FULL_422":i*=3;var v=n.getPlanarConfiguration();if(0!==v&&1!==v)throw new Error("Unsupported planar configuration: "+v);var S,y,b,C,w,_,D=i,T=i+1,L=i+2;u=3,1===v&&(T=(D=i)+r,L=i+2*r,u=1);for(var E=0;E<r;++E)S=n.getValueAtOffset(D,o),y=n.getValueAtOffset(T,o),C=S+1.402*((b=n.getValueAtOffset(L,o))-128),w=S-.34414*(y-128)-.71414*(b-128),_=S+1.772*(y-128),e.data[a]=parseInt(t.getValue(C),10),e.data[a+1]=parseInt(t.getValue(w),10),e.data[a+2]=parseInt(t.getValue(_),10),e.data[a+3]=255,a+=4,D+=u,T+=u,L+=u;break;default:throw new Error("Unsupported photometric interpretation: "+l)}},m.image.View.prototype.addEventListener=function(e,t){var n=this.getListeners();n[e]||(n[e]=[]),n[e].push(t)},m.image.View.prototype.removeEventListener=function(e,t){var n=this.getListeners();if(n[e])for(var r=0;r<n[e].length;++r)n[e][r]===t&&n[e].splice(r,1)},m.image.View.prototype.fireEvent=function(e){var t=this.getListeners();if(t[e.type])for(var n=0;n<t[e.type].length;++n)t[e.type][n](e)},m.image.ViewFactory=function(){},m.image.ViewFactory.prototype.create=function(e,t){var n=new m.image.View(t);"MONOCHROME1"===t.getPhotometricInterpretation()&&n.setDefaultColourMap(m.image.lut.invPlain);var r={},i=e.getFromKey("x00281050",!0),o=e.getFromKey("x00281051",!0),a=e.getFromKey("x00281055",!0);if(i&&o)for(var s,u=0;u<i.length;++u){var l=parseFloat(i[u],10),c=parseFloat(o[u],10);l&&c&&(s="",a&&(s=m.dicom.cleanString(a[u])),""===s&&(s="Default"+u),r[s]={wl:[new m.image.WindowLevel(l,c)],name:s,perslice:!0})}if(r.minmax={name:"minmax"},void 0!==m.tool.defaultpresets){var h=t.getMeta().Modality;for(var d in m.tool.defaultpresets[h]){var f=m.tool.defaultpresets[h][d];r[d]={wl:new m.image.WindowLevel(f.center,f.width),name:d}}}return n.setWindowPresets(r),n},(m=m||{}).io=m.io||{},m.io.DicomDataLoader=function(){var e=this,t={},n=!1;this.setOptions=function(e){t=e},this.isLoading=function(){return n};var r=new m.image.DicomBufferToView;this.load=function(i,o,a){n=!0,void 0!==t.defaultCharacterSet&&r.setDefaultCharacterSet(t.defaultCharacterSet),r.onload=e.onload,r.onloadend=function(){n=!1,e.onloadend()},r.onprogress=e.onprogress;try{r.convert(i,a)}catch(i){e.onerror(i)}},this.abort=function(){r.abort(),n=!1,e.onabort({message:"Abort while loading DICOM data."})},this.getFileLoadHandler=function(t,n){return function(r){e.load(r.target.result,t,n)}},this.getUrlLoadHandler=function(t,n){return function(){200===this.status||0===this.status?e.load(this.response,t,n):e.onerror({name:"RequestError",message:"Error status: "+this.status+" while loading '"+t+"' [DicomDataLoader]"})}}},m.io.DicomDataLoader.prototype.canLoadFile=function(e){var t=e.name.split("."),n="";return 1!==t.length&&(n=t.pop().toLowerCase()),!(0!==n.length)||"dcm"===n},m.io.DicomDataLoader.prototype.canLoadUrl=function(e){var t=e.split("."),n="";1!==t.length&&(n=t.pop().toLowerCase());var r=0!==n.length&&n.length<5;return-1!==e.indexOf("contentType=application/dicom")||"dcm"===n||!r},m.io.DicomDataLoader.prototype.loadFileAs=function(){return m.io.fileContentTypes.ArrayBuffer},m.io.DicomDataLoader.prototype.loadUrlAs=function(){return m.io.urlContentTypes.ArrayBuffer},m.io.DicomDataLoader.prototype.onload=function(){},m.io.DicomDataLoader.prototype.onloadend=function(){},m.io.DicomDataLoader.prototype.onprogress=function(){},m.io.DicomDataLoader.prototype.onerror=function(){},m.io.DicomDataLoader.prototype.onabort=function(){},m.io.loaderList=m.io.loaderList||[],m.io.loaderList.push("DicomDataLoader"),(m=m||{}).io=m.io||{},m.io.fileContentTypes={Text:0,ArrayBuffer:1,DataURL:2},m.io.FilesLoader=function(){var e,t=this,n=[],r=[],i=0,o=0;this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t},this.storeReader=function(e){n.push(e)},this.clearStoredReaders=function(){n=[]},this.storeLoader=function(e){r=e},this.clearStoredLoader=function(){r=null},this.abort=function(){for(var e=0;e<n.length;++e)1===n[e].readyState&&n[e].abort();this.clearStoredReaders(),r&&r.abort(),this.clearStoredLoader()},this.setNToLoad=function(e){i=e},this.addLoaded=function(){++o===i&&t.onloadend()}},m.io.FilesLoader.prototype.onload=function(){},m.io.FilesLoader.prototype.onloadend=function(){},m.io.FilesLoader.prototype.onprogress=function(){},m.io.FilesLoader.prototype.onerror=function(){},m.io.FilesLoader.prototype.onabort=function(){},m.io.FilesLoader.prototype.load=function(e){this.clearStoredReaders(),this.clearStoredLoader();var t=this;this.setNToLoad(e.length);var n=new m.utils.MultiProgressHandler(t.onprogress);n.setNToLoad(e.length);for(var r=[],i=0;i<m.io.loaderList.length;++i)r.push(new m.io[m.io.loaderList[i]]);for(var o=null,a=0;a<r.length;++a)(o=r[a]).onload=t.onload,o.onloadend=t.addLoaded,o.onerror=t.onerror,o.onabort=t.onabort,o.setOptions({defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=n.getUndefinedMonoProgressHandler(1);for(var s=function(e){return function(n){var r="An error occurred while reading '"+e+"'";void 0!==n.getMessage&&(r+=" ("+n.getMessage()+")"),t.onerror({name:"FileReaderError",message:r+="."})}},u=function(e){return function(){t.onabort({message:"Abort while reading '"+e+"'"})}},l=0;l<e.length;++l){var c=e[l],h=new FileReader;this.storeReader(h),h.onprogress=n.getMonoProgressHandler(l,0);for(var d=!1,f=0;f<r.length;++f)if((o=r[f]).canLoadFile(c)){d=!0,this.storeLoader(o),h.onload=o.getFileLoadHandler(c,l),h.onerror=s(c.name),h.onabort=u(c.name),o.loadFileAs()===m.io.fileContentTypes.Text?h.readAsText(c):o.loadFileAs()===m.io.fileContentTypes.DataURL?h.readAsDataURL(c):o.loadFileAs()===m.io.fileContentTypes.ArrayBuffer&&h.readAsArrayBuffer(c);break}if(!d)throw new Error("No loader found for file: "+c)}},(m=m||{}).io=m.io||{},m.io.JSONTextLoader=function(){var e=this,t=!1;this.setOptions=function(){},this.isLoading=function(){return t},this.load=function(n,r,i){t=!0;try{e.onload(n),t=!1,e.onloadend()}catch(n){e.onerror(n)}e.onprogress({type:"read-progress",lengthComputable:!0,loaded:100,total:100,index:i})},this.abort=function(){t=!1,e.onabort()},this.getFileLoadHandler=function(t,n){return function(r){e.load(r.target.result,t,n)}},this.getUrlLoadHandler=function(t,n){return function(){200===this.status||0===this.status?e.load(this.responseText,t,n):e.onerror({name:"RequestError",message:"Error status: "+this.status+" while loading '"+t+"' [JSONTextLoader]"})}}},m.io.JSONTextLoader.prototype.canLoadFile=function(e){return"json"===e.name.split(".").pop().toLowerCase()},m.io.JSONTextLoader.prototype.canLoadUrl=function(e){return"json"===e.split(".").pop().toLowerCase()},m.io.JSONTextLoader.prototype.loadFileAs=function(){return m.io.fileContentTypes.Text},m.io.JSONTextLoader.prototype.loadUrlAs=function(){return m.io.urlContentTypes.Text},m.io.JSONTextLoader.prototype.onload=function(){},m.io.JSONTextLoader.prototype.onloadend=function(){},m.io.JSONTextLoader.prototype.onprogress=function(){},m.io.JSONTextLoader.prototype.onerror=function(){},m.io.JSONTextLoader.prototype.onabort=function(){},m.io.loaderList=m.io.loaderList||[],m.io.loaderList.push("JSONTextLoader"),(m=m||{}).io=m.io||{},m.io.MemoryLoader=function(){var e,t=this,n=null,r=0,i=0;this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t},this.storeLoader=function(e){n=e},this.clearStoredLoader=function(){n=null},this.abort=function(){n.abort(),this.clearStoredLoaders()},this.setNToLoad=function(e){r=e},this.addLoaded=function(){++i===r&&t.onloadend()}},m.io.MemoryLoader.prototype.onload=function(){},m.io.MemoryLoader.prototype.onloadend=function(){},m.io.MemoryLoader.prototype.onprogress=function(){},m.io.MemoryLoader.prototype.onerror=function(){},m.io.MemoryLoader.prototype.onabort=function(){},m.io.MemoryLoader.prototype.load=function(e){this.clearStoredLoader();var t=this;this.setNToLoad(e.length);var n=new m.utils.MultiProgressHandler(t.onprogress);n.setNToLoad(e.length);for(var r=[],i=0;i<m.io.loaderList.length;++i)r.push(new m.io[m.io.loaderList[i]]);for(var o=null,a=0;a<r.length;++a)(o=r[a]).onload=t.onload,o.onloadend=t.addLoaded,o.onerror=t.onerror,o.onabort=t.onabort,o.setOptions({defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=n.getUndefinedMonoProgressHandler(1);for(var s=0;s<e.length;++s){for(var u=e[s],l=!1,c=0;c<r.length;++c)if((o=r[c]).canLoadUrl(u.filename)){l=!0,this.storeLoader(o),o.load(u.data,u.filename,s);break}if(!l)throw new Error("No loader found for file: "+u.filename)}},(m=m||{}).io=m.io||{},m.io.RawImageLoader=function(){var e=this;this.setOptions=function(){},this.isLoading=function(){return!0},this.load=function(t,n,r){var i=new Image;i.src=t,i.origin=n,i.index=r,i.onload=function(){try{e.onload(m.image.getViewFromDOMImage(this)),e.onloadend()}catch(t){e.onerror(t)}e.onprogress({type:"read-progress",lengthComputable:!0,loaded:100,total:100,index:r})}},this.abort=function(){e.onabort()},this.getFileLoadHandler=function(t,n){return function(r){e.load(r.target.result,t,n)}},this.getUrlLoadHandler=function(t,n){return function(){if(200===this.status||0===this.status){var r=t.split(".").pop().toLowerCase();e.load(function(e,t){for(var n=new Uint8Array(e),r="",i=0;i<n.byteLength;++i)r+=String.fromCharCode(n[i]);var o=t;return"jpg"===o&&(o="jpeg"),"data:image/"+o+";base64,"+s.btoa(r)}(this.response,r),t,n)}else e.onerror({name:"RequestError",message:"Error status: "+this.status+" while loading '"+t+"' [RawImageLoader]"})}}},m.io.RawImageLoader.prototype.canLoadFile=function(e){return e.type.match("image.*")},m.io.RawImageLoader.prototype.canLoadUrl=function(e){var t=e.split(".").pop().toLowerCase(),n="jpeg"===t||"jpg"===t||"png"===t||"gif"===t;return-1!==e.indexOf("contentType=image/jpeg")||-1!==e.indexOf("contentType=image/png")||-1!==e.indexOf("contentType=image/gif")||n},m.io.RawImageLoader.prototype.loadFileAs=function(){return m.io.fileContentTypes.DataURL},m.io.RawImageLoader.prototype.loadUrlAs=function(){return m.io.urlContentTypes.ArrayBuffer},m.io.RawImageLoader.prototype.onload=function(){},m.io.RawImageLoader.prototype.onloadend=function(){},m.io.RawImageLoader.prototype.onprogress=function(){},m.io.RawImageLoader.prototype.onerror=function(){},m.io.RawImageLoader.prototype.onabort=function(){},m.io.loaderList=m.io.loaderList||[],m.io.loaderList.push("RawImageLoader"),(m=m||{}).io=m.io||{},m.io.RawVideoLoader=function(){var e=this;this.setOptions=function(){},this.isLoading=function(){return!0},this.load=function(t,n,r){var i=document.createElement("video");i.src=t,i.file=n,i.index=r,i.onloadedmetadata=function(){try{m.image.getViewFromDOMVideo(this,e.onload,e.onprogress,e.onloadend,r)}catch(t){e.onerror(t)}}},this.abort=function(){e.onabort()},this.getFileLoadHandler=function(t,n){return function(r){e.load(r.target.result,t,n)}},this.getUrlLoadHandler=function(t,n){return function(){if(200===this.status||0===this.status){var r=t.split(".").pop().toLowerCase();e.load(function(e,t){for(var n=new Uint8Array(e),r="",i=0;i<n.byteLength;++i)r+=String.fromCharCode(n[i]);return"data:video/"+t+";base64,"+s.btoa(r)}(this.response,r),t,n)}else e.onerror({name:"RequestError",message:"Error status: "+this.status+" while loading '"+t+"' [RawVideoLoader]"})}}},m.io.RawVideoLoader.prototype.canLoadFile=function(e){return e.type.match("video.*")},m.io.RawVideoLoader.prototype.canLoadUrl=function(e){var t=e.split(".").pop().toLowerCase();return"mp4"===t||"ogg"===t||"webm"===t},m.io.RawVideoLoader.prototype.loadFileAs=function(){return m.io.fileContentTypes.DataURL},m.io.RawVideoLoader.prototype.loadUrlAs=function(){return m.io.urlContentTypes.ArrayBuffer},m.io.RawVideoLoader.prototype.onload=function(){},m.io.RawVideoLoader.prototype.onloadend=function(){},m.io.RawVideoLoader.prototype.onprogress=function(){},m.io.RawVideoLoader.prototype.onerror=function(){},m.io.RawVideoLoader.prototype.onabort=function(){},m.io.loaderList=m.io.loaderList||[],m.io.loaderList.push("RawVideoLoader"),(m=m||{}).io=m.io||{},m.io.urlContentTypes={Text:0,ArrayBuffer:1,oups:2},m.io.UrlsLoader=function(){var e,t=this,n=[],r=null,i=0,o=0;this.getDefaultCharacterSet=function(){return e},this.setDefaultCharacterSet=function(t){e=t},this.storeRequest=function(e){n.push(e)},this.clearStoredRequests=function(){n=[]},this.storeLoader=function(e){r=e},this.clearStoredLoader=function(){r=null},this.abort=function(){for(var e=0;e<n.length;++e)2!==n[e].readyState&&3!==n[e].readyState||n[e].abort();this.clearStoredRequests(),r&&r.isLoading()&&r.abort(),this.clearStoredLoader()},this.setNToLoad=function(e){i=e},this.addLoaded=function(){++o===i&&t.onloadend()}},m.io.UrlsLoader.prototype.onload=function(){},m.io.UrlsLoader.prototype.onloadend=function(){},m.io.UrlsLoader.prototype.onprogress=function(){},m.io.UrlsLoader.prototype.onerror=function(){},m.io.UrlsLoader.prototype.onabort=function(){},m.io.UrlsLoader.prototype.load=function(e,t){this.clearStoredRequests(),this.clearStoredLoader();var n=this;this.setNToLoad(e.length);var r=new m.utils.MultiProgressHandler(n.onprogress);r.setNToLoad(e.length);for(var i=[],o=0;o<m.io.loaderList.length;++o)i.push(new m.io[m.io.loaderList[o]]);for(var a=null,s=0;s<i.length;++s)(a=i[s]).onload=n.onload,a.onloadend=n.addLoaded,a.onerror=n.onerror,a.onabort=n.onabort,a.setOptions({defaultCharacterSet:this.getDefaultCharacterSet()}),a.onprogress=r.getUndefinedMonoProgressHandler(1);for(var u=function(e){return function(){var t="An error occurred while downloading '"+e+"'";void 0!==this.status&&(t+=" (http status: "+this.status+")"),n.onerror({name:"RequestError",message:t+="."})}},l=function(e){return function(){n.onabort({message:"Abort while downloading '"+e+"'."})}},c=0;c<e.length;++c){var h=e[c],d=new XMLHttpRequest;if(d.open("GET",h,!0),this.storeRequest(d),void 0!==t.requestHeaders)for(var f=t.requestHeaders,p=0;p<f.length;++p)void 0!==f[p].name&&void 0!==f[p].value&&d.setRequestHeader(f[p].name,f[p].value);d.onprogress=r.getMonoProgressHandler(c,0),d.onloadend=r.getMonoOnLoadEndHandler(c,0);for(var g=!1,x=0;x<i.length;++x)if((a=i[x]).canLoadUrl(h)){g=!0,this.storeLoader(a),d.onload=a.getUrlLoadHandler(h,c),d.onerror=u(h),d.onabort=l(h),a.loadUrlAs()===m.io.urlContentTypes.ArrayBuffer&&(d.responseType="arraybuffer"),d.send(null);break}if(!g)throw new Error("No loader found for url: "+h)}},(m=m||{}).io=m.io||{},i=i||{},m.io.ZipLoader=function(){var e=this,t=!1;this.setOptions=function(e){},this.isLoading=function(){return t};var n="",r=[],o=null;function a(i){if(r.push({filename:n,data:i}),r.length<o.length){var s=r.length;n=o[s].name,o[s].async("arrayBuffer").then(a)}else{var u=new m.io.MemoryLoader;u.onload=e.onload,u.onloadend=function(){t=!1,e.onloadend()},u.onprogress=e.onprogress,u.onerror=e.onerror,u.onabort=e.onabort,u.load(r)}}this.load=function(e){t=!0,i.loadAsync(e).then(function(e){r=[],o=e.file(/.*\.dcm/);var t=r.length;n=o[t].name,o[t].async("arrayBuffer").then(a)})},this.abort=function(){t=!1,e.onabort()},this.getFileLoadHandler=function(t,n){return function(r){e.load(r.target.result,t,n)}},this.getUrlLoadHandler=function(t,n){return function(){200===this.status||0===this.status?e.load(this.response,t,n):e.onerror({name:"RequestError",message:"Error status: "+this.status+" while loading '"+t+"' [ZipLoader]"})}}},m.io.ZipLoader.prototype.canLoadFile=function(e){return"zip"===e.name.split(".").pop().toLowerCase()},m.io.ZipLoader.prototype.canLoadUrl=function(e){return"zip"===e.split(".").pop().toLowerCase()},m.io.ZipLoader.prototype.loadFileAs=function(){return m.io.fileContentTypes.ArrayBuffer},m.io.ZipLoader.prototype.loadUrlAs=function(){return m.io.urlContentTypes.ArrayBuffer},m.io.ZipLoader.prototype.onload=function(){},m.io.ZipLoader.prototype.onloadend=function(){},m.io.ZipLoader.prototype.onprogress=function(){},m.io.ZipLoader.prototype.onerror=function(){},m.io.ZipLoader.prototype.onabort=function(){},m.io.loaderList=m.io.loaderList||[],m.io.loaderList.push("ZipLoader"),(m=m||{}).math=m.math||{},m.math.BucketQueue=function(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=void 0!==t?t:function(e){return e},this.buckets=this.buildArray(this.bucketCount)},m.math.BucketQueue.prototype.push=function(e){var t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++},m.math.BucketQueue.prototype.pop=function(){if(0===this.size)throw new Error("Cannot pop, bucketQueue is empty.");for(;null===this.buckets[this.loc];)this.loc=(this.loc+1)%this.bucketCount;var e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e},m.math.BucketQueue.prototype.remove=function(e){if(!e)return!1;for(var t=this.getBucket(e),n=this.buckets[t];null!==n&&!e.equals(n.next);)n=n.next;return null!==n&&(n.next=n.next.next,this.size--,!0)},m.math.BucketQueue.prototype.isEmpty=function(){return 0===this.size},m.math.BucketQueue.prototype.getBucket=function(e){return this.cost(e)&this.mask},m.math.BucketQueue.prototype.buildArray=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=null;return t},(m=m||{}).math=m.math||{},m.math.Matrix33=function(e,t,n,r,i,o,a,s,u){var l=new Float32Array(9);l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=o,l[6]=a,l[7]=s,l[8]=u,this.get=function(e,t){return l[3*e+t]}},m.math.Matrix33.prototype.equals=function(e){return this.get(0,0)===e.get(0,0)&&this.get(0,1)===e.get(0,1)&&this.get(0,2)===e.get(0,2)&&this.get(1,0)===e.get(1,0)&&this.get(1,1)===e.get(1,1)&&this.get(1,2)===e.get(1,2)&&this.get(2,0)===e.get(2,0)&&this.get(2,1)===e.get(2,1)&&this.get(2,2)===e.get(2,2)},m.math.Matrix33.prototype.toString=function(){return"["+this.get(0,0)+", "+this.get(0,1)+", "+this.get(0,2)+"\n "+this.get(1,0)+", "+this.get(1,1)+", "+this.get(1,2)+"\n "+this.get(2,0)+", "+this.get(2,1)+", "+this.get(2,2)+"]"},m.math.Matrix33.multiplyVector3D=function(e){var t=this.get(0,0),n=this.get(0,1),r=this.get(0,2),i=this.get(1,0),o=this.get(1,1),a=this.get(1,2),s=this.get(2,0),u=this.get(2,1),l=this.get(2,2),c=e.getX(),h=e.getY(),d=e.getZ();return new m.math.Vector3D(t*c+n*h+r*d,i*c+o*h+a*d,s*c+u*h+l*d)},m.math.getIdentityMat33=function(){return new m.math.Matrix33(1,0,0,0,1,0,0,0,1)},(m=m||{}).math=m.math||{},m.math.Point2D=function(e,t){this.getX=function(){return e},this.getY=function(){return t}},m.math.Point2D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()},m.math.Point2D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+")"},m.math.Point2D.prototype.getDistance=function(e){return Math.sqrt((this.getX()-e.getX())*(this.getX()-e.getX())+(this.getY()-e.getY())*(this.getY()-e.getY()))},m.math.FastPoint2D=function(e,t){this.x=e,this.y=t},m.math.FastPoint2D.prototype.equals=function(e){return null!==e&&this.x===e.x&&this.y===e.y},m.math.FastPoint2D.prototype.toString=function(){return"("+this.x+", "+this.y+")"},m.math.Point3D=function(e,t,n){this.getX=function(){return e},this.getY=function(){return t},this.getZ=function(){return n}},m.math.Point3D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()&&this.getZ()===e.getZ()},m.math.Point3D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+", "+this.getZ()+")"},m.math.Point3D.prototype.getDistance=function(e){return Math.sqrt((this.getX()-e.getX())*(this.getX()-e.getX())+(this.getY()-e.getY())*(this.getY()-e.getY())+(this.getZ()-e.getZ())*(this.getZ()-e.getZ()))},m.math.Point3D.prototype.minus=function(e){return new m.math.Vector3D(this.getX()-e.getX(),this.getY()-e.getY(),this.getZ()-e.getZ())},m.math.Index3D=function(e,t,n){this.getI=function(){return e},this.getJ=function(){return t},this.getK=function(){return n}},m.math.Index3D.prototype.equals=function(e){return null!==e&&this.getI()===e.getI()&&this.getJ()===e.getJ()&&this.getK()===e.getK()},m.math.Index3D.prototype.toString=function(){return"("+this.getI()+", "+this.getJ()+", "+this.getK()+")"},(m=m||{}).math=m.math||{};var p=2/(3*Math.PI);function g(e,t,n){var r=null;return null!==t&&null!==n&&(r=e*t*n),r}m.math.computeGreyscale=function(e,t,n){for(var r=[],i=0;i<n;i++){r[i]=[];for(var o=0;o<t;o++){var a=4*(i*t+o);r[i][o]=(e[a]+e[a+1]+e[a+2])/765}}return r.dx=function(e,t){return e+1===this[t].length&&e--,this[t][e+1]-this[t][e]},r.dy=function(e,t){return t+1===this.length&&t--,this[t][e]-this[t+1][e]},r.gradMagnitude=function(e,t){var n=this.dx(e,t),r=this.dy(e,t);return Math.sqrt(n*n+r*r)},r.laplace=function(e,t){var n=-16*this[t][e];return n+=this[t-2][e],n+=this[t-1][e-1]+2*this[t-1][e]+this[t-1][e+1],n+=this[t][e-2]+2*this[t][e-1]+2*this[t][e+1]+this[t][e+2],(n+=this[t+1][e-1]+2*this[t+1][e]+this[t+1][e+1])+this[t+2][e]},r},m.math.computeGradient=function(e){var t=[],n=0,r=0,i=0;for(i=0;i<e.length-1;i++){for(t[i]=[],r=0;r<e[i].length-1;r++)t[i][r]=e.gradMagnitude(r,i),n=Math.max(t[i][r],n);t[i][e[i].length-1]=t[i][e.length-2]}t[e.length-1]=[];for(var o=0;o<t[0].length;o++)t[e.length-1][o]=t[e.length-2][o];for(i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)t[i][r]=1-t[i][r]/n;return t},m.math.computeLaplace=function(e){var t=[];t[0]=[],t[1]=[];for(var n=1;n<e.length;n++)t[0][n]=1,t[1][n]=1;for(var r=2;r<e.length-2;r++){t[r]=[],t[r][0]=1,t[r][1]=1;for(var i=2;i<e[r].length-2;i++)t[r][i]=.33<e.laplace(i,r)?0:1;t[r][e[r].length-2]=1,t[r][e[r].length-1]=1}t[e.length-2]=[],t[e.length-1]=[];for(var o=1;o<e.length;o++)t[e.length-2][o]=1,t[e.length-1][o]=1;return t},m.math.computeGradX=function(e){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var r=0;r<e[n].length-1;r++)t[n][r]=e.dx(r,n);t[n][e[n].length-1]=t[n][e[n].length-2]}return t},m.math.computeGradY=function(e){for(var t=[],n=0;n<e.length-1;n++){t[n]=[];for(var r=0;r<e[n].length;r++)t[n][r]=e.dy(r,n)}t[e.length-1]=[];for(var i=0;i<e[0].length;i++)t[e.length-1][i]=t[e.length-2][i];return t},m.math.gradUnitVector=function(e,t,n,r,i){var o=e[r][n],a=t[r][n],s=Math.sqrt(o*o+a*a);s=Math.max(s,1e-100),i.x=o/s,i.y=a/s},m.math.gradDirection=function(e,t,n,r,i,o){var a=new m.math.FastPoint2D(-1,-1),s=new m.math.FastPoint2D(-1,-1);m.math.gradUnitVector(e,t,n,r,a),m.math.gradUnitVector(e,t,i,o,s);var u=a.y*(i-n)-a.x*(o-r),l=s.y*(i-n)-s.x*(o-r);return u<0&&(u=-u,l=-l),n!==i&&r!==o&&(u*=Math.SQRT1_2,l*=Math.SQRT1_2),p*(Math.acos(u)+Math.acos(l))},m.math.computeSides=function(e,t,n,r){for(var i={inside:[],outside:[]},o=new m.math.FastPoint2D(-1,-1),a=0;a<t.length;a++){i.inside[a]=[],i.outside[a]=[];for(var s=0;s<t[a].length;s++){m.math.gradUnitVector(t,n,s,a,o);var u=Math.round(s+e*o.y),l=Math.round(a-e*o.x),c=Math.round(s-e*o.y),h=Math.round(a+e*o.x);u=Math.max(Math.min(u,t[a].length-1),0),c=Math.max(Math.min(c,t[a].length-1),0),l=Math.max(Math.min(l,t.length-1),0),h=Math.max(Math.min(h,t.length-1),0),i.inside[a][s]=r[l][u],i.outside[a][s]=r[h][c]}}return i},m.math.gaussianBlur=function(e,t){t[0]=.4*e[0]+.5*e[1]+.1*e[1],t[1]=.25*e[0]+.4*e[1]+.25*e[2]+.1*e[3];for(var n=2;n<e.length-2;n++)t[n]=.05*e[n-2]+.25*e[n-1]+.4*e[n]+.25*e[n+1]+.05*e[n+2];var r=e.length;t[r-2]=.25*e[r-1]+.4*e[r-2]+.25*e[r-3]+.1*e[r-4],t[r-1]=.4*e[r-1]+.5*e[r-2]+.1*e[r-3]},m.math.Scissors=function(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.earchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null},m.math.Scissors.prototype.getTrainingIdx=function(e,t){return Math.round((e-1)*t)},m.math.Scissors.prototype.getTrainedEdge=function(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]},m.math.Scissors.prototype.getTrainedGrad=function(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]},m.math.Scissors.prototype.getTrainedInside=function(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]},m.math.Scissors.prototype.getTrainedOutside=function(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]},m.math.Scissors.prototype.setWorking=function(e){this.working=e},m.math.Scissors.prototype.setDimensions=function(e,t){this.width=e,this.height=t},m.math.Scissors.prototype.setData=function(e){if(-1===this.width||-1===this.height)throw new Error("Dimensions have not been set.");this.greyscale=m.math.computeGreyscale(e,this.width,this.height),this.laplace=m.math.computeLaplace(this.greyscale),this.gradient=m.math.computeGradient(this.greyscale),this.gradX=m.math.computeGradX(this.greyscale),this.gradY=m.math.computeGradY(this.greyscale);var t=m.math.computeSides(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]},m.math.Scissors.prototype.findTrainingPoints=function(e){var t=[];if(null!==this.parents)for(var n=0;n<this.trainingLength&&e;n++)t.push(e),e=this.parents[e.y][e.x];return t},m.math.Scissors.prototype.resetTraining=function(){this.trained=!1},m.math.Scissors.prototype.doTraining=function(e){if(this.trainingPoints=this.findTrainingPoints(e),!(this.trainingPoints.length<8)){var t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}},m.math.Scissors.prototype.calculateTraining=function(e,t,n,r){var i=0;for(e.length=t,i=0;i<t;i++)e[i]=0;var o=1;for(i=0;i<this.trainingPoints.length;i++){var a=this.trainingPoints[i],s=this.getTrainingIdx(t,n[a.y][a.x]);e[s]+=1,o=Math.max(o,e[s])}for(i=0;i<t;i++)e[i]=1-e[i]/o;m.math.gaussianBlur(e,r)},m.math.Scissors.prototype.addInStaticGrad=function(e,t){for(var n=0;n<this.gradGran;n++)this.gradTraining[n]=Math.min(this.gradTraining[n],1-n*(t-e)/(t*this.gradGran))},m.math.Scissors.prototype.gradDirection=function(e,t,n,r){return m.math.gradDirection(this.gradX,this.gradY,e,t,n,r)},m.math.Scissors.prototype.dist=function(e,t,n,r){var i=this.gradient[r][n];e!==n&&t!==r||(i*=Math.SQRT1_2);var o=this.laplace[r][n],a=this.gradDirection(e,t,n,r);return this.trained?.3*this.getTrainedGrad(i)+.3*o+.1*(a+this.getTrainedEdge(this.greyscale[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*i+.43*o+.11*a},m.math.Scissors.prototype.adj=function(e){for(var t=[],n=Math.max(e.x-1,0),r=Math.max(e.y-1,0),i=Math.min(e.x+1,this.greyscale[0].length-1),o=Math.min(e.y+1,this.greyscale.length-1),a=0,s=r;s<=o;s++)for(var u=n;u<=i;u++)u===e.x&&s===e.y||(t[a++]=new m.math.FastPoint2D(u,s));return t},m.math.Scissors.prototype.setPoint=function(e){this.setWorking(!0),this.curPoint=e;var t=0,n=0;for(this.visited=[],n=0;n<this.height;n++)for(this.visited[n]=[],t=0;t<this.width;t++)this.visited[n][t]=!1;for(this.parents=[],n=0;n<this.height;n++)this.parents[n]=[];for(this.cost=[],n=0;n<this.height;n++)for(this.cost[n]=[],t=0;t<this.width;t++)this.cost[n][t]=Number.MAX_VALUE;this.pq=new m.math.BucketQueue(this.searchGranBits,function(e){return Math.round(this.searchGran*this.costArr[e.y][e.x])}),this.pq.searchGran=this.searchGran,this.pq.costArr=this.cost,this.pq.push(e),this.cost[e.y][e.x]=0},m.math.Scissors.prototype.doWork=function(){if(this.working){this.timeout=null;for(var e=0,t=[];!this.pq.isEmpty()&&e<this.pointsPerPost;){var n=this.pq.pop();t.push(n),t.push(this.parents[n.y][n.x]),this.visited[n.y][n.x]=!0;for(var r=this.adj(n),i=0;i<r.length;i++){var o=r[i],a=this.cost[n.y][n.x]+this.dist(n.x,n.y,o.x,o.y);a<this.cost[o.y][o.x]&&(this.cost[o.y][o.x]!==Number.MAX_VALUE&&this.pq.remove(o),this.cost[o.y][o.x]=a,this.parents[o.y][o.x]=n,this.pq.push(o))}e++}return t}},(m=m||{}).math=m.math||{},m.math.Circle=function(e,t){var n=Math.PI*t*t;this.getCenter=function(){return e},this.getRadius=function(){return t},this.getSurface=function(){return n},this.getWorldSurface=function(e,t){return g(n,e,t)}},m.math.Ellipse=function(e,t,n){var r=Math.PI*t*n;this.getCenter=function(){return e},this.getA=function(){return t},this.getB=function(){return n},this.getSurface=function(){return r},this.getWorldSurface=function(e,t){return g(r,e,t)}},m.math.Line=function(e,t){var n=t.getX()-e.getX(),r=t.getY()-e.getY(),i=Math.sqrt(n*n+r*r);this.getBegin=function(){return e},this.getEnd=function(){return t},this.getDeltaX=function(){return n},this.getDeltaY=function(){return r},this.getLength=function(){return i},this.getWorldLength=function(e,t){var i=null;if(null!==e&&null!==t){var o=n*e,a=r*t;i=Math.sqrt(o*o+a*a)}return i},this.getMidpoint=function(){return new m.math.Point2D(parseInt((e.getX()+t.getX())/2,10),parseInt((e.getY()+t.getY())/2,10))},this.getSlope=function(){return r/n},this.getIntercept=function(){return(t.getX()*e.getY()-e.getX()*t.getY())/n},this.getInclination=function(){return 180-180*Math.atan2(r,n)/Math.PI}},m.math.getAngle=function(e,t){var n=e.getDeltaX(),r=e.getDeltaY(),i=t.getDeltaX(),o=t.getDeltaY();return 360-(180-180*Math.atan2(n*o-r*i,n*i+r*o)/Math.PI)},m.math.getPerpendicularLine=function(e,t,n){var r=0,i=0,o=0,a=0;if(0!==e.getSlope()){var s=-1/e.getSlope(),u=t.getY()-s*t.getX(),l=n/(2*Math.sqrt(1+s*s));i=s*(r=t.getX()-l)+u,a=s*(o=t.getX()+l)+u}else r=t.getX(),i=t.getY()-n/2,o=t.getX(),a=t.getY()+n/2;return new m.math.Line(new m.math.Point2D(r,i),new m.math.Point2D(o,a))},m.math.Rectangle=function(e,t){if(t.getX()<e.getX()){var n=e.getX();e=new m.math.Point2D(t.getX(),e.getY()),t=new m.math.Point2D(n,t.getY())}if(t.getY()<e.getY()){var r=e.getY();e=new m.math.Point2D(e.getX(),t.getY()),t=new m.math.Point2D(t.getX(),r)}var i=Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY());this.getBegin=function(){return e},this.getEnd=function(){return t},this.getRealWidth=function(){return t.getX()-e.getX()},this.getRealHeight=function(){return t.getY()-e.getY()},this.getWidth=function(){return Math.abs(this.getRealWidth())},this.getHeight=function(){return Math.abs(this.getRealHeight())},this.getSurface=function(){return i},this.getWorldSurface=function(e,t){return g(i,e,t)}},m.math.ROI=function(){var e=[];this.getPoint=function(t){return e[t]},this.getLength=function(){return e.length},this.addPoint=function(t){e.push(t)},this.addPoints=function(t){e=e.concat(t)}},m.math.Path=function(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]},m.math.Path.prototype.getPoint=function(e){return this.pointArray[e]},m.math.Path.prototype.isControlPoint=function(e){var t=this.pointArray.indexOf(e);if(-1!==t)return-1!==this.controlPointIndexArray.indexOf(t);throw new Error("Error: isControlPoint called with not in list point.")},m.math.Path.prototype.getLength=function(){return this.pointArray.length},m.math.Path.prototype.addPoint=function(e){this.pointArray.push(e)},m.math.Path.prototype.addControlPoint=function(e){var t=this.pointArray.indexOf(e);if(-1===t)throw new Error("Error: addControlPoint called with no point in list point.");this.controlPointIndexArray.push(t)},m.math.Path.prototype.addPoints=function(e){this.pointArray=this.pointArray.concat(e)},m.math.Path.prototype.appenPath=function(e){var t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);for(var n=[],r=0;r<e.controlPointIndexArray.length;++r)n[r]=e.controlPointIndexArray[r]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(n)},(m=m||{}).math=m.math||{},m.math.getStats=function(e){for(var t,n=e[0],r=n,i=0,o=0,a=0,s=0;s<e.length;++s)(a=e[s])<n?n=a:r<a&&(r=a),i+=a,o+=a*a;return{min:n,max:r,mean:t=i/e.length,stdDev:Math.sqrt(o/e.length-t*t)}},m.math.guid=function(){return Math.random().toString(36).substring(2,15)},(m=m||{}).math=m.math||{},m.math.Vector3D=function(e,t,n){this.getX=function(){return e},this.getY=function(){return t},this.getZ=function(){return n}},m.math.Vector3D.prototype.equals=function(e){return null!==e&&this.getX()===e.getX()&&this.getY()===e.getY()&&this.getZ()===e.getZ()},m.math.Vector3D.prototype.toString=function(){return"("+this.getX()+", "+this.getY()+", "+this.getZ()+")"},m.math.Vector3D.prototype.norm=function(){return Math.sqrt(this.getX()*this.getX()+this.getY()*this.getY()+this.getZ()*this.getZ())},m.math.Vector3D.prototype.crossProduct=function(e){return new m.math.Vector3D(this.getY()*e.getZ()-e.getY()*this.getZ(),this.getZ()*e.getX()-e.getZ()*this.getX(),this.getX()*e.getY()-e.getX()*this.getY())},m.math.Vector3D.prototype.dotProduct=function(e){return this.getX()*e.getX()+this.getY()*e.getY()+this.getZ()*e.getZ()},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.ArrowFactory=function(){this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},m.tool.ArrowFactory.prototype.create=function(e,t){var n=new m.math.Line(e[0],e[1]),r=new o.Line({points:[n.getBegin().getX(),n.getBegin().getY(),n.getEnd().getX(),n.getEnd().getY()],stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape"}),i=m.math.getPerpendicularLine(n,e[0],10),a=m.math.getPerpendicularLine(n,e[1],10);r.hitFunc(function(e){e.beginPath(),e.moveTo(i.getBegin().getX(),i.getBegin().getY()),e.lineTo(i.getEnd().getX(),i.getEnd().getY()),e.lineTo(a.getEnd().getX(),a.getEnd().getY()),e.lineTo(a.getBegin().getX(),a.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)});var s=new m.math.Point2D(n.getBegin().getX(),n.getBegin().getY()-10),u=new m.math.Line(n.getBegin(),s),l=m.math.getAngle(n,u),c=l*Math.PI/180,h=new o.RegularPolygon({x:n.getBegin().getX()+5*Math.sin(c),y:n.getBegin().getY()+5*Math.cos(c),sides:3,radius:5,rotation:-l,fill:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape-triangle"}),d=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});d.textExpr="",d.longText="",d.quant=null,d.setText(d.textExpr);var f=n.getBegin().getX()>n.getEnd().getX()?0:-1,p=n.getBegin().getY()>n.getEnd().getY()?-1:.5,g=new o.Label({x:n.getEnd().getX()+25*f,y:n.getEnd().getY()+15*p,name:"label"});g.add(d),g.add(new o.Tag);var x=new o.Group;return x.name("line-group"),x.add(r),x.add(h),x.add(g),x.visible(!0),x},m.tool.UpdateArrow=function(e){var t=e.getParent(),n=t.getChildren(function(e){return"shape"===e.name()})[0],r=t.getChildren(function(e){return"shape-triangle"===e.name()})[0],i=t.getChildren(function(e){return"label"===e.name()})[0],o=t.getChildren(function(e){return"begin"===e.id()})[0],a=t.getChildren(function(e){return"end"===e.id()})[0];switch(e.id()){case"begin":o.x(e.x()),o.y(e.y());break;case"end":a.x(e.x()),a.y(e.y())}var s=o.x()-n.x(),u=o.y()-n.y(),l=a.x()-n.x(),c=a.y()-n.y();n.points([s,u,l,c]);var h=new m.math.Point2D(o.x(),o.y()),d=new m.math.Point2D(a.x(),a.y()),f=new m.math.Line(h,d),p=new m.math.Point2D(s,u),g=new m.math.Point2D(l,c),x=m.math.getPerpendicularLine(f,p,10),v=m.math.getPerpendicularLine(f,g,10);n.hitFunc(function(e){e.beginPath(),e.moveTo(x.getBegin().getX(),x.getBegin().getY()),e.lineTo(x.getEnd().getX(),x.getEnd().getY()),e.lineTo(v.getEnd().getX(),v.getEnd().getY()),e.lineTo(v.getBegin().getX(),v.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)});var S=new m.math.Point2D(f.getBegin().getX(),f.getBegin().getY()-10),y=new m.math.Line(f.getBegin(),S),b=m.math.getAngle(f,y),C=b*Math.PI/180;r.x(f.getBegin().getX()+r.radius()*Math.sin(C)),r.y(f.getBegin().getY()+r.radius()*Math.cos(C)),r.rotation(-b);var w=i.getText();w.quant=null,w.setText(w.textExpr);var _=f.getBegin().getX()>f.getEnd().getX()?0:-1,D=f.getBegin().getY()>f.getEnd().getY()?-1:.5,T={x:f.getEnd().getX()+25*_,y:f.getEnd().getY()+15*D};i.position(T)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.Draw=function(e,t){var n=this,r=null,i=!1;this.shapeFactoryList=t;var a=null,s=null;this.shapeName=0;var u=[],l=null,c=new m.tool.ShapeEditor(e);c.setDrawEventCallback(y);var h=new o.Group,d=new o.Line({points:[-10,-10,10,10],stroke:"red"}),f=new o.Line({points:[10,-10,-10,10],stroke:"red"});h.add(d),h.add(f),this.style=new m.html.Style;var p={},g=null;function x(){v(!0)}function v(t){g.listening(t),g.hitGraphEnabled(t);var r=e.getDrawController().getCurrentPosGroup().getChildren();t?(e.addToolCanvasListeners(e.getDrawStage().getContent()),r.forEach(function(e){n.setShapeOn(e)})):(e.removeToolCanvasListeners(e.getDrawStage().getContent()),r.forEach(function(e){var t;(t=e).off("mouseover"),t.off("mouseout"),t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"),t.off("dblclick")})),g.draw()}function S(t){var n=e.getDrawStage();return{x:n.offset().x+t.x/n.scale().x,y:n.offset().y+t.y/n.scale().y}}function y(e){if(void 0!==p[e.type])for(var t=0;t<p[e.type].length;++t)p[e.type][t](e)}this.mousedown=function(t){var n=e.getDrawStage().getIntersection({x:t._xs,y:t._ys});if(n){var r=n.getParent().find(".shape")[0];r&&r!==c.getShape()&&(c.disable(),c.setShape(r),c.setImage(e.getImage()),c.enable())}else c.disable(),c.setShape(null),c.setImage(null),i=!0,u=[],l=new m.math.Point2D(t._x,t._y),u.push(l)},this.mousemove=function(t){if(i&&(0<Math.abs(t._x-l.getX())||0<Math.abs(t._y-l.getY()))){l=new m.math.Point2D(t._x,t._y),1!=u.length&&u.pop(),u.push(l);var r=new n.shapeFactoryList[n.shapeName];u.length<r.getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(function(){u.push(l)},r.getTimeout())),s&&s.destroy(),(s=r.create(u,n.style,e.getImage())).getChildren(m.draw.isNodeNameShape)[0].listening(!1),g.hitGraphEnabled(!1),g.add(s),g.draw()}},this.mouseup=function(){if(i&&1<u.length){s&&s.destroy();var t=(new n.shapeFactoryList[n.shapeName]).create(u,n.style,e.getImage());t.id(m.math.guid()),e.getDrawController().getCurrentPosGroup().add(t),g.hitGraphEnabled(!0),(a=new m.tool.DrawGroupCommand(t,n.shapeName,g)).onExecute=y,a.onUndo=y,a.execute(),e.addToUndoStack(a),n.setShapeOn(t)}i=!1},this.mouseout=function(e){n.mouseup(e)},this.touchstart=function(e){n.mousedown(e)},this.touchmove=function(e){n.mousemove(e)},this.touchend=function(e){n.mouseup(e)},this.keydown=function(t){e.onKeydown(t)},this.setup=function(){(r=new m.gui.Draw(e)).setup(this.shapeFactoryList)},this.display=function(t){r&&r.display(t),c.disable(),c.setShape(null),c.setImage(null),document.body.style.cursor="default",e.getDrawStage().listening(t),g=e.getDrawController().getDrawLayer(),v(t),t?(e.addEventListener("slice-change",x),e.addEventListener("frame-change",x)):(e.removeEventListener("slice-change",x),e.removeEventListener("frame-change",x))},this.setShapeOn=function(t){t.on("mouseover",function(){document.body.style.cursor="pointer"}),t.on("mouseout",function(){document.body.style.cursor="default"}),t.draggable(!0);var n={x:t.x(),y:t.y()},r=m.tool.GetShapeDisplayName(t.getChildren(m.draw.isNodeNameShape)[0]),i=null;t.on("dragstart.draw",function(){i=t.getChildren(m.draw.isNodeNameShape)[0].stroke();var n=e.getDrawStage(),r=n.scale(),o={x:1/r.x,y:1/r.y};h.x(n.offset().x+256/r.x),h.y(n.offset().y+20/r.y),h.scale(o),g.add(h),c.setAnchorsActive(!1),g.draw()}),t.on("dragmove.draw",function(e){var n=S(m.html.getEventOffset(e.evt)[0]);Math.abs(n.x-h.x())<10&&Math.abs(n.y-h.y())<10?(h.getChildren().each(function(e){e.stroke("orange")}),t.getChildren(m.draw.canNodeChangeColour).forEach(function(e){e.stroke("red")})):(h.getChildren().each(function(e){e.stroke("red")}),t.getChildren(m.draw.canNodeChangeColour).forEach(function(e){e.stroke(i)})),g.draw()}),t.on("dragend.draw",function(o){var a=this.x(),s=this.y();h.remove();var u=S(m.html.getEventOffset(o.evt)[0]);if(Math.abs(u.x-h.x())<10&&Math.abs(u.y-h.y())<10){this.x(n.x),this.y(n.y),c.disable(),c.setShape(null),c.setImage(null),t.getChildren(m.draw.canNodeChangeColour).forEach(function(e){e.stroke(i)}),document.body.style.cursor="default";var l=new m.tool.DeleteGroupCommand(this,r,g);l.onExecute=y,l.onUndo=y,l.execute(),e.addToUndoStack(l)}else{var d={x:a-n.x,y:s-n.y};if(0!==d.x||0!==d.y){var f=new m.tool.MoveGroupCommand(this,r,d,g);f.onExecute=y,f.onUndo=y,e.addToUndoStack(f),y({type:"draw-move"})}c.setAnchorsActive(!0),c.resetAnchors()}g.draw(),n={x:this.x(),y:this.y()}}),t.on("dblclick",function(){var e=this.findOne("Label");if(void 0===e)throw new Error("Could not find the shape label.");var t=e.getText(),n=m.gui.prompt("Shape label",t.textExpr);null!==n&&n!==t.textExpr&&(t.textExpr=n,t.setText(m.utils.replaceFlags(t.textExpr,t.quant)),y({type:"draw-change"}),g.draw())})},this.init=function(){var t=0;for(var n in this.shapeFactoryList){t=n;break}return this.setShapeName(t),r&&(this.style.setScale(e.getWindowScale()),this.setLineColour(this.style.getLineColour()),r.initialise()),!0},this.addEventListener=function(e,t){void 0===p[e]&&(p[e]=[]),p[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==p[e])for(var n=0;n<p[e].length;++n)p[e][n]===t&&p[e].splice(n,1)},this.setLineColour=function(e){this.style.setLineColour(e)}},m.tool.Draw.prototype.getHelp=function(){return{title:m.i18n("tool.Draw.name"),brief:m.i18n("tool.Draw.brief"),mouse:{mouse_drag:m.i18n("tool.Draw.mouse_drag")},touch:{touch_drag:m.i18n("tool.Draw.touch_drag")}}},m.tool.Draw.prototype.setShapeName=function(e){if(!this.hasShape(e))throw new Error("Unknown shape: '"+e+"'");this.shapeName=e},m.tool.Draw.prototype.hasShape=function(e){return this.shapeFactoryList[e]},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.GetShapeDisplayName=function(e){var t="shape";return e instanceof o.Line?t=4===e.points().length?"line":6===e.points().length?"protractor":"roi":e instanceof o.Rect?t="rectangle":e instanceof o.Ellipse&&(t="ellipse"),t},m.tool.DrawGroupCommand=function(e,t,n,r){var i=void 0!==r,o=e.getParent();this.getName=function(){return"Draw-"+t},this.execute=function(){o.add(e),n.draw(),i||this.onExecute({type:"draw-create",id:e.id()})},this.undo=function(){e.remove(),n.draw(),this.onUndo({type:"draw-delete",id:e.id()})}},m.tool.DrawGroupCommand.prototype.onExecute=function(){},m.tool.DrawGroupCommand.prototype.onUndo=function(){},m.tool.MoveGroupCommand=function(e,t,n,r){this.getName=function(){return"Move-"+t},this.execute=function(){e.move(n),r.draw(),this.onExecute({type:"draw-move",id:e.id()})},this.undo=function(){e.move({x:-n.x,y:-n.y}),r.draw(),this.onUndo({type:"draw-move",id:e.id()})}},m.tool.MoveGroupCommand.prototype.onExecute=function(){},m.tool.MoveGroupCommand.prototype.onUndo=function(){},m.tool.ChangeGroupCommand=function(e,t,n,r,i,o){this.getName=function(){return"Change-"+e},this.execute=function(){t(r,o),i.draw(),this.onExecute({type:"draw-change"})},this.undo=function(){t(n,o),i.draw(),this.onUndo({type:"draw-change"})}},m.tool.ChangeGroupCommand.prototype.onExecute=function(){},m.tool.ChangeGroupCommand.prototype.onUndo=function(){},m.tool.DeleteGroupCommand=function(e,t,n){var r=e.getParent();this.getName=function(){return"Delete-"+t},this.execute=function(){e.remove(),n.draw(),this.onExecute({type:"draw-delete",id:e.id()})},this.undo=function(){r.add(e),n.draw(),this.onUndo({type:"draw-create",id:e.id()})}},m.tool.DeleteGroupCommand.prototype.onExecute=function(){},m.tool.DeleteGroupCommand.prototype.onUndo=function(){},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.ShapeEditor=function(e){var t=null,n=null,r=!1,i=null,a=null;function s(e){t&&t.getParent()&&t.getParent().find(".anchor").each(e)}function u(e){s(function(t){t.visible(e)})}function l(){s(function(e){e.remove()})}function c(){if(t&&t.getLayer()){var e=t.getParent();if(t instanceof o.Line){var n=t.points();if(4===n.length||6===n.length){var r=n[0]+t.x(),a=n[1]+t.y(),s=n[2]+t.x(),u=n[3]+t.y();if(h(e,r,a,"begin"),4===n.length){var l=e.getChildren(m.draw.isNodeNameShapeExtra);i=2===l.length?m.tool.UpdateRuler:m.tool.UpdateArrow,h(e,s,u,"end")}else i=m.tool.UpdateProtractor,h(e,s,u,"mid"),h(e,n[4]+t.x(),n[5]+t.y(),"end")}else{i=m.tool.UpdateRoi;for(var c=0;c<n.length;c+=2)h(e,n[c]+t.x(),n[c+1]+t.y(),c)}}else if(t instanceof o.Rect){i=m.tool.UpdateRect;var d=t.x(),f=t.y(),p=t.width(),g=t.height();h(e,d,f,"topLeft"),h(e,d+p,f,"topRight"),h(e,d+p,f+g,"bottomRight"),h(e,d,f+g,"bottomLeft")}else if(t instanceof o.Ellipse){i=m.tool.UpdateEllipse;var x=t.x(),v=t.y(),S=t.radius();h(e,x-S.x,v-S.y,"topLeft"),h(e,x+S.x,v-S.y,"topRight"),h(e,x+S.x,v+S.y,"bottomRight"),h(e,x-S.x,v+S.y,"bottomLeft")}}}function h(t,n,r,i){var a=new o.Circle({x:n,y:r,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:e.getStyle().getScaledStrokeWidth()/e.getScale(),radius:e.getStyle().scale(6)/e.getScale(),name:"anchor",id:i,dragOnTop:!1,draggable:!0,visible:!1});f(a),t.add(a)}function d(e){var t=e.getParent(),n=e.id(),r=e.x(),i=e.y();return{getParent:function(){return t},id:function(){return n},x:function(){return r},y:function(){return i}}}function f(r){var o=null,s=m.tool.GetShapeDisplayName(t);r.on("dragstart.edit",function(e){o=d(this),e.cancelBubble=!0}),r.on("dragmove.edit",function(e){i&&i(this,n),this.getLayer()?this.getLayer().draw():console.warn("No layer to draw the anchor!"),e.cancelBubble=!0}),r.on("dragend.edit",function(t){var r=d(this),u=new m.tool.ChangeGroupCommand(s,i,o,r,this.getLayer(),n);u.onExecute=a,u.onUndo=a,u.execute(),e.addToUndoStack(u),o=r,t.cancelBubble=!0}),r.on("mousedown touchstart",function(){this.moveToTop()}),r.on("mouseover.edit",function(){this.stroke("#ddd"),this.getLayer()?this.getLayer().draw():console.warn("No layer to draw the anchor!")}),r.on("mouseout.edit",function(){this.stroke("#999"),this.getLayer()?this.getLayer().draw():console.warn("No layer to draw the anchor!")})}this.setShape=function(e){(t=e)&&(l(),c())},this.setImage=function(e){n=e},this.getShape=function(){return t},this.isActive=function(){return r},this.setDrawEventCallback=function(e){a=e},this.enable=function(){r=!0,t&&(u(!0),t.getLayer()&&t.getLayer().draw())},this.disable=function(){r=!1,t&&(u(!1),t.getLayer()&&t.getLayer().draw())},this.resetAnchors=function(){l(),c(),u(!0)},this.setAnchorsActive=function(e){s(e?function(e){f(e)}:function(e){var t;(t=e).off("dragstart.edit"),t.off("dragmove.edit"),t.off("dragend.edit"),t.off("mousedown touchstart"),t.off("mouseover.edit"),t.off("mouseout.edit")})}},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.EllipseFactory=function(){this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},m.tool.EllipseFactory.prototype.create=function(e,t,n){var r=Math.abs(e[0].getX()-e[1].getX()),i=Math.abs(e[0].getY()-e[1].getY()),a=new m.math.Ellipse(e[0],r,i),s=new o.Ellipse({x:a.getCenter().getX(),y:a.getCenter().getY(),radius:{x:a.getA(),y:a.getB()},stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape"}),u=n.quantifyEllipse(a),l=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});l.textExpr="{surface}",l.longText="",l.quant=u,l.setText(m.utils.replaceFlags(l.textExpr,l.quant));var c=new o.Label({x:a.getCenter().getX(),y:a.getCenter().getY(),name:"label"});c.add(l),c.add(new o.Tag);var h=new o.Group;return h.name("ellipse-group"),h.add(s),h.add(c),h.visible(!0),h},m.tool.UpdateEllipse=function(e,t){var n=e.getParent(),r=n.getChildren(function(e){return"shape"===e.name()})[0],i=n.getChildren(function(e){return"label"===e.name()})[0],o=n.getChildren(function(e){return"topLeft"===e.id()})[0],a=n.getChildren(function(e){return"topRight"===e.id()})[0],s=n.getChildren(function(e){return"bottomRight"===e.id()})[0],u=n.getChildren(function(e){return"bottomLeft"===e.id()})[0];switch(e.id()){case"topLeft":o.x(e.x()),o.y(e.y()),a.y(e.y()),u.x(e.x());break;case"topRight":a.x(e.x()),a.y(e.y()),o.y(e.y()),s.x(e.x());break;case"bottomRight":s.x(e.x()),s.y(e.y()),u.y(e.y()),a.x(e.x());break;case"bottomLeft":u.x(e.x()),u.y(e.y()),s.y(e.y()),o.x(e.x());break;default:console.error("Unhandled anchor id: "+e.id())}var l=(a.x()-o.x())/2,c=(s.y()-a.y())/2,h={x:o.x()+l,y:a.y()+c};r.position(h);var d={x:Math.abs(l),y:Math.abs(c)};r.radius(d);var f=new m.math.Ellipse(h,d.x,d.y),p=t.quantifyEllipse(f),g=i.getText();g.quant=p,g.setText(m.utils.replaceFlags(g.textExpr,g.quant)),i.position({x:h.x,y:h.y})},(m=m||{}).tool=m.tool||{},m.tool.filter=m.tool.filter||{},m.tool.Filter=function(e,t){var n=null;this.filterList=e,this.selectedFilter=0,this.defaultFilterName=0,this.displayed=!1;var r=new m.utils.ListenerHandler;function i(e){r.fireEvent(e)}this.setup=function(){if(0!==Object.keys(this.filterList).length)for(var e in(n=new m.gui.Filter(t)).setup(this.filterList),this.filterList)this.filterList[e].setup(),this.filterList[e].addEventListener("filter-run",i),this.filterList[e].addEventListener("filter-undo",i)},this.display=function(e){n&&n.display(e),this.displayed=e,this.selectedFilter.display(e)},this.init=function(){for(var e in this.filterList){this.defaultFilterName=e;break}for(e in this.setSelectedFilter(this.defaultFilterName),this.filterList)this.filterList[e].init();return n&&n.initialise(),!0},this.keydown=function(e){t.onKeydown(e)},this.addEventListener=function(e,t){r.add(e,t)},this.removeEventListener=function(e,t){r.remove(e,t)}},m.tool.Filter.prototype.getHelp=function(){return{title:m.i18n("tool.Filter.name"),brief:m.i18n("tool.Filter.brief")}},m.tool.Filter.prototype.getSelectedFilter=function(){return this.selectedFilter},m.tool.Filter.prototype.setSelectedFilter=function(e){if(!this.hasFilter(e))throw new Error("Unknown filter: '"+e+"'");this.displayed&&this.selectedFilter.display(!1),this.selectedFilter=this.filterList[e],this.displayed&&this.selectedFilter.display(!0)},m.tool.Filter.prototype.getFilterList=function(){return this.filterList},m.tool.Filter.prototype.hasFilter=function(e){return this.filterList[e]},m.tool.filter.Threshold=function(e){var t=new m.image.filter.Threshold,n=new m.gui.Threshold(e),r=!0,i=new m.utils.ListenerHandler;function o(e){i.fireEvent(e)}this.setup=function(){n.setup()},this.display=function(e){n.display(e),e&&(r=!0)},this.init=function(){n.initialise()},this.run=function(n){t.setMin(n.min),t.setMax(n.max),r&&(t.setOriginalImage(e.getImage()),r=!1);var i=new m.tool.RunFilterCommand(t,e);i.onExecute=o,i.onUndo=o,i.execute(),e.addToUndoStack(i)},this.addEventListener=function(e,t){i.add(e,t)},this.removeEventListener=function(e,t){i.remove(e,t)}},m.tool.filter.Sharpen=function(e){var t=new m.gui.Sharpen(e),n=new m.utils.ListenerHandler;function r(e){n.fireEvent(e)}this.setup=function(){t.setup()},this.display=function(e){t.display(e)},this.init=function(){},this.run=function(){var t=new m.image.filter.Sharpen;t.setOriginalImage(e.getImage());var n=new m.tool.RunFilterCommand(t,e);n.onExecute=r,n.onUndo=r,n.execute(),e.addToUndoStack(n)},this.addEventListener=function(e,t){n.add(e,t)},this.removeEventListener=function(e,t){n.remove(e,t)}},m.tool.filter.Sobel=function(e){var t=new m.gui.Sobel(e),n=new m.utils.ListenerHandler;function r(e){n.fireEvent(e)}this.setup=function(){t.setup()},this.display=function(e){t.display(e)},this.init=function(){},m.tool.filter.Sobel.prototype.run=function(){var t=new m.image.filter.Sobel;t.setOriginalImage(e.getImage());var n=new m.tool.RunFilterCommand(t,e);n.onExecute=r,n.onUndo=r,n.execute(),e.addToUndoStack(n)},this.addEventListener=function(e,t){n.add(e,t)},this.removeEventListener=function(e,t){n.remove(e,t)}},m.tool.RunFilterCommand=function(e,t){this.getName=function(){return"Filter-"+e.getName()},this.execute=function(){t.setImage(e.update()),t.render(),this.onExecute({type:"filter-run",id:this.getName()})},this.undo=function(){t.setImage(e.getOriginalImage()),t.render(),this.onUndo({type:"filter-undo",id:this.getName()})}},m.tool.RunFilterCommand.prototype.onExecute=function(){},m.tool.RunFilterCommand.prototype.onUndo=function(){},(m=m||{}).tool=m.tool||{},a=a||{},m.tool.Floodfill=function(e){var t=null,n=null,r=null,i=this;this.started=!1;var o,s,u=null,l=null,c=null,h=null,d=[],f=!1;this.style=new m.html.Style;var p=[];this.setExtend=function(e){f=e},this.getExtend=function(){return f};var g=function(e){return{x:e._x,y:e._y}},x=function(e,r,i){d=[],n=a.floodFill({data:t.data,width:t.width,height:t.height,bytes:4},e.x,e.y,r),n=a.gaussBlurOnlyBorder(n,5);var o=a.traceContours(n);if(0<(o=a.simplifyContours(o,0,2e3)).length&&o[0].points[0].x){if(i)return o[0].points;for(var s=0,u=o[0].points.length;s<u;s++)d.push(new m.math.Point2D(o[0].points[s].x,o[0].points[s].y));return d}return!1},v=function(t,n){if(h=x(t,n)){var r=new m.tool.RoiFactory;return(c=r.create(h,i.style)).id(m.math.guid()),e.getDrawController().getCurrentPosGroup().add(c),(l=new m.tool.DrawGroupCommand(c,"floodfill",e.getDrawController().getDrawLayer())).onExecute=S,l.onUndo=S,l.execute(),e.addToUndoStack(l),!0}return!1};function S(e){for(var t=0;t<p.length;++t)p[t](e)}this.extend=function(t,n){if(!o)throw"'initialpoint' not found. User must click before use extend!";c&&c.destroy();for(var i=e.getViewController().getCurrentPosition(),a=r||10,s=i.k,u=n||e.getImage().getGeometry().getSize().getNumberOfSlices();s<u&&v(o,a);s++)e.getViewController().incrementSliceNb();e.getViewController().setCurrentPosition(i);for(var l=i.k,h=t||0;h<l&&v(o,a);l--)e.getViewController().decrementSliceNb();e.getViewController().setCurrentPosition(i)},this.modifyThreshold=function(e,t){if(t||!c)throw"No shape found";t=c.getChildren(function(e){return"shape"===e.name()})[0],clearTimeout(s),s=setTimeout(function(){if(!(h=x(o,e,!0)))return!1;for(var n=[],r=0,a=h.length;r<a;++r)n.push(h[r].x),n.push(h[r].y);t.setPoints(n),t.getLayer().draw(),i.onThresholdChange(e)},100)},this.onThresholdChange=function(){},this.mousedown=function(n){if(!(t=e.getImageData()))return console.error("No image found");i.started=!0,o=g(n),v(o,10),i.onThresholdChange(10)},this.mousemove=function(e){if(i.started){var t=g(e);r=(r=Math.round(Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2))/2))<10?10:r-10,i.modifyThreshold(r)}},this.mouseup=function(){i.started=!1,f&&i.extend()},this.mouseout=function(){i.mouseup()},this.touchstart=function(e){i.mousedown(e)},this.touchmove=function(e){i.mousemove(e)},this.touchend=function(){i.mouseup()},this.keydown=function(t){e.onKeydown(t)},this.setup=function(){(u=new m.gui.ColourTool(e,"ff")).setup()},this.display=function(e){u&&u.display(e),this.init()},this.init=function(){return u&&(this.style.setScale(e.getWindowScale()),this.setLineColour(this.style.getLineColour()),u.initialise()),!0},this.addEventListener=function(e){p.push(e)},this.removeEventListener=function(e){for(var t=0;t<p.length;++t)p[t]===e&&p.splice(t,1)}},m.tool.Floodfill.prototype.getHelp=function(){return{title:m.i18n("tool.Floodfill.name"),brief:m.i18n("tool.Floodfill.brief"),mouse:{click:m.i18n("tool.Floodfill.click")},touch:{tap:m.i18n("tool.Floodfill.tap")}}},m.tool.Floodfill.prototype.setLineColour=function(e){this.style.setLineColour(e)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.FreeHandFactory=function(){this.getNPoints=function(){return 1e3},this.getTimeout=function(){return 25}},m.tool.FreeHandFactory.prototype.create=function(e,t){for(var n=[],r=0;r<e.length;++r)n.push(e[r].getX()),n.push(e[r].getY());var i=new o.Line({points:n,stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape",tension:.5}),a=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});a.textExpr="",a.longText="",a.quant=null,a.setText(a.textExpr);var s=new o.Label({x:e[0].getX(),y:e[0].getY()+10,name:"label"});s.add(a),s.add(new o.Tag);var u=new o.Group;return u.name("freeHand-group"),u.add(i),u.add(s),u.visible(!0),u},m.tool.UpdateFreeHand=function(e){var t=e.getParent(),n=t.getChildren(function(e){return"shape"===e.name()})[0],r=t.getChildren(function(e){return"label"===e.name()})[0],i=t.getChildren(function(t){return t.id()===e.id()})[0];i.x(e.x()),i.y(e.y());var o=n.points();o[e.id()]=e.x()-n.x(),o[e.id()+1]=e.y()-n.y(),n.points(o);var a=r.getText();a.quant=null,a.setText(m.utils.replaceFlags(a.textExpr,a.quant));var s={x:o[0]+n.x(),y:o[1]+n.y()+10};r.position(s)},(m=m||{}).tool=m.tool||{},m.tool.Livewire=function(e){var t=this,n=null;this.started=!1;var r=null,i=null;this.style=new m.html.Style,this.style.setScale(e.getWindowScale());var o=new m.math.Path,a=new m.math.Path,s=[],u=[];function l(){for(var t=e.getImage().getGeometry().getSize().getNumberOfRows(),n=0;n<t;++n)s[n]=[]}var c=new m.math.Scissors;function h(e){for(var t=0;t<u.length;++t)u[t](e)}this.mousedown=function(n){if(t.started)if(Math.abs(n._x-t.x0)<5&&Math.abs(n._y-t.y0)<5)t.mousemove(n),r.onExecute=h,r.onUndo=h,console.log("Done."),e.addToUndoStack(r),t.started=!1;else{o=a,l();var i=new m.math.FastPoint2D(n._x,n._y);c.doTraining(i),o.addControlPoint(a.getPoint(0))}else{t.started=!0,t.x0=n._x,t.y0=n._y,o=new m.math.Path,a=new m.math.Path,l();var s=new m.math.FastPoint2D(n._x,n._y);c.doTraining(s);var u=new m.math.Point2D(n._x,n._y);o.addPoint(u),o.addControlPoint(u)}},this.mousemove=function(n){if(t.started){var u=new m.math.FastPoint2D(n._x,n._y);c.setPoint(u);for(var l=0,h=!1;!s[u.y][u.x]&&!h;)if(console.log("Getting ready..."),0===(l=c.doWork()).length)h=!0;else for(var d=0;d<l.length-1;d+=2){var f=l[d];s[f.y][f.x]=l[d+1]}for(console.log("Ready!"),a=new m.math.Path,h=!1;u&&!h;)a.addPoint(new m.math.Point2D(u.x,u.y)),s[u.y]&&s[u.y][u.x]?u=s[u.y][u.x]:h=!0;a.appenPath(o),i&&i.destroy();var p=new m.tool.RoiFactory;(i=p.create(a.pointArray,t.style)).id(m.math.guid()),e.getDrawController().getCurrentPosGroup().add(i),(r=new m.tool.DrawGroupCommand(i,"livewire",e.getDrawController().getDrawLayer())).execute()}},this.mouseup=function(){},this.mouseout=function(e){t.mouseup(e)},this.dblclick=function(){console.log("dblclick"),e.addToUndoStack(r),t.started=!1},this.touchstart=function(e){t.mousedown(e)},this.touchmove=function(e){t.mousemove(e)},this.touchend=function(e){t.mouseup(e)},this.keydown=function(t){e.onKeydown(t)},this.setup=function(){(n=new m.gui.ColourTool(e,"lw")).setup()},this.display=function(t){if(n&&n.display(t),t){var r=e.getImage().getGeometry().getSize();c.setDimensions(r.getNumberOfColumns(),r.getNumberOfRows()),c.setData(e.getImageData().data)}},this.init=function(){return n&&(this.style.setScale(e.getWindowScale()),this.setLineColour(this.style.getLineColour()),n.initialise()),!0},this.addEventListener=function(e){u.push(e)},this.removeEventListener=function(e){for(var t=0;t<u.length;++t)u[t]===e&&u.splice(t,1)}},m.tool.Livewire.prototype.getHelp=function(){return{title:m.i18n("tool.Livewire.name"),brief:m.i18n("tool.Livewire.brief")}},m.tool.Livewire.prototype.setLineColour=function(e){this.style.setLineColour(e)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.ProtractorFactory=function(){this.getNPoints=function(){return 3},this.getTimeout=function(){return 500}},m.tool.ProtractorFactory.prototype.create=function(e,t){for(var n=new m.math.Line(e[0],e[1]),r=[],i=0;i<e.length;++i)r.push(e[i].getX()),r.push(e[i].getY());var a=new o.Line({points:r,stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape"}),s=new o.Group;if(s.name("protractor-group"),s.add(a),s.visible(!0),3===e.length){var u=new m.math.Line(e[1],e[2]);a.hitFunc(function(t){t.beginPath(),t.moveTo(e[0].getX(),e[0].getY()),t.lineTo(e[1].getX(),e[1].getY()),t.lineTo(e[2].getX(),e[2].getY()),t.closePath(),t.fillStrokeShape(this)});var l=m.math.getAngle(n,u),c=n.getInclination();180<l&&(c+=l=360-l);var h={angle:{value:l,unit:m.i18n("unit.degree")}},d=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});d.textExpr="{angle}",d.longText="",d.quant=h,d.setText(m.utils.replaceFlags(d.textExpr,d.quant));var f=(n.getMidpoint().getX()+u.getMidpoint().getX())/2,p=(n.getMidpoint().getY()+u.getMidpoint().getY())/2,g=new o.Label({x:f,y:p-15,name:"label"});g.add(d),g.add(new o.Tag);var x=33*Math.min(n.getLength(),u.getLength())/100,v=new o.Arc({innerRadius:x,outerRadius:x,stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),angle:l,rotation:-c,x:e[1].getX(),y:e[1].getY(),name:"shape-arc"});s.add(g),s.add(v)}return s},m.tool.UpdateProtractor=function(e){var t=e.getParent(),n=t.getChildren(function(e){return"shape"===e.name()})[0],r=t.getChildren(function(e){return"label"===e.name()})[0],i=t.getChildren(function(e){return"shape-arc"===e.name()})[0],o=t.getChildren(function(e){return"begin"===e.id()})[0],a=t.getChildren(function(e){return"mid"===e.id()})[0],s=t.getChildren(function(e){return"end"===e.id()})[0];switch(e.id()){case"begin":o.x(e.x()),o.y(e.y());break;case"mid":a.x(e.x()),a.y(e.y());break;case"end":s.x(e.x()),s.y(e.y())}var u=o.x()-n.x(),l=o.y()-n.y(),c=a.x()-n.x(),h=a.y()-n.y(),d=s.x()-n.x(),f=s.y()-n.y();n.points([u,l,c,h,d,f]),n.hitFunc(function(e){e.beginPath(),e.moveTo(u,l),e.lineTo(c,h),e.lineTo(d,f),e.closePath(),e.fillStrokeShape(this)});var p=new m.math.Point2D(o.x(),o.y()),g=new m.math.Point2D(a.x(),a.y()),x=new m.math.Point2D(s.x(),s.y()),v=new m.math.Line(p,g),S=new m.math.Line(g,x),y=m.math.getAngle(v,S),b=v.getInclination();180<y&&(b+=y=360-y);var C={angle:{value:y,unit:m.i18n("unit.degree")}},w=r.getText();w.quant=C,w.setText(m.utils.replaceFlags(w.textExpr,w.quant));var _={x:(v.getMidpoint().getX()+S.getMidpoint().getX())/2,y:(v.getMidpoint().getY()+S.getMidpoint().getY())/2-15};r.position(_);var D=33*Math.min(v.getLength(),S.getLength())/100;i.innerRadius(D),i.outerRadius(D),i.angle(y),i.rotation(-b);var T={x:a.x(),y:a.y()};i.position(T)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.RectangleFactory=function(){this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},m.tool.RectangleFactory.prototype.create=function(e,t,n){var r=new m.math.Rectangle(e[0],e[1]),i=new o.Rect({x:r.getBegin().getX(),y:r.getBegin().getY(),width:r.getWidth(),height:r.getHeight(),stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape"}),a=n.quantifyRect(r),s=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});s.textExpr="{surface}",s.longText="",s.quant=a,s.setText(m.utils.replaceFlags(s.textExpr,s.quant));var u=new o.Label({x:r.getBegin().getX(),y:r.getEnd().getY()+10,name:"label"});u.add(s),u.add(new o.Tag);var l=new o.Group;return l.name("rectangle-group"),l.add(i),l.add(u),l.visible(!0),l},m.tool.UpdateRect=function(e,t){var n=e.getParent(),r=n.getChildren(function(e){return"shape"===e.name()})[0],i=n.getChildren(function(e){return"label"===e.name()})[0],o=n.getChildren(function(e){return"topLeft"===e.id()})[0],a=n.getChildren(function(e){return"topRight"===e.id()})[0],s=n.getChildren(function(e){return"bottomRight"===e.id()})[0],u=n.getChildren(function(e){return"bottomLeft"===e.id()})[0];switch(e.id()){case"topLeft":o.x(e.x()),o.y(e.y()),a.y(e.y()),u.x(e.x());break;case"topRight":a.x(e.x()),a.y(e.y()),o.y(e.y()),s.x(e.x());break;case"bottomRight":s.x(e.x()),s.y(e.y()),u.y(e.y()),a.x(e.x());break;case"bottomLeft":u.x(e.x()),u.y(e.y()),s.y(e.y()),o.x(e.x());break;default:console.error("Unhandled anchor id: "+e.id())}r.position(o.position());var l=a.x()-o.x(),c=u.y()-o.y();l&&c&&r.size({width:l,height:c});var h=new m.math.Point2D(o.x(),o.y()),d=new m.math.Point2D(s.x(),s.y()),f=new m.math.Rectangle(h,d),p=t.quantifyRect(f),g=i.getText();g.quant=p,g.setText(m.utils.replaceFlags(g.textExpr,g.quant));var x={x:f.getBegin().getX(),y:f.getEnd().getY()+10};i.position(x)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.RoiFactory=function(){this.getNPoints=function(){return 50},this.getTimeout=function(){return 100}},m.tool.RoiFactory.prototype.create=function(e,t){var n=new m.math.ROI;n.addPoints(e);for(var r=[],i=0;i<n.getLength();++i)r.push(n.getPoint(i).getX()),r.push(n.getPoint(i).getY());var a=new o.Line({points:r,stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape",closed:!0}),s=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});s.textExpr="",s.longText="",s.quant=null,s.setText(m.utils.replaceFlags(s.textExpr,s.quant));var u=new o.Label({x:n.getPoint(0).getX(),y:n.getPoint(0).getY()+10,name:"label"});u.add(s),u.add(new o.Tag);var l=new o.Group;return l.name("roi-group"),l.add(a),l.add(u),l.visible(!0),l},m.tool.UpdateRoi=function(e){var t=e.getParent(),n=t.getChildren(function(e){return"shape"===e.name()})[0],r=t.getChildren(function(e){return"label"===e.name()})[0],i=t.getChildren(function(t){return t.id()===e.id()})[0];i.x(e.x()),i.y(e.y());var o=n.points();o[e.id()]=e.x()-n.x(),o[e.id()+1]=e.y()-n.y(),n.points(o);var a=r.getText();a.quant=null,a.setText(m.utils.replaceFlags(a.textExpr,a.quant));var s={x:o[0]+n.x(),y:o[1]+n.y()+10};r.position(s)},(m=m||{}).tool=m.tool||{},o=o||{},m.tool.RulerFactory=function(){this.getNPoints=function(){return 2},this.getTimeout=function(){return 0}},m.tool.RulerFactory.prototype.create=function(e,t,n){var r=new m.math.Line(e[0],e[1]),i=new o.Line({points:[r.getBegin().getX(),r.getBegin().getY(),r.getEnd().getX(),r.getEnd().getY()],stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape"}),a=m.math.getPerpendicularLine(r,e[0],10),s=new o.Line({points:[a.getBegin().getX(),a.getBegin().getY(),a.getEnd().getX(),a.getEnd().getY()],stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape-tick0"}),u=m.math.getPerpendicularLine(r,e[1],10),l=new o.Line({points:[u.getBegin().getX(),u.getBegin().getY(),u.getEnd().getX(),u.getEnd().getY()],stroke:t.getLineColour(),strokeWidth:t.getScaledStrokeWidth(),name:"shape-tick1"});i.hitFunc(function(e){e.beginPath(),e.moveTo(a.getBegin().getX(),a.getBegin().getY()),e.lineTo(a.getEnd().getX(),a.getEnd().getY()),e.lineTo(u.getEnd().getX(),u.getEnd().getY()),e.lineTo(u.getBegin().getX(),u.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)});var c=n.quantifyLine(r),h=new o.Text({fontSize:t.getScaledFontSize(),fontFamily:t.getFontFamily(),fill:t.getLineColour(),name:"text"});h.textExpr="{length}",h.longText="",h.quant=c,h.setText(m.utils.replaceFlags(h.textExpr,h.quant));var d=r.getBegin().getX()>r.getEnd().getX()?0:-1,f=r.getBegin().getY()>r.getEnd().getY()?-1:.5,p=new o.Label({x:r.getEnd().getX()+25*d,y:r.getEnd().getY()+15*f,name:"label"});p.add(h),p.add(new o.Tag);var g=new o.Group;return g.name("ruler-group"),g.add(i),g.add(s),g.add(l),g.add(p),g.visible(!0),g},m.tool.UpdateRuler=function(e,t){var n=e.getParent(),r=n.getChildren(function(e){return"shape"===e.name()})[0],i=n.getChildren(function(e){return"shape-tick0"===e.name()})[0],o=n.getChildren(function(e){return"shape-tick1"===e.name()})[0],a=n.getChildren(function(e){return"label"===e.name()})[0],s=n.getChildren(function(e){return"begin"===e.id()})[0],u=n.getChildren(function(e){return"end"===e.id()})[0];switch(e.id()){case"begin":s.x(e.x()),s.y(e.y());break;case"end":u.x(e.x()),u.y(e.y())}var l=s.x()-r.x(),c=s.y()-r.y(),h=u.x()-r.x(),d=u.y()-r.y();r.points([l,c,h,d]);var f=new m.math.Point2D(s.x(),s.y()),p=new m.math.Point2D(u.x(),u.y()),g=new m.math.Line(f,p),x=new m.math.Point2D(l,c),v=new m.math.Point2D(h,d),S=m.math.getPerpendicularLine(g,x,10);i.points([S.getBegin().getX(),S.getBegin().getY(),S.getEnd().getX(),S.getEnd().getY()]);var y=m.math.getPerpendicularLine(g,v,10);o.points([y.getBegin().getX(),y.getBegin().getY(),y.getEnd().getX(),y.getEnd().getY()]),r.hitFunc(function(e){e.beginPath(),e.moveTo(S.getBegin().getX(),S.getBegin().getY()),e.lineTo(S.getEnd().getX(),S.getEnd().getY()),e.lineTo(y.getEnd().getX(),y.getEnd().getY()),e.lineTo(y.getBegin().getX(),y.getBegin().getY()),e.closePath(),e.fillStrokeShape(this)});var b=t.quantifyLine(g),C=a.getText();C.quant=b,C.setText(m.utils.replaceFlags(C.textExpr,C.quant));var w=g.getBegin().getX()>g.getEnd().getX()?0:-1,_=g.getBegin().getY()>g.getEnd().getY()?-1:.5,D={x:g.getEnd().getX()+25*w,y:g.getEnd().getY()+15*_};a.position(D)},(m=m||{}).tool=m.tool||{},m.tool.Scroll=function(e){var t=this,n=null;this.started=!1;var r=null;function i(t){var n=1!==e.getImage().getGeometry().getSize().getNumberOfSlices(),r=1!==e.getImage().getNumberOfFrames();t?n?e.getViewController().incrementSliceNb():r&&e.getViewController().incrementFrameNb():n?e.getViewController().decrementSliceNb():r&&e.getViewController().decrementFrameNb()}this.mousedown=function(n){e.getViewController().isPlaying()&&e.getViewController().stop(),t.started=!0,t.x0=n._x,t.y0=n._y},this.mousemove=function(n){if(t.started){var r=n._y-t.y0,i=15<Math.abs(r);i&&(0<r?e.getViewController().decrementSliceNb():e.getViewController().incrementSliceNb());var o=n._x-t.x0,a=15<Math.abs(o);a&&(0<o?e.getViewController().incrementFrameNb():e.getViewController().decrementFrameNb()),a&&(t.x0=n._x),i&&(t.y0=n._y)}},this.mouseup=function(){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){r=setTimeout(t.dblclick,500),t.mousedown(e)},this.touchmove=function(e){null!==r&&(clearTimeout(r),r=null),t.mousemove(e)},this.touchend=function(e){null!==r&&(clearTimeout(r),r=null),t.mouseup(e)},this.DOMMouseScroll=function(e){i(e.detail<0)},this.mousewheel=function(e){i(0<e.wheelDelta)},this.keydown=function(t){e.onKeydown(t)},this.dblclick=function(){e.getViewController().play()},this.setup=function(){(n=new m.gui.Scroll(e)).setup()},this.display=function(e){n&&n.display(e)},this.init=function(){return!e.isMonoSliceData()||1!==e.getImage().getNumberOfFrames()}},m.tool.Scroll.prototype.getHelp=function(){return{title:m.i18n("tool.Scroll.name"),brief:m.i18n("tool.Scroll.brief"),mouse:{mouse_drag:m.i18n("tool.Scroll.mouse_drag"),double_click:m.i18n("tool.Scroll.double_click")},touch:{touch_drag:m.i18n("tool.Scroll.touch_drag"),tap_and_hold:m.i18n("tool.Scroll.tap_and_hold")}}},(m=m||{}).tool=m.tool||{},m.tool.Toolbox=function(e,t){var n=null,r=null,i=null;this.getToolList=function(){return e},this.getSelectedTool=function(){return r},this.setup=function(){if(0!==Object.keys(e).length)for(var r in(n=new m.gui.Toolbox(t)).setup(e),e)e[r].setup()},this.display=function(t){0!==Object.keys(e).length&&n&&n.display(t)},this.init=function(){if(0!==Object.keys(e).length){i="";var t=[],r=null;for(var o in e)(r=e[o].init())&&""===i&&(i=o),t.push(r);this.setSelectedTool(i),n&&n.initialise(t)}},this.setSelectedTool=function(t){if(!this.hasTool(t))throw new Error("Unknown tool: '"+t+"'");r&&r.display(!1),(r=e[t]).display(!0)},this.reset=function(){r&&r.display(!1),i=r=null}},m.tool.Toolbox.prototype.hasTool=function(e){return this.getToolList()[e]},(m=m||{}).tool=m.tool||{},m.tool.UndoStack=function(e){var t=new m.gui.Undo(e),n=[];this.getStack=function(){return n};var r=0;this.add=function(e){(n=n.slice(0,r)).push(e),++r,t.addCommandToUndoHtml(e.getName())},this.undo=function(){0<r&&(n[--r].undo(),t.enableInUndoHtml(!1))},this.redo=function(){r<n.length&&(n[r].execute(),++r,t.enableInUndoHtml(!0))},this.setup=function(){t.setup()},this.initialise=function(){t.initialise()}},(m=m||{}).tool=m.tool||{},m.tool.WindowLevel=function(e){var t=this,n=null;this.started=!1,this.mousedown=function(n){t.started=!0,t.x0=n._x,t.y0=n._y,e.getViewController().setCurrentPosition2D(n._x,n._y)},this.mousemove=function(r){if(t.started){var i=r._x-t.x0,o=t.y0-r._y,a=parseInt(e.getViewController().getWindowLevel().center,10)+o,s=parseInt(e.getViewController().getWindowLevel().width,10)+i;e.getViewController().addWindowLevelPresets({manual:{wl:new m.image.WindowLevel(a,s),name:"manual"}}),e.getViewController().setWindowLevelPreset("manual"),n&&(n.initialise(),m.gui.setSelected(e.getElement("presetSelect"),"manual")),t.x0=r._x,t.y0=r._y}},this.mouseup=function(){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){t.mousedown(e)},this.touchmove=function(e){t.mousemove(e)},this.touchend=function(e){t.mouseup(e)},this.dblclick=function(t){e.getViewController().setWindowLevel(parseInt(e.getImage().getRescaledValue(t._x,t._y,e.getViewController().getCurrentPosition().k),10),parseInt(e.getViewController().getWindowLevel().width,10))},this.keydown=function(t){e.onKeydown(t)},this.setup=function(){(n=new m.gui.WindowLevel(e)).setup()},this.display=function(t){n&&(null!==e.getImage().getPhotometricInterpretation().match(/MONOCHROME/)?n.display(t):n.display(!1))},this.init=function(){return n&&n.initialise(),!0}},m.tool.WindowLevel.prototype.getHelp=function(){return{title:m.i18n("tool.WindowLevel.name"),brief:m.i18n("tool.WindowLevel.brief"),mouse:{mouse_drag:m.i18n("tool.WindowLevel.mouse_drag"),double_click:m.i18n("tool.WindowLevel.double_click")},touch:{touch_drag:m.i18n("tool.WindowLevel.touch_drag")}}},(m=m||{}).tool=m.tool||{},m.tool.ZoomAndPan=function(e){var t=this,n=null;this.started=!1,this.mousedown=function(e){t.started=!0,t.x0=e._xs,t.y0=e._ys},this.twotouchdown=function(e){t.started=!0,t.x0=e._x,t.y0=e._y;var n=new m.math.Point2D(e._x,e._y),r=new m.math.Point2D(e._x1,e._y1);t.line0=new m.math.Line(n,r),t.midPoint=t.line0.getMidpoint()},this.mousemove=function(n){t.started&&(e.stepTranslate(n._xs-t.x0,n._ys-t.y0),t.x0=n._xs,t.y0=n._ys)},this.twotouchmove=function(n){if(t.started){var r=new m.math.Point2D(n._x,n._y),i=new m.math.Point2D(n._x1,n._y1),o=new m.math.Line(r,i).getLength()/t.line0.getLength();if(1===o){var a=n._y-t.y0;if(Math.abs(a)<15)return;0<a?e.getViewController().incrementSliceNb():e.getViewController().decrementSliceNb()}else{var s=(o-1)/2;Math.abs(s)%.1<=.05&&e.stepZoom(s,n._xs,n._ys)}}},this.mouseup=function(){t.started&&(t.started=!1)},this.mouseout=function(e){t.mouseup(e)},this.touchstart=function(e){var n=e.targetTouches;1===n.length?t.mousedown(e):2===n.length&&t.twotouchdown(e)},this.touchmove=function(e){var n=e.targetTouches;1===n.length?t.mousemove(e):2===n.length&&t.twotouchmove(e)},this.touchend=function(e){t.mouseup(e)},this.DOMMouseScroll=function(t){e.stepZoom(-t.detail/30,t._xs,t._ys)},this.mousewheel=function(t){e.stepZoom(t.wheelDelta/1200,t._xs,t._ys)},this.keydown=function(t){e.onKeydown(t)},this.setup=function(){(n=new m.gui.ZoomAndPan(e)).setup()},this.display=function(e){n&&n.display(e)}},m.tool.ZoomAndPan.prototype.getHelp=function(){return{title:m.i18n("tool.ZoomAndPan.name"),brief:m.i18n("tool.ZoomAndPan.brief"),mouse:{mouse_wheel:m.i18n("tool.ZoomAndPan.mouse_wheel"),mouse_drag:m.i18n("tool.ZoomAndPan.mouse_drag")},touch:{twotouch_pinch:m.i18n("tool.ZoomAndPan.twotouch_pinch"),touch_drag:m.i18n("tool.ZoomAndPan.touch_drag")}}},m.tool.ZoomAndPan.prototype.init=function(){return!0},(m=m||{}).browser=m.browser||{},m.browser.hasFileApi=function(){return-1===navigator.appVersion.indexOf("Safari")||-1!==navigator.appVersion.indexOf("Chrome")||-1===navigator.appVersion.indexOf("5.0.")&&-1===navigator.appVersion.indexOf("5.1.")?m.Modernizr.filereader:(console.warn("Assuming FileAPI support for Safari5..."),!0)},m.browser.hasXmlHttpRequest=function(){return m.Modernizr.xhrresponsetype&&m.Modernizr.xhrresponsetypearraybuffer&&m.Modernizr.xhrresponsetypetext&&"XMLHttpRequest"in s&&"withCredentials"in new XMLHttpRequest},m.browser.hasTypedArray=function(){return m.Modernizr.dataview&&m.Modernizr.typedarrays},m.browser.hasInputColor=function(){return m.Modernizr.inputtypes.color},m.browser.hasInputDirectory=function(){return m.Modernizr.fileinputdirectory},m.browser._hasTypedArraySlice=void 0!==Uint8Array.prototype.slice,m.browser.hasTypedArraySlice=function(){return m.browser._hasTypedArraySlice},m.browser._hasFloat64Array="Float64Array"in s,m.browser.hasFloat64Array=function(){return m.browser._hasFloat64Array},m.browser._hasClampedArray="Uint8ClampedArray"in s,m.browser.hasClampedArray=function(){return m.browser._hasClampedArray},m.browser.check=function(){var e="The application cannot be run.",t="";if(!m.browser.hasFileApi())throw t="The File APIs are not supported in this browser. ",alert(t+e),new Error(t);if(!m.browser.hasXmlHttpRequest())throw t="The XMLHttpRequest is not supported in this browser. ",alert(t+e),new Error(t);if(!m.browser.hasTypedArray())throw t="The Typed arrays are not supported in this browser. ",alert(t+e),new Error(t);m.browser.hasTypedArraySlice()||(console.warn("The TypedArray.slice method is not supported in this browser. This may impair performance. "),Uint16Array.prototype.slice=function(e,t){for(var n=t-e,r=new Uint16Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Int16Array.prototype.slice=function(e,t){for(var n=t-e,r=new Int16Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Uint8Array.prototype.slice=function(e,t){for(var n=t-e,r=new Uint8Array(n),i=0;i<n;i++)r[i]=this[e+i];return r},Int8Array.prototype.slice=function(e,t){for(var n=t-e,r=new Int8Array(n),i=0;i<n;i++)r[i]=this[e+i];return r}),m.browser.hasClampedArray()||(console.warn("The Uint8ClampedArray is not supported in this browser. This may impair performance. "),s.Uint8ClampedArray=s.Uint8Array),m.browser.hasFloat64Array()||(console.warn("The Float64Array is not supported in this browser. This may impair performance. "),s.Float64Array=s.Float32Array),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},e=e||{},t=t||{},n=n||{},(m=m||{}).i18nLocalesPath=null,m.i18nInitialise=function(r,i){var o=void 0===r?"auto":r,a={fallbackLng:"en",load:"languageOnly",backend:{loadPath:(m.i18nLocalesPath=void 0===i?"../..":i)+"/locales/{{lng}}/{{ns}}.json"}},s=e.use(t);"auto"===o?s.use(n):a.lng=o,s.init(a)},m.i18nInitialiseWithResources=function(t,r){var i=void 0===t?"auto":t,o={fallbackLng:"en",load:"languageOnly",resources:r};"auto"===i?e.use(n).init(o):(o.lng=i,e.init(o))},m.i18nOnInitialised=function(t){e.on("initialized",t)},m.i18nOffInitialised=function(){e.off("initialized")},m.i18nOnFailedLoad=function(t){e.on("failedLoading",t)},m.i18nOffFailedLoad=function(){e.off("failedLoading")},m.i18n=function(t,n){return e.t(t,n)},m.i18nExists=function(t,n){return e.exists(t,n)},m.i18nPage=function(){for(var e=document.getElementsByTagName("*"),t=0;t<e.length;++t)void 0!==e[t].dataset.i18n&&(e[t].innerHTML=m.i18n(e[t].dataset.i18n))},m.i18nGetLocalePath=function(t){var n=e.language.substr(0,2);return m.i18nLocalesPath+"/locales/"+n+"/"+t},m.i18nGetFallbackLocalePath=function(t){var n=e.languages[e.languages.length-1].substr(0,2);return m.i18nLocalesPath+"/locales/"+n+"/"+t},(m=m||{}).utils=m.utils||{},m.utils.ListenerHandler=function(){var e={};this.add=function(t,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)},this.remove=function(t,n){if(void 0!==e[t])for(var r=0;r<e[t].length;++r)e[t][r]===n&&e[t].splice(r,1)},this.fireEvent=function(t){if(void 0!==e[t.type])for(var n=0;n<e[t.type].length;++n)e[t.type][n](t)}};var m=m||{};return function(e,t,n){var r=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){r.push({name:e,fn:t,options:n})},addAsyncTest:function(e){r.push({name:null,fn:e})}},o=function(){};o.prototype=i,(o=new o).addTest("dataview","undefined"!=typeof DataView&&"getFloat64"in DataView.prototype),o.addTest("typedarrays","ArrayBuffer"in e),o.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader)),o.addTest("xhrresponsetype",function(){if("undefined"==typeof XMLHttpRequest)return!1;var e=new XMLHttpRequest;return e.open("get","/",!0),"response"in e}());var a=[],s=t.documentElement,u=function(e){if("undefined"==typeof XMLHttpRequest)return!1;var t=new XMLHttpRequest;t.open("get","/",!0);try{t.responseType=e}catch(e){return!1}return"response"in t&&t.responseType==e};o.addTest("xhrresponsetypearraybuffer",u("arraybuffer")),o.addTest("xhrresponsetypejson",u("json")),o.addTest("xhrresponsetypetext",u("text"));var l="svg"===s.nodeName.toLowerCase();function c(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):l?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}var h=c("input"),d="search tel url email datetime date month week time datetime-local number range color".split(" "),f={};o.inputtypes=function(e){for(var n,r,i,o=e.length,a=0;a<o;a++)h.setAttribute("type",n=e[a]),(i="text"!==h.type&&"style"in h)&&(h.value="1)",h.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&void 0!==h.style.WebkitAppearance?(s.appendChild(h),i=(r=t.defaultView).getComputedStyle&&"textfield"!==r.getComputedStyle(h,null).WebkitAppearance&&0!==h.offsetHeight,s.removeChild(h)):/^(search|tel)$/.test(n)||(i=/^(url|email)$/.test(n)?h.checkValidity&&!1===h.checkValidity():"1)"!=h.value)),f[e[a]]=!!i;return f}(d);var p=i._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];i._domPrefixes=p,o.addTest("fileinputdirectory",function(){var e=c("input"),t="directory";if(e.type="file",t in e)return!0;for(var n=0,r=p.length;n<r;n++)if(p[n]+t in e)return!0;return!1}),function(){var e,t,n,i,s,u;for(var l in r)if(r.hasOwnProperty(l)){if(e=[],(t=r[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i="function"==typeof t.fn?t.fn():t.fn,s=0;s<e.length;s++)1===(u=e[s].split(".")).length?o[u[0]]=i:(!o[u[0]]||o[u[0]]instanceof Boolean||(o[u[0]]=new Boolean(o[u[0]])),o[u[0]][u[1]]=i),a.push((i?"":"no-")+u.join("-"))}}(),delete i.addTest,delete i.addAsyncTest;for(var g=0;g<o._q.length;g++)o._q[g]();m.Modernizr=o}(s,document),(m=m||{}).utils=m.utils||{},m.utils.MultiProgressHandler=function(e){var t=this,n=[],r=2;this.setNumberOfDimensions=function(e){r=e},this.setNToLoad=function(e){for(var t=0;t<e;++t){n[t]=[];for(var i=0;i<r;++i)n[t][i]=0}},this.onprogress=function(t){t.lengthComputable&&void 0!==t.subindex&&void 0!==t.index&&(n[t.index][t.subindex]=100*t.loaded/t.total,e({type:t.type,lengthComputable:!0,loaded:function(){for(var e=0,t=n.length,i=0;i<t;++i)for(var o=0;o<r;++o)e+=n[i][o];return Math.round(e/(t*r))}(),total:100}))},this.getMonoProgressHandler=function(e,n){return function(r){r.index=e,r.subindex=n,t.onprogress(r)}},this.getMonoOnLoadEndHandler=function(e,n){return function(){t.onprogress({type:"load-progress",lengthComputable:!0,loaded:100,total:100,index:e,subindex:n})}},this.getUndefinedMonoProgressHandler=function(e){return function(n){n.subindex=e,t.onprogress(n)}}},(m=m||{}).utils=m.utils||{},m.utils.capitaliseFirstLetter=function(e){var t=e;return e&&(t=e.charAt(0).toUpperCase()+e.slice(1)),t},m.utils.splitKeyValueString=function(e){var t={};if(e)for(var n=e.split("&"),r=0;r<n.length;++r){var i=n[r].split("=");t[i[0]]?(t[i[0]]instanceof Array||(t[i[0]]=[t[i[0]]]),t[i[0]].push(i[1])):t[i[0]]=i[1]}return t},m.utils.replaceFlags=function(e,t){var n="";if(null==e)return n;if(n=e,null==t)return n;for(var r=Object.keys(t),i=0;i<r.length;++i){var o=t[r[i]];if(null!=o&&null!==o.value&&void 0!==o.value){var a=o.value.toPrecision(4);null!==o.unit&&void 0!==o.unit&&0!==o.unit.length&&("degree"!==o.unit&&(a+=" "),a+=o.unit),n=n.replace("{"+r[i]+"}",a)}}return n},m.utils.replaceFlags2=function(e,t){for(var n=e,r=0;r<t.length;++r)n=n.replace("{v"+r+"}",t[r]);return n},m.utils.createDefaultReplaceFormat=function(e){for(var t="",n=0;n<e.length;++n)0!==n&&(t+=", "),t+="{v"+n+"}";return t},(m=m||{}).utils=m.utils||{},m.utils.ThreadPool=function(e){var t=[],n=[],r=[];this.init=function(){for(var t=0;t<e;++t)n.push(new m.utils.WorkerThread(this))},this.addWorkerTask=function(e){if(0<n.length){var i=n.shift();i.run(e),r.push(i)}else t.push(e)},this.abort=function(){t=[];for(var e=0;e<r.length;++e)r[e].stop();r=[],this.init()},this.freeWorkerThread=function(i){if(this.onworkerend(),0<t.length){var o=t.shift();i.run(o)}else{n.push(i);for(var a=0;a<r.length;++a)r[a].getId()===i.getId()&&r.splice(a,1);n.length===e&&this.onpoolworkend()}}},m.utils.ThreadPool.prototype.onpoolworkend=function(){},m.utils.ThreadPool.prototype.onworkerend=function(){},m.utils.WorkerThread=function(e){var t,n=this,r=Math.random().toString(36).substring(2,15),i={};function o(e){i.callback(e),n.stop()}this.getId=function(){return r},this.run=function(e){null!==(i=e).script&&((t=new Worker(i.script)).addEventListener("message",o,!1),t.postMessage(i.startMessage))},this.stop=function(){t.terminate(),e.freeWorkerThread(this)}},m.utils.WorkerTask=function(e,t,n){this.script=e,this.callback=t,this.startMessage=n},(m=m||{}).utils=m.utils||{},m.utils.base=m.utils.base||{},m.utils.splitUri=function(e){var t={},n=null;if(e&&-1!==(n=e.indexOf("?"))){t.base=e.substr(0,n);var r=e.indexOf("#");-1===r&&(r=e.length);var i=e.substr(n+1,r-1-n);t.query=m.utils.splitKeyValueString(i)}return t},m.utils.getUriQuery=function(e){var t=m.utils.splitUri(e);return 0===Object.keys(t).length?null:t.query},m.utils.base.decodeQuery=function(e,t){e.type&&"manifest"===e.type?m.utils.decodeManifestQuery(e,t):t(m.utils.decodeKeyValueUri(e.input,e.dwvReplaceMode))},m.utils.decodeKeyValueUri=function(e,t){var n=[],r="key";t&&(r=t);var i=decodeURIComponent(e),o=m.utils.splitUri(i);if(0===Object.keys(o).length)n.push(i);else{for(var a=Object.keys(o.query),s=null,u=0;u<a.length;++u)if(o.query[a[u]]instanceof Array){s=a[u];break}if(s){var l=o.query[s],c=o.base;"file"!==s&&(c+="?");for(var h,d=!1,f=0;f<a.length;++f)a[f]!==s&&(d&&(c+="&"),c+=a[f]+"="+o.query[a[f]],d=!0);for(var p=0;p<l.length;++p)h=c,d&&(h+="&"),"key"===r&&(h+=s+"="),n.push(h+=l[p])}else n.push(i)}return n},m.utils.decodeManifestQuery=function(e,t){var n="";"/"===e.input[0]&&(n=s.location.protocol+"//"+s.location.host),n+=e.input;var r=new XMLHttpRequest;r.open("GET",decodeURIComponent(n),!0),r.responseType="document",r.onload=function(){t(m.utils.decodeManifest(this.responseXML,e.nslices))},r.onerror=function(){console.warn("RequestError while receiving manifest: "+this.status)},r.send(null)},m.utils.decodeManifest=function(e,t){var n=[],r=e.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",i=e.getElementsByTagName("Patient");1<i.length&&console.warn("More than one patient, loading first one.");var o=i[0].getElementsByTagName("Study");1<o.length&&console.warn("More than one study, loading first one.");var a=o[0].getAttribute("StudyInstanceUID"),s=o[0].getElementsByTagName("Series");1<s.length&&console.warn("More than one series, loading first one.");var u=s[0].getAttribute("SeriesInstanceUID"),l=s[0].getElementsByTagName("Instance"),c=l.length;t<c&&(c=t);for(var h=0;h<c;++h){var d=r+"&studyUID="+a+"&seriesUID="+u+"&objectUID="+l[h].getAttribute("SOPInstanceUID");n.push(d)}return n},m},o=[n("QCdE"),n("OcWW"),n("HQq2"),n("WgY6"),n("xLKd")],void 0===(a="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=a)}).call(t,n("DuR2"))},hutl:function(e,t,n){var r=n("2SaJ");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},iP15:function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(t,n("DuR2"))},ismg:function(e,t,n){e.exports=!n("a1Qx")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},j3u2:function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},jOgh:function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e},t.isBuffer=e.isBuffer}).call(t,n("63KW").Buffer)},jbop:function(e,t,n){"use strict";var r=n("vVrn"),i=n("KnAl"),o=n("Q2VO"),a=n("u5ky");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}o=n("Q2VO"),s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},l3VN:function(e,t,n){"use strict";var r=n("bxoG"),i=n("71nt");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},l5vw:function(e,t,n){"use strict";var r=n("X3l8").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},lP8e:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},mFc0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cookie",lookup:function(e){var t=void 0;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var n=e.lookupCookie+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}();n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=void 0;if(n){var o=new Date;o.setTime(o.getTime()+60*n*1e3),i="; expires="+o.toGMTString()}else i="";r=r?"domain="+r+";":"",document.cookie=e+"="+t+i+";"+r+"path=/"}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain)}}},oKij:function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),t.blob=0===i.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n("I01C").Readable}catch(e){t.nodestream=!1}}).call(t,n("63KW").Buffer)},"rBp/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("dpth")),o=c(n("mFc0")),a=c(n("RQMs")),s=c(n("0HVM")),u=c(n("MLN7")),l=c(n("tEWo"));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.type="languageDetector",this.detectors={},this.init(t,n)}return r(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=i.defaults(t,this.options||{},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.i18nOptions=n,this.addDetector(o.default),this.addDetector(a.default),this.addDetector(s.default),this.addDetector(u.default),this.addDetector(l.default)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];e.forEach(function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}});var r=void 0;return n.forEach(function(e){if(!r){var n=t.services.languageUtils.formatLanguageCode(e);t.services.languageUtils.isWhitelisted(n)&&(r=n)}}),r||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)}))}}]),e}();h.type="languageDetector",t.default=h},rBub:function(e,t,n){"use strict";var r=n("dL6i");function i(e){r.call(this,e)}n("71nt").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},sOR5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},t7NR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},tEWo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"htmlTag",lookup:function(e){var t=void 0,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}}},tJQH:function(e,t,n){"use strict";var r=n("GfW5"),i=n("CcWG");t.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var i=function(e,i){var o=n.options.compression||t.compression,a=r[o];if(!a)throw new Error(o+" is not a valid compression method !");return a}(),s=n.dir,u=n.date;n._compressWorker(i,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(e){o.error(e)}return o}},tLDX:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("AMGY").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},tmYD:function(e,t,n){"use strict";var r=n("VOug"),i=n("gt5T"),o=n("LjBA"),a=n("2A+V"),s=n("h95s"),u=Object.prototype.toString,l=0,c=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==l)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(i.shrinkBuf(s.output,s.next_out)):i.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),s.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===l&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},u5ky:function(e,t,n){"use strict";var r=n("bxoG"),i=n("hKHw");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("71nt").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},ujcs:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*g}},vVrn:function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:n("A84T"),e.exports={Promise:r}},vzCy:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},x0Ha:function(e,t,n){"use strict";var r=n("ypnx");function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},x35b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("WT6e"),i=function(){},o=n("hoy5");o.gui.displayProgress=function(){},o.gui.getWindowSize=o.gui.base.getWindowSize,o.gui.getElement=o.gui.base.getElement,o.gui.refreshElement=o.gui.base.refreshElement;var a=new o.App;a.init({containerDivId:"dwv",fitToWindow:!0,tools:["WindowLevel","ZoomAndPan"],shapes:["Arrow","Ruler"],isMobile:!0}),a.loadURLs(["/dwv-angular/demo/trunk/assets/bbmri-53323131.dcm"]);var s=function(){return function(){this.legend="Powered by dwv "+o.getVersion()+" and Angular "+r.D.full,this.onClick=function(e){a.onChangeTool(e)}}}(),u=n("TToO"),l=function(){},c=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],h={},d=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),f=new r.l("UseV4Plurals"),p=function(){},g=function(e){function t(t,n){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=n,r}return Object(u.b)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=h[t];if(n)return n;var r=t.split("-")[0];if(n=h[r])return n;if("en"===r)return c;throw new Error('Missing locale data for the locale "'+e+'".')}(e)[17]}(t||this.locale)(e)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}},t}(p),m=function(){},x=new r.l("DocumentToken"),v=new r.l("cdk-dir-doc"),S=function(){return function(e){this.value="ltr",this.change=new r.j,e&&(this.value=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr")}}(),y=function(){};function b(e){return null!=e&&""+e!="false"}var C=n("g5jc"),w=(n("YaPU"),null);function _(){return w}var D,T={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},L={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r.U.Node&&(D=r.U.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var I,P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,w||(w=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var r;(r=e)[t].apply(r,n)},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return T},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return D.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&E.hasOwnProperty(t)&&(t=E[t]))}return L[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=A||(A=document.querySelector("base"))?A.getAttribute("href"):null;return null==n?null:(t=n,I||(I=document.createElement("a")),I.setAttribute("href",t),"/"===I.pathname.charAt(0)?I.pathname:"/"+I.pathname)},t.prototype.resetBaseElement=function(){A=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return function(e,t){t=encodeURIComponent(t);for(var n=0,r=e.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===t)return decodeURIComponent(s)}return null}(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=t.getStyle(n,r[i]+"AnimationName")){t._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])})}catch(e){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(u.b)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),A=null,O=x;function F(){return!!window.history.pushState}var R=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return Object(u.b)(t,e),t.prototype._init=function(){this.location=_().getLocation(),this._history=_().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return _().getBaseHref(this._doc)},t.prototype.onPopState=function(e){_().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){_().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){F()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){F()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.k,args:[O]}]}]},t}(l),k=function(){function e(e){this._doc=e,this._dom=_()}return e.prototype.addTag=function(e,t){return void 0===t&&(t=!1),e?this._getOrCreateElement(e,t):null},e.prototype.addTags=function(e,t){var n=this;return void 0===t&&(t=!1),e?e.reduce(function(e,r){return r&&e.push(n._getOrCreateElement(r,t)),e},[]):[]},e.prototype.getTag=function(e){return e&&this._dom.querySelector(this._doc,"meta["+e+"]")||null},e.prototype.getTags=function(e){if(!e)return[];var t=this._dom.querySelectorAll(this._doc,"meta["+e+"]");return t?[].slice.call(t):[]},e.prototype.updateTag=function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)},e.prototype.removeTag=function(e){this.removeTagElement(this.getTag(e))},e.prototype.removeTagElement=function(e){e&&this._dom.remove(e)},e.prototype._getOrCreateElement=function(e,t){if(void 0===t&&(t=!1),!t){var n=this._parseSelector(e),r=this.getTag(n);if(r&&this._containsAttributes(e,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(e,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},e.prototype._setMetaElementAttributes=function(e,t){var n=this;return Object.keys(e).forEach(function(r){return n._dom.setAttribute(t,r,e[r])}),t},e.prototype._parseSelector=function(e){var t=e.name?"name":"property";return t+'="'+e[t]+'"'},e.prototype._containsAttributes=function(e,t){var n=this;return Object.keys(e).every(function(r){return n._dom.getAttribute(t,r)===e[r]})},e}(),M=new r.l("TRANSITION_ID"),N=[{provide:r.b,useFactory:function(e,t,n){return function(){n.get(r.c).donePromise.then(function(){var n=_();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[M,O,r.m],multi:!0}],U=function(){function e(){}return e.init=function(){Object(r.M)(new e)},e.prototype.addToWindow=function(e){r.U.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.U.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.U.getAllAngularRootElements=function(){return e.getAllRootElements()},r.U.frameworkStabilizers||(r.U.frameworkStabilizers=[]),r.U.frameworkStabilizers.push(function(e){var t=r.U.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(o)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?_().isShadowRoot(t)?this.findTestabilityInTree(e,_().getHost(t),!0):this.findTestabilityInTree(e,_().parentElement(t),!0):null},e}(),q=function(){function e(e){this._doc=e}return e.prototype.getTitle=function(){return _().getTitle(this._doc)},e.prototype.setTitle=function(e){_().setTitle(this._doc,e)},e}();function B(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r.U.ng=r.U.ng||{})[e]=t)}var Q={ApplicationRef:r.e,NgZone:r.s};function G(e){return Object(r.J)(e)}var V=new r.l("EventManagerPlugins"),K=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)},e}(),H=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var r=_().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target "+r+" for event "+t);return this.addEventListener(r,t,n)},e}(),j=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),z=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return Object(u.b)(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return _().remove(e)})},t}(j),W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g,X="_nghost-%COMP%",Z="_ngcontent-%COMP%";function J(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?J(e,i,n):(i=i.replace(Y,e),n.push(i))}return n}function $(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ee=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new te(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.F.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new oe(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.F.Native:return new ae(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=J(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),te=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(W[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e){var t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error('The selector "'+e+'" did not match any elements');return t.textContent="",t},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+":"+t;var i=W[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=W[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,i){i&r.y.DashCase?e.style.setProperty(t,n,i&r.y.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&r.y.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){re(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return re(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$(n)):this.eventManager.addEventListener(e,t,$(n))},e}(),ne="@".charCodeAt(0);function re(e,t){if(e.charCodeAt(0)===ne)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var ie,oe=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.component=r;var o=J(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Z.replace(Y,r.id),i.hostAttr=X.replace(Y,r.id),i}return Object(u.b)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(te),ae=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=J(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(u.b)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(te),se="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},ue=se("addEventListener"),le=se("removeEventListener"),ce={},he="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[se("BLACK_LISTED_EVENTS")]&&(ie={});var de=function(e){return!!ie&&ie.hasOwnProperty(e)},fe=function(e){var t=ce[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==e[he];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},pe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.ngZone=n,r.patchEvent(),r}return Object(u.b)(t,e),t.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[he]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var i=this,o=n;if(!e[ue]||r.s.isInAngularZone()&&!de(t))e.addEventListener(t,o,!1);else{var a=ce[t];a||(a=ce[t]=se("ANGULAR"+t+"FALSE"));var s=e[a],u=s&&s.length>0;s||(s=e[a]=[]);var l=de(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===o){c=!0;break}c||s.push({zone:l,handler:o})}u||e[ue](t,fe,!1)}return function(){return i.removeEventListener(e,t,o)}},t.prototype.removeEventListener=function(e,t,n){var r=e[le];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=ce[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(e,[t,fe,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(H),ge={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},me=new r.l("HammerGestureConfig"),xe=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),ve=function(e){function t(t,n){var r=e.call(this,t)||this;return r._config=n,r}return Object(u.b)(t,e),t.prototype.supports=function(e){if(!ge.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+e+" event");return!0},t.prototype.addEventListener=function(e,t,n){var r=this,i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded(function(){n(e)})};return o.on(t,a),function(){return o.off(t,a)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(H),Se=["alt","control","meta","shift"],ye={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},be=function(e){function t(t){return e.call(this,t)||this}return Object(u.b)(t,e),t.prototype.supports=function(e){return null!=t.parseEventName(e)},t.prototype.addEventListener=function(e,n,r){var i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _().onAndCancel(e,i.domEventName,o)})},t.parseEventName=function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=t._normalizeKey(n.pop()),o="";if(Se.forEach(function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},t.getEventFullKey=function(e){var t="",n=_().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Se.forEach(function(r){r!=n&&(0,ye[r])(e)&&(t+=r+".")}),t+=n},t.eventCallback=function(e,n,r){return function(i){t.getEventFullKey(i)===e&&r.runGuarded(function(){return n(i)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(H),Ce=function(){function e(e,t){this.defaultDoc=e,this.DOM=t;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.DOM.createElement("template");return"content"in t?(this.DOM.setInnerHTML(t,e),t):(this.DOM.setInnerHTML(this.inertBodyElement,e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){var t=this;this.DOM.attributeMap(e).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.DOM.removeAttribute(e,r)});for(var n=0,r=this.DOM.childNodesAsList(e);n<r.length;n++){var i=r[n];this.DOM.isElementNode(i)&&this.stripCustomNsAttrs(i)}},e}(),we=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,_e=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function De(e){return(e=String(e)).match(we)||e.match(_e)?e:(Object(r.K)()&&_().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function Te(e){for(var t={},n=0,r=e.split(",");n<r.length;n++)t[r[n]]=!0;return t}function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}var Ee,Ie=Te("area,br,col,hr,img,wbr"),Pe=Te("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ae=Te("rp,rt"),Oe=Le(Ae,Pe),Fe=Le(Ie,Le(Pe,Te("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Le(Ae,Te("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oe),Re=Te("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ke=Te("srcset"),Me=Le(Re,ke,Te("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Ne=function(){function e(){this.sanitizedSomething=!1,this.buf=[],this.DOM=_()}return e.prototype.sanitizeChildren=function(e){for(var t=this.DOM.firstChild(e);t;)if(this.DOM.isElementNode(t)?this.startElement(t):this.DOM.isTextNode(t)?this.chars(this.DOM.nodeValue(t)):this.sanitizedSomething=!0,this.DOM.firstChild(t))t=this.DOM.firstChild(t);else for(;t;){this.DOM.isElementNode(t)&&this.endElement(t);var n=this.checkClobberedElement(t,this.DOM.nextSibling(t));if(n){t=n;break}t=this.checkClobberedElement(t,this.DOM.parentElement(t))}return this.buf.join("")},e.prototype.startElement=function(e){var t=this,n=this.DOM.nodeName(e).toLowerCase();Fe.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(e).forEach(function(e,n){var r,i=n.toLowerCase();Me.hasOwnProperty(i)?(Re[i]&&(e=De(e)),ke[i]&&(r=e,e=(r=String(r)).split(",").map(function(e){return De(e.trim())}).join(", ")),t.buf.push(" "),t.buf.push(n),t.buf.push('="'),t.buf.push(Be(e)),t.buf.push('"')):t.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},e.prototype.endElement=function(e){var t=this.DOM.nodeName(e).toLowerCase();Fe.hasOwnProperty(t)&&!Ie.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(Be(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&this.DOM.contains(e,t))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(e));return t},e}(),Ue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qe=/([^\#-~ |!])/g;function Be(e){return e.replace(/&/g,"&amp;").replace(Ue,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(qe,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Qe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ge=/^url\(([^)]+)\)$/,Ve=function(){},Ke=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return Object(u.b)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case r.A.NONE:return t;case r.A.HTML:return t instanceof je?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=_(),i=null;try{Ee=Ee||new Ce(e,n);var o=t?String(t):"";i=Ee.getInertBodyElement(o);var a=5,s=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=s,s=n.getInnerHTML(i),i=Ee.getInertBodyElement(o)}while(o!==s);var u=new Ne,l=u.sanitizeChildren(n.getTemplateContent(i)||i);return Object(r.K)()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}finally{if(i)for(var c=n.getTemplateContent(i)||i,h=0,d=n.childNodesAsList(c);h<d.length;h++)n.removeChild(c,d[h])}}(this._doc,String(t)));case r.A.STYLE:return t instanceof ze?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Ge);return t&&De(t[1])===t[1]||e.match(Qe)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Object(r.K)()&&_().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case r.A.SCRIPT:if(t instanceof We)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.A.URL:return t instanceof Xe||t instanceof Ye?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),De(String(t)));case r.A.RESOURCE_URL:if(t instanceof Xe)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof He)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new je(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new ze(e)},t.prototype.bypassSecurityTrustScript=function(e){return new We(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new Ye(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new Xe(e)},t}(Ve),He=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(He),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.getTypeName=function(){return"Style"},t}(He),We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.getTypeName=function(){return"Script"},t}(He),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.getTypeName=function(){return"URL"},t}(He),Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.b)(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(He),Ze=[{provide:r.u,useValue:"browser"},{provide:r.v,useValue:function(){P.makeCurrent(),U.init()},multi:!0},{provide:l,useClass:R,deps:[O]},{provide:O,useFactory:function(){return document},deps:[]}],Je=Object(r.H)(r.L,"browser",Ze);function $e(){return new r.i}var et=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return e.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.a,useValue:t.appId},{provide:M,useExisting:r.a},N]}},e}();"undefined"!=typeof window&&window;var tt,nt="undefined"!=typeof Intl&&Intl.v8BreakIterator,rt=function(){return function(){this.isBrowser="object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}();function it(){if(null==tt&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return tt=!0}}))}finally{tt=tt||!1}return tt}var ot=function(){},at=new r.l("mat-sanity-checks"),st=function(){function e(e){this._sanityChecksEnabled=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return e.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(r.K)()&&!this._isTestEnv()},e.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},e.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},e.prototype._checkThemeIsPresent=function(){if(this._document&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}},e.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},e}(),ut=function(){var e={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return e[e.FADING_IN]="FADING_IN",e[e.VISIBLE]="VISIBLE",e[e.FADING_OUT]="FADING_OUT",e[e.HIDDEN]="HIDDEN",e}(),lt=function(){function e(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=ut.HIDDEN}return e.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},e}(),ct={enterDuration:450,exitDuration:400},ht=800,dt=function(){function e(e,t,n,r){var i=this;this._target=e,this._ngZone=t,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._eventOptions=!!it()&&{passive:!0},this.onMousedown=function(e){var t=i._lastTouchStartEvent&&Date.now()<i._lastTouchStartEvent+ht;i._target.rippleDisabled||t||(i._isPointerDown=!0,i.fadeInRipple(e.clientX,e.clientY,i._target.rippleConfig))},this.onTouchStart=function(e){i._target.rippleDisabled||(i._lastTouchStartEvent=Date.now(),i._isPointerDown=!0,i.fadeInRipple(e.touches[0].clientX,e.touches[0].clientY,i._target.rippleConfig))},this.onPointerUp=function(){i._isPointerDown&&(i._isPointerDown=!1,i._activeRipples.forEach(function(e){!e.config.persistent&&(e.state===ut.VISIBLE||e.config.terminateOnPointerUp&&e.state===ut.FADING_IN)&&e.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown),this._triggerEvents.set("mouseup",this.onPointerUp),this._triggerEvents.set("mouseleave",this.onPointerUp),this._triggerEvents.set("touchstart",this.onTouchStart),this._triggerEvents.set("touchend",this.onPointerUp))}return e.prototype.fadeInRipple=function(e,t,n){var r=this;void 0===n&&(n={});var i=this._containerElement.getBoundingClientRect(),o=Object(u.a)({},ct,n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);var a=n.radius||function(e,t,n){var r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,l=t-i.top,c=o.enterDuration/(n.speedFactor||1),h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=s-a+"px",h.style.top=l-a+"px",h.style.height=2*a+"px",h.style.width=2*a+"px",h.style.backgroundColor=n.color||null,h.style.transitionDuration=c+"ms",this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";var d=new lt(this,h,n);return d.state=ut.FADING_IN,this._activeRipples.add(d),this.runTimeoutOutsideZone(function(){d.state=ut.VISIBLE,n.persistent||r._isPointerDown||d.fadeOut()},c),d},e.prototype.fadeOutRipple=function(e){if(this._activeRipples.delete(e)){var t=e.element,n=Object(u.a)({},ct,e.config.animation);t.style.transitionDuration=n.exitDuration+"ms",t.style.opacity="0",e.state=ut.FADING_OUT,this.runTimeoutOutsideZone(function(){e.state=ut.HIDDEN,t.parentNode.removeChild(t)},n.exitDuration)}},e.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(e){return e.fadeOut()})},e.prototype.setupTriggerEvents=function(e){var t=this;e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){t._triggerEvents.forEach(function(n,r){return e.addEventListener(r,n,t._eventOptions)})}),this._triggerElement=e)},e.prototype.runTimeoutOutsideZone=function(e,t){void 0===t&&(t=0),this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})},e.prototype._removeTriggerEvents=function(){var e=this;this._triggerElement&&this._triggerEvents.forEach(function(t,n){e._triggerElement.removeEventListener(n,t,e._eventOptions)})},e}(),ft=new r.l("mat-ripple-global-options"),pt=function(){function e(e,t,n,r){this._elementRef=e,this.radius=0,this.speedFactor=1,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new dt(this,t,e,n)}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},e.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},e.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(e.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(u.a)({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp,speedFactor:this.speedFactor*(this._globalOptions.baseSpeedFactor||1)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),e.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},e.prototype.launch=function(e,t,n){return void 0===t&&(t=0),"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object(u.a)({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object(u.a)({},this.rippleConfig,e))},e}(),gt=function(){},mt=n("OVmG"),xt=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return Object(u.b)(t,e),t}(Error),vt=n("+3/4"),St=function(){function e(e){if(this.total=e,this.total<0)throw new xt}return e.prototype.call=function(e,t){return t.subscribe(new yt(e,this.total))},e}(),yt=function(e){function t(t,n){e.call(this,t),this.total=n,this.count=0}return Object(u.b)(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(mt.a);n("VwZZ"),n("AMGY");var bt=n("Veqx").a.of,Ct=function(){function e(e){this._platform=e}return e.prototype.isDisabled=function(e){return e.hasAttribute("disabled")},e.prototype.isVisible=function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility},e.prototype.isTabbable=function(e){if(!this._platform.isBrowser)return!1;var t=function(e){try{return e.frameElement}catch(e){return null}}(e.ownerDocument.defaultView||window);if(t){var n=t&&t.nodeName.toLowerCase();if(-1===_t(t))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===n)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(t))return!1}var r=e.nodeName.toLowerCase(),i=_t(e);if(e.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0},e.prototype.isFocusable=function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||wt(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)},e}();function wt(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function _t(e){if(!wt(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var Dt=function(){function e(e,t,n,r,i){void 0===i&&(i=!1),this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._enabled=!0,i||this.attachAnchors()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._startAnchor.tabIndex=this._endAnchor.tabIndex=this._enabled?0:-1)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._startAnchor&&this._startAnchor.parentNode&&this._startAnchor.parentNode.removeChild(this._startAnchor),this._endAnchor&&this._endAnchor.parentNode&&this._endAnchor.parentNode.removeChild(this._endAnchor),this._startAnchor=this._endAnchor=null},e.prototype.attachAnchors=function(){var e=this;this._startAnchor||(this._startAnchor=this._createAnchor()),this._endAnchor||(this._endAnchor=this._createAnchor()),this._ngZone.runOutsideAngular(function(){e._startAnchor.addEventListener("focus",function(){e.focusLastTabbableElement()}),e._endAnchor.addEventListener("focus",function(){e.focusFirstTabbableElement()}),e._element.parentNode&&(e._element.parentNode.insertBefore(e._startAnchor,e._element),e._element.parentNode.insertBefore(e._endAnchor,e._element.nextSibling))})},e.prototype.focusInitialElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})},e.prototype.focusFirstTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})},e.prototype.focusLastTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})},e.prototype._getRegionBoundary=function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-"+e+"], [cdkFocusRegion"+e+"], [cdk-focus-"+e+"]"),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-"+e+"', use 'cdkFocusRegion"+e+"' instead.",t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+e+"', use 'cdkFocusRegion"+e+"' instead.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)},e.prototype.focusInitialElement=function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return this._element.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead.",this._element),e?(e.focus(),!0):this.focusFirstTabbableElement()},e.prototype.focusFirstTabbableElement=function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e},e.prototype.focusLastTabbableElement=function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e},e.prototype._getFirstTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null},e.prototype._getLastTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null},e.prototype._createAnchor=function(){var e=this._document.createElement("div");return e.tabIndex=this._enabled?0:-1,e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e},e.prototype._executeOnStable=function(e){var t;this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe((t=1,function(e){return 0===t?new vt.a:e.lift(new St(t))})).subscribe(e)},e}(),Tt=function(){function e(e,t,n){this._checker=e,this._ngZone=t,this._document=n}return e.prototype.create=function(e,t){return void 0===t&&(t=!1),new Dt(e,this._checker,this._ngZone,this._document,t)},e}();function Lt(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}var Et=0,It=new Map,Pt=null,At=function(){function e(e){this._document=e}return e.prototype.describe=function(e,t){this._canBeDescribed(e,t)&&(It.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))},e.prototype.removeDescription=function(e,t){if(this._canBeDescribed(e,t)){this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t);var n=It.get(t);n&&0===n.referenceCount&&this._deleteMessageElement(t),Pt&&0===Pt.childNodes.length&&this._deleteMessagesContainer()}},e.prototype.ngOnDestroy=function(){for(var e=this._document.querySelectorAll("[cdk-describedby-host]"),t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");Pt&&this._deleteMessagesContainer(),It.clear()},e.prototype._createMessageElement=function(e){var t=this._document.createElement("div");t.setAttribute("id","cdk-describedby-message-"+Et++),t.appendChild(this._document.createTextNode(e)),Pt||this._createMessagesContainer(),Pt.appendChild(t),It.set(e,{messageElement:t,referenceCount:0})},e.prototype._deleteMessageElement=function(e){var t=It.get(e),n=t&&t.messageElement;Pt&&n&&Pt.removeChild(n),It.delete(e)},e.prototype._createMessagesContainer=function(){(Pt=this._document.createElement("div")).setAttribute("id","cdk-describedby-message-container"),Pt.setAttribute("aria-hidden","true"),Pt.style.display="none",this._document.body.appendChild(Pt)},e.prototype._deleteMessagesContainer=function(){Pt&&Pt.parentNode&&(Pt.parentNode.removeChild(Pt),Pt=null)},e.prototype._removeCdkDescribedByReferenceIds=function(e){var t=Lt(e,"aria-describedby").filter(function(e){return 0!=e.indexOf("cdk-describedby-message")});e.setAttribute("aria-describedby",t.join(" "))},e.prototype._addMessageReference=function(e,t){var n,r,i,o,a=It.get(t);i=a.messageElement.id,(o=Lt(n=e,r="aria-describedby")).some(function(e){return e.trim()==i.trim()})||(o.push(i.trim()),n.setAttribute(r,o.join(" "))),e.setAttribute("cdk-describedby-host",""),a.referenceCount++},e.prototype._removeMessageReference=function(e,t){var n,r,i,o,a=It.get(t);a.referenceCount--,i=a.messageElement.id,o=Lt(n=e,r="aria-describedby").filter(function(e){return e!=i.trim()}),n.setAttribute(r,o.join(" ")),e.removeAttribute("cdk-describedby-host")},e.prototype._isElementDescribedByMessage=function(e,t){var n=Lt(e,"aria-describedby"),r=It.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)},e.prototype._canBeDescribed=function(e,t){return e.nodeType===this._document.ELEMENT_NODE&&null!=t&&!!(""+t).trim()},e}();function Ot(e,t){return e||new At(t)}var Ft=new r.l("liveAnnouncerElement"),Rt=function(){function e(e,t){this._document=t,this._liveElement=e||this._createLiveElement()}return e.prototype.announce=function(e,t){var n=this;return void 0===t&&(t="polite"),this._liveElement.textContent="",this._liveElement.setAttribute("aria-live",t),new Promise(function(t){setTimeout(function(){n._liveElement.textContent=e,t()},100)})},e.prototype.ngOnDestroy=function(){this._liveElement&&this._liveElement.parentNode&&this._liveElement.parentNode.removeChild(this._liveElement)},e.prototype._createLiveElement=function(){var e=this._document.createElement("div");return e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e},e}();function kt(e,t,n){return e||new Rt(t,n)}var Mt=function(){function e(e,t){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._unregisterGlobalListeners=function(){},this._monitoredElementCount=0}return e.prototype.monitor=function(e,t,n){var i=this;if(t instanceof r.w||(n=t),n=!!n,!this._platform.isBrowser)return bt(null);if(this._elementInfo.has(e)){var o=this._elementInfo.get(e);return o.checkChildren=n,o.subject.asObservable()}var a={unlisten:function(){},checkChildren:n,subject:new C.a};this._elementInfo.set(e,a),this._incrementMonitoredElementCount();var s=function(t){return i._onFocus(t,e)},u=function(t){return i._onBlur(t,e)};return this._ngZone.runOutsideAngular(function(){e.addEventListener("focus",s,!0),e.addEventListener("blur",u,!0)}),a.unlisten=function(){e.removeEventListener("focus",s,!0),e.removeEventListener("blur",u,!0)},a.subject.asObservable()},e.prototype.stopMonitoring=function(e){var t=this._elementInfo.get(e);t&&(t.unlisten(),t.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},e.prototype.focusVia=function(e,t){this._setOriginForCurrentEventQueue(t),e.focus()},e.prototype.ngOnDestroy=function(){var e=this;this._elementInfo.forEach(function(t,n){return e.stopMonitoring(n)})},e.prototype._registerGlobalListeners=function(){var e=this;if(this._platform.isBrowser){var t=function(){e._lastTouchTarget=null,e._setOriginForCurrentEventQueue("keyboard")},n=function(){e._lastTouchTarget||e._setOriginForCurrentEventQueue("mouse")},r=function(t){null!=e._touchTimeoutId&&clearTimeout(e._touchTimeoutId),e._lastTouchTarget=t.target,e._touchTimeoutId=setTimeout(function(){return e._lastTouchTarget=null},650)},i=function(){e._windowFocused=!0,e._windowFocusTimeoutId=setTimeout(function(){return e._windowFocused=!1},0)};this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t,!0),document.addEventListener("mousedown",n,!0),document.addEventListener("touchstart",r,!it()||{passive:!0,capture:!0}),window.addEventListener("focus",i)}),this._unregisterGlobalListeners=function(){document.removeEventListener("keydown",t,!0),document.removeEventListener("mousedown",n,!0),document.removeEventListener("touchstart",r,!it()||{passive:!0,capture:!0}),window.removeEventListener("focus",i),clearTimeout(e._windowFocusTimeoutId),clearTimeout(e._touchTimeoutId),clearTimeout(e._originTimeoutId)}}},e.prototype._toggleClass=function(e,t,n){n?e.classList.add(t):e.classList.remove(t)},e.prototype._setClasses=function(e,t){this._elementInfo.get(e)&&(this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t))},e.prototype._setOriginForCurrentEventQueue=function(e){var t=this;this._origin=e,this._originTimeoutId=setTimeout(function(){return t._origin=null},0)},e.prototype._wasCausedByTouch=function(e){var t=e.target;return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))},e.prototype._onFocus=function(e,t){var n=this._elementInfo.get(t);n&&(n.checkChildren||t===e.target)&&(this._origin||(this._origin=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"),this._setClasses(t,this._origin),n.subject.next(this._origin),this._lastFocusOrigin=this._origin,this._origin=null)},e.prototype._onBlur=function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),n.subject.next(null))},e.prototype._incrementMonitoredElementCount=function(){1==++this._monitoredElementCount&&this._registerGlobalListeners()},e.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(this._unregisterGlobalListeners(),this._unregisterGlobalListeners=function(){})},e}();function Nt(e,t,n){return e||new Mt(t,n)}var Ut=function(){},qt="accent",Bt="primary",Qt=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Gt=function(e){function t(t,n,r){var i=e.call(this,t)||this;i._platform=n,i._focusMonitor=r,i._isRoundButton=i._hasHostAttributes("mat-fab","mat-mini-fab"),i._isIconButton=i._hasHostAttributes("mat-icon-button");for(var o=0,a=Qt;o<a.length;o++){var s=a[o];i._hasHostAttributes(s)&&t.nativeElement.classList.add(s)}return i._focusMonitor.monitor(i._elementRef.nativeElement,!0),i._isRoundButton?i.color=qt:i._hasHostAttributes("mat-flat-button")&&(i.color=Bt),i}return Object(u.b)(t,e),t.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)},t.prototype.focus=function(){this._getHostElement().focus()},t.prototype._getHostElement=function(){return this._elementRef.nativeElement},t.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},t.prototype._hasHostAttributes=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!!this._platform.isBrowser&&t.some(function(t){return e._getHostElement().hasAttribute(t)})},t}(function(e,t){return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return i.color=t,i}return Object(u.b)(n,e),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(e){var n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(e)}(function(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,t)||this;return r._disabled=!1,r}return Object(u.b)(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=b(e)},enumerable:!0,configurable:!0}),t}(e)}(function(e){return function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(this,t)||this;return r._disableRipple=!1,r}return Object(u.b)(t,e),Object.defineProperty(t.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(e){this._disableRipple=b(e)},enumerable:!0,configurable:!0}),t}(function(e){this._elementRef=e})}()))),Vt=function(){},Kt=r.R({encapsulation:2,styles:[".mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button,.mat-fab,.mat-icon-button,.mat-mini-fab,.mat-raised-button{color:currentColor}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*{vertical-align:middle}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Ht(e){return r._9(2,[r._6(402653184,1,{ripple:0}),(e()(),r.T(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r._2(null,0),(e()(),r.T(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r.S(4,212992,[[1,4]],0,pt,[r.h,r.s,rt,[2,ft]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(e()(),r.T(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,4,0,n._isIconButton,n._isRippleDisabled(),n._getHostElement())},function(e,t){var n=t.component;e(t,3,0,n._isRoundButton||n._isIconButton,r._3(t,4).unbounded)})}var jt=r.R({encapsulation:0,styles:[[".button-row[_ngcontent-%COMP%]{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;margin:.2em}.legend[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:8pt}.layerContainer[_ngcontent-%COMP%]{position:relative;padding:0;margin:auto;text-align:center}.imageLayer[_ngcontent-%COMP%]{position:absolute;left:0}.dropBox[_ngcontent-%COMP%]{border:5px dashed #ccc;margin:auto;text-align:center}.dropBox.hover[_ngcontent-%COMP%]{border:5px dashed #cc0}"]],data:{}});function zt(e){return r._9(0,[(e()(),r._8(-1,null,["\n"])),(e()(),r.T(1,0,null,null,26,"div",[["style","text-align:center"]],null,null,null,null,null)),(e()(),r._8(-1,null,["\n  "])),(e()(),r.T(3,0,null,null,20,"div",[["id","dwv"]],null,null,null,null,null)),(e()(),r._8(-1,null,["\n    "])),(e()(),r.T(5,0,null,null,9,"div",[["class","button-row"]],null,null,null,null,null)),(e()(),r._8(-1,null,["\n      "])),(e()(),r.T(7,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["value","WindowLevel"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClick(n)&&r),r},Ht,Kt)),r.S(8,180224,null,0,Gt,[r.h,rt,Mt],{color:[0,"color"]},null),(e()(),r._8(-1,0,["WindowLevel"])),(e()(),r._8(-1,null,["\n      "])),(e()(),r.T(11,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["value","ZoomAndPan"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClick(n)&&r),r},Ht,Kt)),r.S(12,180224,null,0,Gt,[r.h,rt,Mt],{color:[0,"color"]},null),(e()(),r._8(-1,0,["ZoomAndPan"])),(e()(),r._8(-1,null,["\n    "])),(e()(),r._8(-1,null,["\n    "])),(e()(),r.T(16,0,null,null,6,"div",[["class","layerContainer"]],null,null,null,null,null)),(e()(),r._8(-1,null,["\n      "])),(e()(),r.T(18,0,null,null,0,"div",[["class","dropBox"]],null,null,null,null,null)),(e()(),r._8(-1,null,["\n      "])),(e()(),r.T(20,0,null,null,1,"canvas",[["class","imageLayer"]],null,null,null,null,null)),(e()(),r._8(-1,null,["Only for HTML5 compatible browsers..."])),(e()(),r._8(-1,null,["\n    "])),(e()(),r._8(-1,null,["\n  "])),(e()(),r._8(-1,null,["\n  "])),(e()(),r.T(25,0,null,null,1,"div",[["class","legend"]],null,null,null,null,null)),(e()(),r._8(26,null,["",""])),(e()(),r._8(-1,null,["\n"])),(e()(),r._8(-1,null,["\n"]))],function(e,t){e(t,8,0,"primary"),e(t,12,0,"primary")},function(e,t){var n=t.component;e(t,7,0,r._3(t,8).disabled||null),e(t,11,0,r._3(t,12).disabled||null),e(t,26,0,n.legend)})}var Wt=r.P("app-root",s,function(e){return r._9(0,[(e()(),r.T(0,0,null,null,1,"app-root",[],null,null,null,zt,jt)),r.S(1,49152,null,0,s,[],null,null)],null,null)},{},{},[]),Yt=r.Q(i,[s],function(e){return r.Z([r._0(512,r.g,r.N,[[8,[Wt]],[3,r.g],r.q]),r._0(5120,r.p,r._5,[[3,r.p]]),r._0(4608,p,g,[r.p,[2,f]]),r._0(4608,r.f,r.f,[]),r._0(5120,r.a,r.V,[]),r._0(5120,r.n,r._1,[]),r._0(5120,r.o,r._4,[]),r._0(4608,Ve,Ke,[x]),r._0(6144,r.z,null,[Ve]),r._0(4608,me,xe,[]),r._0(5120,V,function(e,t,n,r,i){return[new pe(e,t),new be(n),new ve(r,i)]},[x,r.s,x,x,me]),r._0(4608,K,K,[V,r.s]),r._0(135680,z,z,[x]),r._0(4608,ee,ee,[K,z]),r._0(6144,r.x,null,[ee]),r._0(6144,j,null,[z]),r._0(4608,r.C,r.C,[r.s]),r._0(4608,k,k,[x]),r._0(4608,q,q,[x]),r._0(6144,v,null,[x]),r._0(4608,S,S,[[2,v]]),r._0(4608,rt,rt,[]),r._0(4608,Ct,Ct,[rt]),r._0(4608,Tt,Tt,[Ct,r.s,x]),r._0(136192,At,Ot,[[3,At],x]),r._0(5120,Rt,kt,[[3,Rt],[2,Ft],x]),r._0(5120,Mt,Nt,[[3,Mt],r.s,rt]),r._0(512,m,m,[]),r._0(1024,r.i,$e,[]),r._0(1024,r.b,function(e){return[(t=e,B("probe",G),B("coreTokens",Object(u.a)({},Q,(t||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return G})];var t},[[2,r.r]]),r._0(512,r.c,r.c,[[2,r.b]]),r._0(131584,r.e,r.e,[r.s,r.O,r.m,r.i,r.g,r.c]),r._0(512,r.d,r.d,[r.e]),r._0(512,et,et,[[3,et]]),r._0(512,y,y,[]),r._0(256,at,!0,[]),r._0(512,st,st,[[2,at]]),r._0(512,ot,ot,[]),r._0(512,gt,gt,[]),r._0(512,Ut,Ut,[]),r._0(512,Vt,Vt,[]),r._0(512,i,i,[])])});Object(r.I)(),Je().bootstrapModuleFactory(Yt).catch(function(e){return console.log(e)})},xLKd:function(e,t,n){(function(t){!function(){"use strict";var n=Math.PI/180,r={version:"1.7.6",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var e=r.DD;return!!e&&e.isDragging},isDragReady:function(){var e=r.DD;return!!e&&!!e.node},_addId:function(e,t){void 0!==t&&(this.ids[t]=e)},_removeId:function(e){void 0!==e&&delete this.ids[e]},_addName:function(e,t){t&&(this.names[t]||(this.names[t]=[]),this.names[t].push(e))},_removeName:function(e,t){if(e){var n=this.names[e];if(n){for(var r=0;r<n.length;r++)n[r]._id===t&&n.splice(r,1);0===n.length&&delete this.names[e]}}},getAngle:function(e){return this.angleDeg?e*n:e},_detectIE:function(e){var t=e.indexOf("msie ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)},_parseUA:function(e){var t=e.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(t)||/(webkit)[ /]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=!!e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!e.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:r._detectIE(t),mobile:i,ieMobile:o}},UA:void 0},i="undefined"!=typeof t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};r.UA=r._parseUA(i.navigator&&i.navigator.userAgent||""),i.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),i.Konva=r,r.global=i,r.window=i,r.document=i.document,e.exports=r}(),function(){"use strict";Konva.Collection=function(){var e=[].slice.call(arguments),t=e.length,n=0;for(this.length=t;n<t;n++)this[n]=e[n];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(e){for(var t=0;t<this.length;t++)e(this[t],t)},Konva.Collection.prototype.toArray=function(){var e,t=[],n=this.length;for(e=0;e<n;e++)t.push(this[e]);return t},Konva.Collection.toCollection=function(e){var t,n=new Konva.Collection,r=e.length;for(t=0;t<r;t++)n.push(e[t]);return n},Konva.Collection._mapMethod=function(e){Konva.Collection.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},Konva.Collection.mapMethods=function(e){var t=e.prototype;for(var n in t)Konva.Collection._mapMethod(n)},Konva.Transform=function(e){this.m=e&&e.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}},translate:function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this},scale:function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[1]*t+this.m[3]*n,i=this.m[0]*-n+this.m[2]*t,o=this.m[1]*-n+this.m[3]*t;return this.m[0]=this.m[0]*t+this.m[2]*n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(e,t){var n=this.m[1]+this.m[3]*t,r=this.m[2]+this.m[0]*e,i=this.m[3]+this.m[1]*e;return this.m[0]=this.m[0]+this.m[2]*t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this},multiply:function(e){var t=this.m[1]*e.m[0]+this.m[3]*e.m[1],n=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],i=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=this.m[0]*e.m[0]+this.m[2]*e.m[1],this.m[1]=t,this.m[2]=n,this.m[3]=r,this.m[4]=i,this.m[5]=o,this},invert:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=-this.m[1]*e,n=-this.m[2]*e,r=this.m[0]*e,i=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*e,this.m[1]=t,this.m[2]=n,this.m[3]=r,this.m[4]=i,this.m[5]=o,this},getMatrix:function(){return this.m},setAbsolutePosition:function(e,t){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[4],a=(n*(t-this.m[5])-r*(e-o))/(n*this.m[3]-r*i);return this.translate((e-o-i*a)/n,a)}};var e=Math.PI/180,t=180/Math.PI,n={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},r=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},_throttle:function(e,t,n){var r,i,o,a=null,s=0,u=n||{},l=function(){s=!1===u.leading?0:(new Date).getTime(),a=null,o=e.apply(r,i),r=i=null};return function(){var n=(new Date).getTime();s||!1!==u.leading||(s=n);var c=t-(n-s);return r=this,i=arguments,c<=0?(clearTimeout(a),a=null,s=n,o=e.apply(r,i),r=i=null):a||!1===u.trailing||(a=setTimeout(l,c)),o}},_hasMethods:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&this._isFunction(e[t])&&n.push(t);return n.length>0},isValidSelector:function(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},createCanvasElement:function(){var e=Konva.isBrowser?Konva.document.createElement("canvas"):new Konva._nodeCanvas;try{e.style=e.style||{}}catch(e){}return e},_isInDocument:function(e){for(;e=e.parentNode;)if(e==Konva.document)return!0;return!1},_simplifyArray:function(e){var t,n,r=[],i=e.length,o=Konva.Util;for(t=0;t<i;t++)o._isNumber(n=e[t])?n=Math.round(1e3*n)/1e3:o._isString(n)||(n=n.toString()),r.push(n);return r},_getImage:function(e,t){var n,r;e?this._isElement(e)?t(e):this._isString(e)?((n=new Konva.window.Image).onload=function(){t(n)},n.src=e):e.data?((r=Konva.Util.createCanvasElement()).width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),this._getImage(r.toDataURL(),t)):t(null):t(null)},_getRGBAString:function(e){return["rgba(",e.red||0,",",e.green||0,",",e.blue||0,",",e.alpha||1,")"].join("")},_rgbToHex:function(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},get:function(e,t){return void 0===e?t:e},getRGB:function(e){var t;return e in n?{r:(t=n[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=r.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",Konva.Util._namedColorToRBA(e)||Konva.Util._hex3ColorToRGBA(e)||Konva.Util._hex6ColorToRGBA(e)||Konva.Util._rgbColorToRGBA(e)||Konva.Util._rgbaColorToRGBA(e)},_namedColorToRBA:function(e){var t=n[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_merge:function(e,t){var n=this._clone(t);for(var r in e)n[r]=this._isObject(e[r])?this._merge(e[r],n[r]):e[r];return n},cloneObject:function(e){var t={};for(var n in e)t[n]=this._isObject(e[n])?this.cloneObject(e[n]):this._isArray(e[n])?this.cloneArray(e[n]):e[n];return t},cloneArray:function(e){return e.slice(0)},_degToRad:function(t){return t*e},_radToDeg:function(e){return e*t},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw:function(e){throw new Error("Konva error: "+e)},error:function(e){console.error("Konva error: "+e)},warn:function(e){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn("Konva warning: "+e)},extend:function(e,t){function n(){this.constructor=e}n.prototype=t.prototype;var r=e.prototype;for(var i in e.prototype=new n,r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.__super__=t.prototype,e.super=t},addMethods:function(e,t){var n;for(n in t)e.prototype[n]=t[n]},_getControlPoints:function(e,t,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),l=a*s/(s+u),c=a*u/(s+u);return[n-l*(i-e),r-l*(o-t),n+c*(i-e),r+c*(o-t)]},_expandPoints:function(e,t){var n,r,i=e.length,o=[];for(n=2;n<i-2;n+=2)r=Konva.Util._getControlPoints(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),o.push(r[0]),o.push(r[1]),o.push(e[n]),o.push(e[n+1]),o.push(r[2]),o.push(r[3]);return o},_removeLastLetter:function(e){return e.substring(0,e.length-1)},each:function(e,t){for(var n in e)t(n,e[n])},_getProjectionToSegment:function(e,t,n,r,i,o){var a,s,u,l=(e-n)*(e-n)+(t-r)*(t-r);if(0==l)a=e,s=t,u=(i-n)*(i-n)+(o-r)*(o-r);else{var c=((i-e)*(n-e)+(o-t)*(r-t))/l;c<0?(a=e,s=t,u=(e-i)*(e-i)+(t-o)*(t-o)):c>1?(a=n,s=r,u=(n-i)*(n-i)+(r-o)*(r-o)):u=((a=e+c*(n-e))-i)*(a-i)+((s=t+c*(r-t))-o)*(s-o)}return[a,s,u]},_getProjectionToLine:function(e,t,n){var r=Konva.Util.cloneObject(e),i=Number.MAX_VALUE;return t.forEach(function(o,a){if(n||a!==t.length-1){var s=t[(a+1)%t.length],u=Konva.Util._getProjectionToSegment(o.x,o.y,s.x,s.y,e.x,e.y),l=u[1],c=u[2];c<i&&(r.x=u[0],r.y=l,i=c)}}),r},_prepareArrayForTween:function(e,t,n){var r,i=[],o=[];if(e.length>t.length){var a=t;t=e,e=a}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});var s=[];return o.forEach(function(e){var t=Konva.Util._getProjectionToLine(e,i,n);s.push(t.x),s.push(t.y)}),s},_prepareToStringify:function(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||Konva.Util._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===Konva.Util._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e}}}(),function(){"use strict";var e;Konva.Canvas=function(e){this.init(e)},Konva.Canvas.prototype={init:function(t){var n=(t||{}).pixelRatio||Konva.pixelRatio||function(){if(e)return e;var t=Konva.Util.createCanvasElement().getContext("2d");return e=(Konva.window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=n,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)},setWidth:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},setHeight:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(e,t){this.setWidth(e),this.setHeight(t)},toDataURL:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return Konva.Util.warn("Unable to get data URL. "+e.message),""}}}},Konva.SceneCanvas=function(e){var t=e||{},n=t.width||0,r=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.SceneContext(this),this.setSize(n,r)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(e){var t=e||{},n=t.width||0,r=t.height||0;Konva.Canvas.call(this,t),this.context=new Konva.HitContext(this),this.setSize(n,r),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var e=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Konva.Context=function(e){this.init(e)},Konva.Context.prototype={init:function(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(e){e.getFillEnabled()&&this._fill(e)},strokeShape:function(e){e.getStrokeEnabled()&&this._stroke(e)},fillStrokeShape:function(e){e.getFillEnabled()&&this._fill(e),e.getStrokeEnabled()&&this._stroke(e)},getTrace:function(e){var t,n,r,i,o=this.traceArr,a=o.length,s="";for(t=0;t<a;t++)(r=(n=o[t]).method)?(i=n.args,s+=r,e?s+="()":Konva.Util._isArray(i[0])?s+="(["+i.join(",")+"])":s+="("+i.join(",")+")"):(s+=n.property,e||(s+="="+n.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(e){var t=this.traceArr;t.push(e),t.length>=Konva.traceArrMax&&t.shift()},reset:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)},getCanvas:function(){return this.canvas},clear:function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)},_applyLineCap:function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)},_applyOpacity:function(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},_applyLineJoin:function(e){var t=e.getLineJoin();t&&this.setAttr("lineJoin",t)},setAttr:function(e,t){this._context[e]=t},arc:function(){var e=arguments;this._context.arc(e[0],e[1],e[2],e[3],e[4],e[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var e=arguments;this._context.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])},clearRect:function(){var e=arguments;this._context.clearRect(e[0],e[1],e[2],e[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var e=arguments;return 2===e.length?this._context.createImageData(e[0],e[1]):1===e.length?this._context.createImageData(e[0]):void 0},createLinearGradient:function(){var e=arguments;return this._context.createLinearGradient(e[0],e[1],e[2],e[3])},createPattern:function(){var e=arguments;return this._context.createPattern(e[0],e[1])},createRadialGradient:function(){var e=arguments;return this._context.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5])},drawImage:function(){var e=arguments,t=this._context;3===e.length?t.drawImage(e[0],e[1],e[2]):5===e.length?t.drawImage(e[0],e[1],e[2],e[3],e[4]):9===e.length&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},isPointInPath:function(e,t){return this._context.isPointInPath(e,t)},fill:function(){this._context.fill()},fillRect:function(e,t,n,r){this._context.fillRect(e,t,n,r)},strokeRect:function(e,t,n,r){this._context.strokeRect(e,t,n,r)},fillText:function(){var e=arguments;this._context.fillText(e[0],e[1],e[2])},measureText:function(e){return this._context.measureText(e)},getImageData:function(){var e=arguments;return this._context.getImageData(e[0],e[1],e[2],e[3])},lineTo:function(){var e=arguments;this._context.lineTo(e[0],e[1])},moveTo:function(){var e=arguments;this._context.moveTo(e[0],e[1])},rect:function(){var e=arguments;this._context.rect(e[0],e[1],e[2],e[3])},putImageData:function(){var e=arguments;this._context.putImageData(e[0],e[1],e[2])},quadraticCurveTo:function(){var e=arguments;this._context.quadraticCurveTo(e[0],e[1],e[2],e[3])},restore:function(){this._context.restore()},rotate:function(){this._context.rotate(arguments[0])},save:function(){this._context.save()},scale:function(){var e=arguments;this._context.scale(e[0],e[1])},setLineDash:function(){var e=arguments,t=this._context;this._context.setLineDash?t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var e=arguments;this._context.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},stroke:function(){this._context.stroke()},strokeText:function(){var e=arguments;this._context.strokeText(e[0],e[1],e[2])},transform:function(){var e=arguments;this._context.transform(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(){var e=arguments;this._context.translate(e[0],e[1])},_enableTrace:function(){var t,n,r=this,i=e.length,o=Konva.Util._simplifyArray,a=this.setAttr,s=function(e){var t,i=r[e];r[e]=function(){return n=o(Array.prototype.slice.call(arguments,0)),t=i.apply(r,arguments),r._trace({method:e,args:n}),t}};for(t=0;t<i;t++)s(e[t]);r.setAttr=function(){a.apply(r,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),r._trace({property:e,val:t})}}},["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"].forEach(function(e){Object.defineProperty(Konva.Context.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})}),Konva.SceneContext=function(e){Konva.Context.call(this,e)},Konva.SceneContext.prototype={_fillColor:function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)},_fillPattern:function(e){var t=e.getFillPatternX(),n=e.getFillPatternY(),r=e.getFillPatternScale(),i=Konva.getAngle(e.getFillPatternRotation()),o=e.getFillPatternOffset();(t||n)&&this.translate(t||0,n||0),i&&this.rotate(i),r&&this.scale(r.x,r.y),o&&this.translate(-1*o.x,-1*o.y),this.setAttr("fillStyle",this.createPattern(e.getFillPatternImage(),e.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(e){var t=e.getFillLinearGradientStartPoint(),n=e.getFillLinearGradientEndPoint(),r=e.getFillLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("fillStyle",i),e._fillFunc(this)}},_fillRadialGradient:function(e){for(var t=e.getFillRadialGradientStartPoint(),n=e.getFillRadialGradientEndPoint(),r=e.getFillRadialGradientStartRadius(),i=e.getFillRadialGradientEndRadius(),o=e.getFillRadialGradientColorStops(),a=this.createRadialGradient(t.x,t.y,r,n.x,n.y,i),s=0;s<o.length;s+=2)a.addColorStop(o[s],o[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(e){var t=e.fill(),n=e.getFillPatternImage(),r=e.getFillLinearGradientColorStops(),i=e.getFillRadialGradientColorStops(),o=e.getFillPriority();t&&"color"===o?this._fillColor(e):n&&"pattern"===o?this._fillPattern(e):r&&"linear-gradient"===o?this._fillLinearGradient(e):i&&"radial-gradient"===o?this._fillRadialGradient(e):t?this._fillColor(e):n?this._fillPattern(e):r?this._fillLinearGradient(e):i&&this._fillRadialGradient(e)},_stroke:function(e){var t=e.dash(),n=e.getStrokeScaleEnabled()||e instanceof Konva.Text;e.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.stroke()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e._strokeFunc(this),n||this.restore())},_applyShadow:function(e){var t=Konva.Util,n=t.get(e.getShadowRGBA(),"black"),r=t.get(e.getShadowBlur(),5),i=t.get(e.getShadowOffset(),{x:0,y:0}),o=e.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=o.x*a,u=o.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*a*Math.min(Math.abs(s),Math.abs(u))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*u)},_applyGlobalCompositeOperation:function(e){var t=e.getGlobalCompositeOperation();"source-over"!==t&&this.setAttr("globalCompositeOperation",t)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(e){Konva.Context.call(this,e)},Konva.HitContext.prototype={_fill:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()},_stroke:function(e){if(e.hasStroke()&&e.strokeHitEnabled()){var t=e.getStrokeScaleEnabled()||e instanceof Konva.Text;t||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(e),this.setAttr("lineWidth",e.strokeWidth()),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";Konva.Factory={addGetterSetter:function(e,t,n,r,i){this.addGetter(e,t,n),this.addSetter(e,t,r,i),this.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,n){var r="get"+Konva.Util._capitalize(t);e.prototype[r]=function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter:function(e,t,n,r){var i="set"+Konva.Util._capitalize(t);e.prototype[i]=function(e){return n&&(e=n.call(this,e)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter:function(e,t,n,r,i){var o,a,s=n.length,u=Konva.Util._capitalize,l="get"+u(t),c="set"+u(t);e.prototype[l]=function(){var e={};for(o=0;o<s;o++)e[a=n[o]]=this.getAttr(t+u(a));return e},e.prototype[c]=function(e){var n,o=this.attrs[t];for(n in r&&(e=r.call(this,e)),e)e.hasOwnProperty(n)&&this._setAttr(t+u(n),e[n]);return this._fireChangeEvent(t,o,e),i&&i.call(this),this},this.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var n=Konva.Util._capitalize(t),r="set"+n,i="get"+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter:function(e,t,n,r){var i="get"+Konva.Util._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){Konva.Util.error(o);var e=this.attrs[t];return void 0===e?n:e},this.addSetter(e,t,r,function(){Konva.Util.error(o)}),this.addOverloadedGetterSetter(e,t)},backCompat:function(e,t){Konva.Util.each(t,function(t,n){var r=e.prototype[n];e.prototype[t]=function(){r.apply(this,arguments),Konva.Util.error(t+" method is deprecated and will be removed soon. Use "+n+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(e){return e>255?255:e<0?0:Math.round(e)},alphaComponent:function(e){return e>1?1:e<1e-4?1e-4:e}}}(),function(e){"use strict";var t=["id"],n=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),r=["scaleXChange.konva","scaleYChange.konva"].join(" ");e.Node=function(e){this._init(e)},e.Util.addMethods(e.Node,{_init:function(t){var i=this;this._id=e.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(t),this.on(n,function(){this._clearCache("transform"),i._clearSelfAndDescendantCache("absoluteTransform")}),this.on(r,function(){i._clearSelfAndDescendantCache("absoluteScale")}),this.on("visibleChange.konva",function(){i._clearSelfAndDescendantCache("visible")}),this.on("listeningChange.konva",function(){i._clearSelfAndDescendantCache("listening")}),this.on("opacityChange.konva",function(){i._clearSelfAndDescendantCache("absoluteOpacity")})},_clearCache:function(e){e?delete this._cache[e]:this._cache={}},_getCache:function(e,t){return void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},_clearSelfAndDescendantCache:function(e){this._clearCache(e),this.children&&this.getChildren().each(function(t){t._clearSelfAndDescendantCache(e)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var n=t||{},r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}),i=n.width||r.width,o=n.height||r.height,a=n.pixelRatio,s=n.x||r.x,u=n.y||r.y,l=n.offset||0,c=n.drawBorder||!1;if(i&&o){s-=l,u-=l;var h=new e.SceneCanvas({pixelRatio:a,width:i+=2*l,height:o+=2*l}),d=new e.SceneCanvas({pixelRatio:a,width:i,height:o}),f=new e.HitCanvas({pixelRatio:1,width:i,height:o}),p=h.getContext(),g=f.getContext();return f.isCache=!0,this.clearCache(),p.save(),g.save(),p.translate(-s,-u),g.translate(-s,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache("absoluteOpacity"),this._clearSelfAndDescendantCache("absoluteScale"),this.drawScene(h,this,!0),this.drawHit(f,this,!0),this._isUnderCache=!1,p.restore(),g.restore(),c&&(p.save(),p.beginPath(),p.rect(0,0,i,o),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.canvas={scene:h,filter:d,hit:f,x:s,y:u},this}setTimeout(function(){e.Util.throw("Width or height of caching configuration equals 0. Caching is ignored.")})},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(e,t){var n,r,i,o,a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return a.forEach(function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)}),{x:n,y:r,width:i-n,height:o-r}},_drawCachedSceneCanvas:function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this),e.translate(this._cache.canvas.x,this._cache.canvas.y);var t=this._getCachedSceneCanvas(),n=t.pixelRatio;e.drawImage(t._canvas,0,0,t.width/n,t.height/n),e.restore()},_drawCachedHitCanvas:function(e){var t=this._cache.canvas.hit;e.save(),e.translate(this._cache.canvas.x,this._cache.canvas.y),e.drawImage(t._canvas,0,0),e.restore()},_getCachedSceneCanvas:function(){var t,n,r,i,o=this.filters(),a=this._cache.canvas,s=a.scene,u=a.filter,l=u.getContext();if(o){if(!this._filterUpToDate){var c=s.pixelRatio;try{for(t=o.length,l.clear(),l.drawImage(s._canvas,0,0,s.getWidth()/c,s.getHeight()/c),n=l.getImageData(0,0,u.getWidth(),u.getHeight()),r=0;r<t;r++)"function"==typeof(i=o[r])?(i.call(this,n),l.putImageData(n,0,0)):e.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(t){e.Util.error("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return u}return s},on:function(e,t){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=e.split(" "),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:t});return this},off:function(e){var t,n,r,i,o,a=(e||"").split(" "),s=a.length;if(!e)for(n in this.eventListeners)this._off(n);for(t=0;t<s;t++)if(o=(r=a[t].split("."))[1],i=r[0])this.eventListeners[i]&&this._off(i,o);else for(n in this.eventListeners)this._off(n,o);return this},dispatchEvent:function(e){return this.fire(e.type,{target:this,type:e.type,evt:e}),this},addEventListener:function(e,t){return this.on(e,function(e){t.call(this,e.evt)}),this},removeEventListener:function(e){return this.off(e),this},_delegate:function(t,n,r){var i=this;this.on(t,function(t){for(var o=t.target.findAncestors(n,!0,i),a=0;a<o.length;a++)(t=e.Util.cloneObject(t)).currentTarget=o[a],r.call(o[a],t)})},remove:function(){var e=this.getParent();return e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache("absoluteTransform"),this._clearSelfAndDescendantCache("visible"),this._clearSelfAndDescendantCache("listening"),this._clearSelfAndDescendantCache("absoluteOpacity"),this},destroy:function(){e._removeId(this.getId());for(var t=(this.getName()||"").split(/\s/g),n=0;n<t.length;n++)e._removeName(t[n],this._id);return this.remove(),this},getAttr:function(t){var n="get"+e.Util._capitalize(t);return e.Util._isFunction(this[n])?this[n]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),n=new e.Collection;t;)n.push(t),t=t.getParent();return n},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var n,r;if(!t)return this;for(n in t)"children"!==n&&(r="set"+e.Util._capitalize(n),e.Util._isFunction(this[r])?this[r](t[n]):this._setAttr(n,t[n]));return this},isListening:function(){return this._getCache("listening",this._isListening)},_isListening:function(){var e=this.getListening(),t=this.getParent();return"inherit"===e?!t||t.isListening():e},isVisible:function(){return this._getCache("visible",this._isVisible)},_isVisible:function(){var e=this.getVisible(),t=this.getParent();return"inherit"===e?!t||t.isVisible():e},shouldDrawHit:function(e){var t=this.getLayer();return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var e,t,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(u){for(e=[],t=u.length,n=0;n<t;n++)a++,"Shape"!==(r=u[n]).nodeType&&(e=e.concat(r.getChildren().toArray())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(o.getStage().getChildren()),a},getDepth:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},setPosition:function(e){return this.setX(e.x),this.setY(e.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(t){var n=this.getAbsoluteTransform(t).getMatrix(),r=new e.Transform,i=this.offset();return r.m=n.slice(),r.translate(i.x,i.y),r.getTranslation()},setAbsolutePosition:function(e){var t,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,(t=this.getAbsoluteTransform()).invert(),t.translate(e.x,e.y),e={x:this.attrs.x+t.getTranslation().x,y:this.attrs.y+t.getTranslation().y},this.setPosition({x:e.x,y:e.y}),this._setTransform(n),this},_setTransform:function(e){var t;for(t in e)this.attrs[t]=e[t];this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},_clearTransform:function(){var e={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform"),e},move:function(e){var t=e.x,n=e.y,r=this.getX(),i=this.getY();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},_eachAncestorReverse:function(e,t){var n,r,i=[],o=this.getParent();if(t&&t._id===this._id)return e(this),!0;for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])},rotate:function(e){return this.setRotation(this.getRotation()+e),this},moveToTop:function(){return this.parent?(this.parent.children.splice(this.index,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):(e.Util.warn("Node has no parent. moveToTop function is ignored."),!1)},moveUp:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(t){return this.parent?(this.parent.children.splice(this.index,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this):(e.Util.warn("Node has no parent. zIndex parameter is ignored."),!1)},getAbsoluteOpacity:function(){return this._getCache("absoluteOpacity",this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var e=this.getOpacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=this.getParent().getAbsoluteOpacity()),e},moveTo:function(e){return this.getParent()!==e&&((this.__originalRemove||this.remove).call(this),e.add(this)),this},toObject:function(){var t,n,r,i,o={},a=this.getAttrs();for(t in o.attrs={},a)n=a[t],r=this[t],delete a[t],i=r?r.call(this):null,a[t]=n,i!==n&&(o.attrs[t]=n);return o.className=this.getClassName(),e.Util._prepareToStringify(o)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r},findAncestor:function(e,t,n){return this.findAncestors(e,t,n)[0]},_isMatch:function(t){if(!t)return!1;var n,r,i=t.replace(/ /g,"").split(","),o=i.length;for(n=0;n<o;n++)if(e.Util.isValidSelector(r=i[n])||(e.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(0!==this._get(r).length)return!0;return!1},getLayer:function(){var e=this.getParent();return e?e.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var e=this.getParent();return e?e.getStage():void 0},fire:function(e,t,n){return(t=t||{}).target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this},getAbsoluteTransform:function(e){return e?this._getAbsoluteTransform(e):this._getCache("absoluteTransform",this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var n,r,i=new e.Transform;return this._eachAncestorReverse(function(e){n=e.transformsEnabled(),r=e.getTransform(),"all"===n?i.multiply(r):"position"===n&&i.translate(e.x(),e.y())},t),i},getAbsoluteScale:function(e){return e?this._getAbsoluteScale(e):this._getCache("absoluteScale",this._getAbsoluteScale)},_getAbsoluteScale:function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var n=1,r=1;return this._eachAncestorReverse(function(e){n*=e.scaleX(),r*=e.scaleY()},e),{x:n,y:r}},getTransform:function(){return this._getCache("transform",this._getTransform)},_getTransform:function(){var t=new e.Transform,n=this.getX(),r=this.getY(),i=e.getAngle(this.getRotation()),o=this.getScaleX(),a=this.getScaleY(),s=this.getSkewX(),u=this.getSkewY(),l=this.getOffsetX(),c=this.getOffsetY();return 0===n&&0===r||t.translate(n,r),0!==i&&t.rotate(i),0===s&&0===u||t.skew(s,u),1===o&&1===a||t.scale(o,a),0===l&&0===c||t.translate(-1*l,-1*c),t},clone:function(n){var r,i,o,a,s,u=e.Util.cloneObject(this.attrs);for(var l in t)delete u[t[l]];for(r in n)u[r]=n[r];var c=new this.constructor(u);for(r in this.eventListeners)for(o=(i=this.eventListeners[r]).length,a=0;a<o;a++)(s=i[a]).name.indexOf("konva")<0&&(c.eventListeners[r]||(c.eventListeners[r]=[]),c.eventListeners[r].push(s));return c},_toKonvaCanvas:function(t){t=t||{};var n=this.getStage(),r=t.x||0,i=t.y||0,o=t.pixelRatio||1,a=new e.SceneCanvas({width:t.width||this.getWidth()||(n?n.getWidth():0),height:t.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:o}),s=a.getContext();return s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(a),s.restore(),a},toCanvas:function(e){return this._toKonvaCanvas(e)._canvas},toDataURL:function(e){var t=(e=e||{}).mimeType||null,n=e.quality||null;return this._toKonvaCanvas(e).toDataURL(t,n)},toImage:function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";e.Util._getImage(this.toDataURL(t),function(e){t.callback(e)})},setSize:function(e){return this.setWidth(e.width),this.setHeight(e.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():e.dragDistance},_get:function(e){return this.className===e||this.nodeType===e?[this]:[]},_off:function(e,t){var n,r,i=this.eventListeners[e];for(n=0;n<i.length;n++)if(!("konva"===(r=i[n].name)&&"konva"!==t||t&&r!==t)){if(i.splice(n,1),0===i.length){delete this.eventListeners[e];break}n--}},_fireChangeEvent:function(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})},setId:function(t){var n=this.getId();return e._removeId(n),e._addId(this,t),this._setAttr("id",t),this},setName:function(t){var n,r,i=(this.getName()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<i.length;r++)-1===o.indexOf(n=i[r])&&n&&e._removeName(n,this._id);for(r=0;r<o.length;r++)-1===i.indexOf(n=o[r])&&n&&e._addName(this,n);return this._setAttr("name",t),this},addName:function(e){if(!this.hasName(e)){var t=this.name();this.setName(t?t+" "+e:e)}return this},hasName:function(e){return-1!==(this.name()||"").split(/\s/g).indexOf(e)},removeName:function(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.setName(t.join(" "))),this},setAttr:function(t,n){var r=this["set"+e.Util._capitalize(t)];return e.Util._isFunction(r)?r.call(this,n):this._setAttr(t,n),this},_setAttr:function(e,t){var n;(n=this.attrs[e])!==t&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._fireChangeEvent(e,n,t))},_setComponentAttr:function(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))},_fireAndBubble:function(e,t,n){var r=!0;if(t&&"Shape"===this.nodeType&&(t.target=this),"mouseenter"===e&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?r=!1:"mouseleave"===e&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(r=!1),r){this._fire(e,t);var i=("mouseenter"===e||"mouseleave"===e)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n.parent):this._fireAndBubble.call(this.parent,e,t))}},_fire:function(e,t){var n,r=this.eventListeners[e];if((t=t||{}).currentTarget=this,t.type=e,r)for(n=0;n<r.length;n++)r[n].handler.call(this,t)},draw:function(){return this.drawScene(),this.drawHit(),this}}),e.Node.create=function(t,n){return e.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)},e.Node._createNode=function(t,n){var r,i,o,a=e.Node.prototype.getClassName.call(t),s=t.children;if(n&&(t.attrs.container=n),r=new e[a](t.attrs),s)for(i=s.length,o=0;o<i;o++)r.add(this._createNode(s[o]));return r},e.Factory.addOverloadedGetterSetter(e.Node,"position"),e.Factory.addGetterSetter(e.Node,"x",0),e.Factory.addGetterSetter(e.Node,"y",0),e.Factory.addGetterSetter(e.Node,"globalCompositeOperation","source-over"),e.Factory.addGetterSetter(e.Node,"opacity",1),e.Factory.addGetter(e.Node,"name"),e.Factory.addOverloadedGetterSetter(e.Node,"name"),e.Factory.addGetter(e.Node,"id"),e.Factory.addOverloadedGetterSetter(e.Node,"id"),e.Factory.addGetterSetter(e.Node,"rotation",0),e.Factory.addComponentsGetterSetter(e.Node,"scale",["x","y"]),e.Factory.addGetterSetter(e.Node,"scaleX",1),e.Factory.addGetterSetter(e.Node,"scaleY",1),e.Factory.addComponentsGetterSetter(e.Node,"skew",["x","y"]),e.Factory.addGetterSetter(e.Node,"skewX",0),e.Factory.addGetterSetter(e.Node,"skewY",0),e.Factory.addComponentsGetterSetter(e.Node,"offset",["x","y"]),e.Factory.addGetterSetter(e.Node,"offsetX",0),e.Factory.addGetterSetter(e.Node,"offsetY",0),e.Factory.addSetter(e.Node,"dragDistance"),e.Factory.addOverloadedGetterSetter(e.Node,"dragDistance"),e.Factory.addSetter(e.Node,"width",0),e.Factory.addOverloadedGetterSetter(e.Node,"width"),e.Factory.addSetter(e.Node,"height",0),e.Factory.addOverloadedGetterSetter(e.Node,"height"),e.Factory.addGetterSetter(e.Node,"listening","inherit"),e.Factory.addGetterSetter(e.Node,"preventDefault",!0),e.Factory.addGetterSetter(e.Node,"filters",void 0,function(e){return this._filterUpToDate=!1,e}),e.Factory.addGetterSetter(e.Node,"visible","inherit"),e.Factory.addGetterSetter(e.Node,"transformsEnabled","all"),e.Factory.addOverloadedGetterSetter(e.Node,"size"),e.Factory.backCompat(e.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),e.Collection.mapMethods(e.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(e){var t,n,r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]=n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t+1]=n,r[t+2]=n}}(),function(e){"use strict";e.Filters.Brighten=function(e){var t,n=255*this.brightness(),r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},e.Factory.addGetterSetter(e.Node,"brightness",0,null,e.Factory.afterSetFilter)}(Konva),function(){"use strict";Konva.Filters.Invert=function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]}}(),function(e){"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Filters.Blur=function(e){var i=Math.round(this.blurRadius());i>0&&function(e,i){var o,a,s,u,l,c,h,d,f,p,g,m,x,v,S,y,b,C,w,_,D,T,L,E,I=e.data,P=e.width,A=e.height,O=i+i+1,F=P-1,R=A-1,k=i+1,M=k*(k+1)/2,N=new t,U=null,q=N,B=null,Q=null,G=n[i],V=r[i];for(s=1;s<O;s++)q=q.next=new t,s===k&&(U=q);for(q.next=N,h=c=0,a=0;a<A;a++){for(y=b=C=w=d=f=p=g=0,m=k*(_=I[c]),x=k*(D=I[c+1]),v=k*(T=I[c+2]),S=k*(L=I[c+3]),d+=M*_,f+=M*D,p+=M*T,g+=M*L,q=N,s=0;s<k;s++)q.r=_,q.g=D,q.b=T,q.a=L,q=q.next;for(s=1;s<k;s++)d+=(q.r=_=I[u=c+((F<s?F:s)<<2)])*(E=k-s),f+=(q.g=D=I[u+1])*E,p+=(q.b=T=I[u+2])*E,g+=(q.a=L=I[u+3])*E,y+=_,b+=D,C+=T,w+=L,q=q.next;for(B=N,Q=U,o=0;o<P;o++)I[c+3]=L=g*G>>V,0!==L?(I[c]=(d*G>>V)*(L=255/L),I[c+1]=(f*G>>V)*L,I[c+2]=(p*G>>V)*L):I[c]=I[c+1]=I[c+2]=0,d-=m,f-=x,p-=v,g-=S,m-=B.r,x-=B.g,v-=B.b,S-=B.a,u=h+((u=o+i+1)<F?u:F)<<2,d+=y+=B.r=I[u],f+=b+=B.g=I[u+1],p+=C+=B.b=I[u+2],g+=w+=B.a=I[u+3],B=B.next,m+=_=Q.r,x+=D=Q.g,v+=T=Q.b,S+=L=Q.a,y-=_,b-=D,C-=T,w-=L,Q=Q.next,c+=4;h+=P}for(o=0;o<P;o++){for(b=C=w=y=f=p=g=d=0,m=k*(_=I[c=o<<2]),x=k*(D=I[c+1]),v=k*(T=I[c+2]),S=k*(L=I[c+3]),d+=M*_,f+=M*D,p+=M*T,g+=M*L,q=N,s=0;s<k;s++)q.r=_,q.g=D,q.b=T,q.a=L,q=q.next;for(l=P,s=1;s<=i;s++)d+=(q.r=_=I[c=l+o<<2])*(E=k-s),f+=(q.g=D=I[c+1])*E,p+=(q.b=T=I[c+2])*E,g+=(q.a=L=I[c+3])*E,y+=_,b+=D,C+=T,w+=L,q=q.next,s<R&&(l+=P);for(c=o,B=N,Q=U,a=0;a<A;a++)I[3+(u=c<<2)]=L=g*G>>V,L>0?(I[u]=(d*G>>V)*(L=255/L),I[u+1]=(f*G>>V)*L,I[u+2]=(p*G>>V)*L):I[u]=I[u+1]=I[u+2]=0,d-=m,f-=x,p-=v,g-=S,m-=B.r,x-=B.g,v-=B.b,S-=B.a,u=o+((u=a+k)<R?u:R)*P<<2,d+=y+=B.r=I[u],f+=b+=B.g=I[u+1],p+=C+=B.b=I[u+2],g+=w+=B.a=I[u+3],B=B.next,m+=_=Q.r,x+=D=Q.g,v+=T=Q.b,S+=L=Q.a,y-=_,b-=D,C-=T,w-=L,Q=Q.next,c+=P}}(e,i)},e.Factory.addGetterSetter(e.Node,"blurRadius",0,null,e.Factory.afterSetFilter)}(Konva),function(){"use strict";function e(e,t,n){var r=4*(n*e.width+t),i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function t(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}Konva.Filters.Mask=function(n){var r=function(n,r){var i=e(n,0,0),o=e(n,n.width-1,0),a=e(n,0,n.height-1),s=e(n,n.width-1,n.height-1),u=r||10;if(t(i,o)<u&&t(o,s)<u&&t(s,a)<u&&t(a,i)<u){for(var l=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([o,i,s,a]),c=[],h=0;h<n.width*n.height;h++){var d=t(l,[n.data[4*h],n.data[4*h+1],n.data[4*h+2]]);c[h]=d<u?0:255}return c}}(n,this.threshold());return r&&function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(n,r=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<t;u++){for(var l=s*t+u,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=u+d-o;f>=0&&f<n&&p>=0&&p<t&&(c+=e[f*t+p]*r[h*i+d])}a[l]=c}return a}(r=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<t;u++){for(var l=s*t+u,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=u+d-o;f>=0&&f<n&&p>=0&&p<t&&(c+=e[f*t+p]*r[h*i+d])}a[l]=c>=1020?255:0}return a}(r=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<t;u++){for(var l=s*t+u,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=u+d-o;f>=0&&f<n&&p>=0&&p<t&&(c+=e[f*t+p]*r[h*i+d])}a[l]=2040===c?255:0}return a}(r,n.width,n.height),n.width,n.height),n.width,n.height)),n},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(t=0;t<i;t+=4)r[t]=(n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255)*o,r[t+1]=n*a,r[t+2]=n*s,r[t+3]=r[t+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),u=this.alpha();for(t=0;t<i;t+=4)r[t]=o*u+r[t]*(n=1-u),r[t+1]=a*u+r[t+1]*n,r[t+2]=s*u+r[t+2]*n},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e})}(),function(){"use strict";Konva.Filters.HSV=function(e){var t,n,r,i,o,a=e.data,s=a.length,u=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,h=u*l*Math.cos(c*Math.PI/180),d=u*l*Math.sin(c*Math.PI/180),f=.299*u+.701*h+.167*d,p=.587*u-.587*h+.33*d,g=.114*u-.114*h-.497*d,m=.299*u-.299*h-.328*d,x=.587*u+.413*h+.035*d,v=.114*u-.114*h+.293*d,S=.299*u-.3*h+1.25*d,y=.587*u-.586*h-1.05*d,b=.114*u+.886*h-.2*d;for(t=0;t<s;t+=4)o=a[t+3],a[t+0]=f*(n=a[t+0])+p*(r=a[t+1])+g*(i=a[t+2]),a[t+1]=m*n+x*r+v*i,a[t+2]=S*n+y*r+b*i,a[t+3]=o},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(e){var t,n,r,i,o,a=e.data,s=a.length,u=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=127*this.luminance(),h=1*u*Math.cos(l*Math.PI/180),d=1*u*Math.sin(l*Math.PI/180),f=.299+.701*h+.167*d,p=.587-.587*h+.33*d,g=.114-.114*h-.497*d,m=.299-.299*h-.328*d,x=.587+.413*h+.035*d,v=.114-.114*h+.293*d,S=.299-.3*h+1.25*d,y=.587-.586*h-1.05*d,b=.114+.886*h-.2*d;for(t=0;t<s;t+=4)o=a[t+3],a[t+0]=f*(n=a[t+0])+p*(r=a[t+1])+g*(i=a[t+2])+c,a[t+1]=m*n+x*r+v*i+c,a[t+2]=S*n+y*r+b*i+c,a[t+3]=o}}(),function(){"use strict";Konva.Filters.Emboss=function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=e.data,u=e.width,l=e.height,c=4*u,h=l;switch(r){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:Konva.Util.error("Unknown emboss direction: "+r)}do{var d=(h-1)*c,f=o;h+f<1&&(f=0),h+f>l&&(f=0);var p=(h-1+f)*u*4,g=u;do{var m=d+4*(g-1),x=a;g+x<1&&(x=0),g+x>u&&(x=0);var v=p+4*(g-1+x),S=s[m+1]-s[v+1],y=s[m+2]-s[v+2],b=s[m]-s[v],C=b>0?b:-b;if((S>0?S:-S)>C&&(b=S),(y>0?y:-y)>C&&(b=y),b*=t,i){var w=s[m]+b,_=s[m+1]+b,D=s[m+2]+b;s[m]=w>255?255:w<0?0:w,s[m+1]=_>255?255:_<0?0:_,s[m+2]=D>255?255:D<0?0:D}else{var T=n-b;T<0?T=0:T>255&&(T=255),s[m]=s[m+1]=s[m+2]=T}}while(--g)}while(--h)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function e(e,t,n,r,i){var o=n-t,a=i-r;return 0===o?r+a/2:0===a?r:a*((e-t)/o)+r}Konva.Filters.Enhance=function(t){var n,r,i,o,a=t.data,s=a.length,u=a[0],l=u,c=a[1],h=c,d=a[2],f=d,p=this.enhance();if(0!==p){for(o=0;o<s;o+=4)(n=a[o+0])<u?u=n:n>l&&(l=n),(r=a[o+1])<c?c=r:r>h&&(h=r),(i=a[o+2])<d?d=i:i>f&&(f=i);var g,m,x,v,S,y,b,C,w;for(l===u&&(l=255,u=0),h===c&&(h=255,c=0),f===d&&(f=255,d=0),p>0?(m=l+p*(255-l),x=u-p*(u-0),S=h+p*(255-h),y=c-p*(c-0),C=f+p*(255-f),w=d-p*(d-0)):(m=l+p*(l-(g=.5*(l+u))),x=u+p*(u-g),S=h+p*(h-(v=.5*(h+c))),y=c+p*(c-v),C=f+p*(f-(b=.5*(f+d))),w=d+p*(d-b)),o=0;o<s;o+=4)a[o+0]=e(a[o+0],u,l,x,m),a[o+1]=e(a[o+1],c,h,y,S),a[o+2]=e(a[o+2],d,f,w,C)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,i=r.length,o=255/n;for(t=0;t<i;t+=1)r[t]=Math.floor(r[t]/o)*o},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(e){var t,n=255*this.noise(),r=e.data,i=r.length,o=n/2;for(t=0;t<i;t+=4)r[t+0]+=o-2*o*Math.random(),r[t+1]+=o-2*o*Math.random(),r[t+2]+=o-2*o*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(e){var t,n,r,i,o,a,s,u,l,c,h,d,f,p,g=Math.ceil(this.pixelSize()),m=e.width,x=e.height,v=Math.ceil(m/g),S=Math.ceil(x/g);if(e=e.data,g<=0)Konva.Util.error("pixelSize value can not be <= 0");else for(d=0;d<v;d+=1)for(f=0;f<S;f+=1){for(i=0,o=0,a=0,s=0,l=(u=d*g)+g,h=(c=f*g)+g,p=0,t=u;t<l;t+=1)if(!(t>=m))for(n=c;n<h;n+=1)n>=x||(i+=e[0+(r=4*(m*n+t))],o+=e[r+1],a+=e[r+2],s+=e[r+3],p+=1);for(i/=p,o/=p,a/=p,t=u;t<l;t+=1)if(!(t>=m))for(n=c;n<h;n+=1)n>=x||(e[0+(r=4*(m*n+t))]=i,e[r+1]=o,e[r+2]=a,e[r+3]=s)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(e){var t,n=255*this.threshold(),r=e.data,i=r.length;for(t=0;t<i;t+=1)r[t]=r[t]<n?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Sepia=function(e){var t,n,r,i,o,a,s,u,l,c=e.data,h=e.width,d=e.height,f=4*h;do{t=(d-1)*f,n=h;do{u=.349*(i=c[r=t+4*(n-1)])+.686*(o=c[r+1])+.168*(a=c[r+2]),l=.272*i+.534*o+.131*a,c[r]=(s=.393*i+.769*o+.189*a)>255?255:s,c[r+1]=u>255?255:u,c[r+2]=l>255?255:l,c[r+3]=c[r+3]}while(--n)}while(--d)}}(),function(){"use strict";Konva.Filters.Solarize=function(e){var t=e.data,n=e.width,r=4*n,i=e.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),u=t[s],l=t[s+1],c=t[s+2];u>127&&(u=255-u),l>127&&(l=255-l),c>127&&(c=255-c),t[s]=u,t[s+1]=l,t[s+2]=c}while(--a)}while(--i)}}(),function(){"use strict";Konva.Filters.Kaleidoscope=function(e){var t,n,r,i,o,a,s,u,l,c=e.width,h=e.height,d=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(f%360)/360);if(!(d<1)){var g=Konva.Util.createCanvasElement();g.width=c,g.height=h;var m=g.getContext("2d").getImageData(0,0,c,h);!function(t,n,r){var i,o,a,s,u=e.data,l=m.data,c=e.width,h=e.height,d=r.polarCenterX||c/2,f=r.polarCenterY||h/2,p=0,g=0,x=0,v=0,S=Math.sqrt(d*d+f*f);o=c-d,a=h-f,S=(s=Math.sqrt(o*o+a*a))>S?s:S;var y,b,C,w,_=h,D=c,T=360/D*Math.PI/180;for(b=0;b<D;b+=1)for(C=Math.sin(b*T),w=Math.cos(b*T),y=0;y<_;y+=1)o=Math.floor(d+S*y/_*w),p=u[0+(i=4*((a=Math.floor(f+S*y/_*C))*c+o))],g=u[i+1],x=u[i+2],v=u[i+3],l[0+(i=4*(b+y*c))]=p,l[i+1]=g,l[i+2]=x,l[i+3]=v}(0,0,{polarCenterX:c/2,polarCenterY:h/2});for(var x=c/Math.pow(2,d);x<=8;)x*=2,d-=1;var v=x=Math.ceil(x),S=0,y=v,b=1;for(p+x>c&&(S=v,y=0,b=-1),n=0;n<h;n+=1)for(t=S;t!==y;t+=b)r=Math.round(t+p)%c,o=m.data[1+(u=4*(c*n+r))],a=m.data[u+2],s=m.data[u+3],m.data[0+(l=4*(c*n+t))]=m.data[u+0],m.data[l+1]=o,m.data[l+2]=a,m.data[l+3]=s;for(n=0;n<h;n+=1)for(v=Math.floor(x),i=0;i<d;i+=1){for(t=0;t<v+1;t+=1)o=m.data[1+(u=4*(c*n+t))],a=m.data[u+2],s=m.data[u+3],m.data[0+(l=4*(c*n+2*v-t-1))]=m.data[u+0],m.data[l+1]=o,m.data[l+2]=a,m.data[l+3]=s;v*=2}!function(t,n,r){var i,o,a,s,u,l,c=m.data,h=e.data,d=m.width,f=m.height,p=r.polarCenterX||d/2,g=r.polarCenterY||f/2,x=0,v=0,S=0,y=0,b=Math.sqrt(p*p+g*g);o=d-p,a=f-g,b=(l=Math.sqrt(o*o+a*a))>b?l:b;var C,w,_,D=f,T=d,L=r.polarRotation||0;for(o=0;o<d;o+=1)for(a=0;a<f;a+=1)s=o-p,u=a-g,C=Math.sqrt(s*s+u*u)*D/b,w=(w=(180*Math.atan2(u,s)/Math.PI+360+L)%360)*T/360,_=Math.floor(w),x=c[0+(i=4*(Math.floor(C)*d+_))],v=c[i+1],S=c[i+2],y=c[i+3],h[0+(i=4*(a*d+o))]=x,h[i+1]=v,h[i+2]=S,h[i+3]=y}(0,0,{polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Container=function(e){this.__init(e)},Konva.Util.addMethods(Konva.Container,{__init:function(e){this.children=new Konva.Collection,Konva.Node.call(this,e)},getChildren:function(e){if(!e)return this.children;var t=new Konva.Collection;return this.children.each(function(n){e(n)&&t.push(n)}),t},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),n=0;n<t.length;n++)delete(e=t[n]).parent,e.index=0,e.remove();return t=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var e,t=Konva.Collection.toCollection(this.children),n=0;n<t.length;n++)delete(e=t[n]).parent,e.index=0,e.destroy();return t=null,this.children=new Konva.Collection,this},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}if(e.getParent())return e.moveTo(this),this;var n=this.children;return this._validateAdd(e),e.index=n.length,e.parent=this,n.push(e),this._fire("add",{child:e}),Konva.DD&&e.isDragging()&&Konva.DD.anim.setLayers(e.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(e){var t,n,r,i,o,a,s,u=[],l=e.replace(/ /g,"").split(","),c=l.length;for(t=0;t<c;t++)if(r=l[t],Konva.Util.isValidSelector(r)||(Konva.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0))(o=this._getNodeById(r.slice(1)))&&u.push(o);else if("."===r.charAt(0))i=this._getNodesByName(r.slice(1)),u=u.concat(i);else for(s=(a=this.getChildren()).length,n=0;n<s;n++)u=u.concat(a[n]._get(r));return Konva.Collection.toCollection(u)},findOne:function(e){return this.find(e)[0]},_getNodeById:function(e){var t=Konva.ids[e];return void 0!==t&&this.isAncestorOf(t)?t:null},_getNodesByName:function(e){var t=Konva.names[e]||[];return this._getDescendants(t)},_get:function(e){for(var t=Konva.Node.prototype._get.call(this,e),n=this.getChildren(),r=n.length,i=0;i<r;i++)t=t.concat(n[i]._get(e));return t},toObject:function(){var e=Konva.Node.prototype.toObject.call(this);e.children=[];for(var t=this.getChildren(),n=t.length,r=0;r<n;r++)e.children.push(t[r].toObject());return e},_getDescendants:function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r];this.isAncestorOf(i)&&t.push(i)}return t},isAncestorOf:function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1},clone:function(e){var t=Konva.Node.prototype.clone.call(this,e);return this.getChildren().each(function(e){t.add(e.clone())}),t},getAllIntersections:function(e){var t=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(e)&&t.push(n)}),t},_setChildrenIndices:function(){this.children.each(function(e,t){e.index=t})},drawScene:function(e,t,n){var r=this.getLayer(),i=e||r&&r.getCanvas(),o=i&&i.getContext(),a=this._cache.canvas,s=a&&a.scene;return this.isVisible()&&(!n&&s?(o.save(),r._applyTransform(this,o,t),this._drawCachedSceneCanvas(o),o.restore()):this._drawChildren(i,"drawScene",t,!1,n)),this},drawHit:function(e,t,n){var r=this.getLayer(),i=e||r&&r.hitCanvas,o=i&&i.getContext(),a=this._cache.canvas,s=a&&a.hit;return this.shouldDrawHit(i)&&(r&&r.clearHitCache(),!n&&s?(o.save(),r._applyTransform(this,o,t),this._drawCachedHitCanvas(o),o.restore()):this._drawChildren(i,"drawHit",t)),this},_drawChildren:function(e,t,n,r,i){var o,a,s=this.getLayer(),u=e&&e.getContext(),l=this.getClipWidth(),c=this.getClipHeight(),h=this.getClipFunc(),d=l&&c||h;if(d&&s){u.save();var f=this.getAbsoluteTransform(n),p=f.getMatrix();u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),u.beginPath(),h?h.call(this,u,this):(o=this.getClipX(),a=this.getClipY(),u.rect(o,a,l,c)),u.clip(),p=f.copy().invert().getMatrix(),u.transform(p[0],p[1],p[2],p[3],p[4],p[5])}this.children.each(function(o){o[t](e,n,r,i)}),d&&u.restore()},shouldDrawHit:function(e){var t=this.getLayer(),n=Konva.DD&&Konva.isDragging()&&-1!==Konva.DD.anim.getLayers().indexOf(t);return e&&e.isCache||t&&t.hitGraphEnabled()&&this.isVisible()&&!n},getClientRect:function(e){var t,n,r,i,o=(e=e||{}).skipTransform,a=e.relativeTo,s={x:0,y:0,width:0,height:0},u=this;return this.children.each(function(e){if(e.isVisible()){var o=e.getClientRect({relativeTo:u});void 0===t?(t=o.x,n=o.y,r=o.x+o.width,i=o.y+o.height):(t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x+o.width),i=Math.max(i,o.y+o.height))}}),0!==this.children.length&&(s={x:t,y:n,width:r-t,height:i-n}),o?s:this._transformedRect(s,a)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(e){"use strict";var t="hasShadow",n="shadowRGBA";function r(e){e.fill()}function i(e){e.stroke()}function o(e){e.fill()}function a(e){e.stroke()}function s(){this._clearCache(t)}function u(){this._clearCache(n)}e.Shape=function(e){this.__init(e)},e.Util.addMethods(e.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=r,this._strokeFunc=i,this._fillFuncHit=o,this._strokeFuncHit=a;for(var n,l=e.shapes;!(n=e.Util.getRandomColor())||n in l;);this.colorKey=n,l[n]=this,e.Node.call(this,t),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",s),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",u)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(t,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(n,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var t=e.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!!this.stroke()},intersects:function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0},destroy:function(){return e.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],this},_useBufferCanvas:function(e){return!e&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var e=this.getSize();return{x:this._centroid?Math.round(-e.width/2):0,y:this._centroid?Math.round(-e.height/2):0,width:e.width,height:e.height}},getClientRect:function(e){var t=(e=e||{}).skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,s=this.hasShadow()?this.shadowOffsetX():0,u=this.hasShadow()?this.shadowOffsetY():0,l=o+Math.abs(s),c=a+Math.abs(u),h=this.hasShadow()&&this.shadowBlur()||0,d=l+2*h,f=c+2*h,p=0;Math.round(i/2)!==i/2&&(p=1);var g={width:d+p,height:f+p,x:-Math.round(i/2+h)+Math.min(s,0)+r.x,y:-Math.round(i/2+h)+Math.min(u,0)+r.y};return t?g:this._transformedRect(g,n)},drawScene:function(e,t,n,r){var i,o,a=this.getLayer(),s=e||a.getCanvas(),u=s.getContext(),l=this._cache.canvas,c=this.sceneFunc(),h=this.hasShadow(),d=this.hasStroke();if(!this.isVisible())return this;if(l)return u.save(),a._applyTransform(this,u,t),this._drawCachedSceneCanvas(u),u.restore(),this;if(!c)return this;if(u.save(),this._useBufferCanvas(n)&&!r){if((o=(i=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this),!n)if(a)a._applyTransform(this,o,t);else{var f=this.getAbsoluteTransform(t).getMatrix();u.transform(f[0],f[1],f[2],f[3],f[4],f[5])}c.call(this,o),o.restore();var p=i.pixelRatio;h&&!s.hitCanvas?(u.save(),u._applyShadow(this),u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(i._canvas,0,0,i.width/p,i.height/p),u.restore()):(u._applyOpacity(this),u._applyGlobalCompositeOperation(this),u.drawImage(i._canvas,0,0,i.width/p,i.height/p))}else{if(u._applyLineJoin(this),!n)if(a)a._applyTransform(this,u,t);else{var g=this.getAbsoluteTransform(t).getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5])}h&&d&&!s.hitCanvas?(u.save(),n||(u._applyOpacity(this),u._applyGlobalCompositeOperation(this)),u._applyShadow(this),c.call(this,u),u.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&c.call(this,u)):h&&!s.hitCanvas?(u.save(),n||(u._applyOpacity(this),u._applyGlobalCompositeOperation(this)),u._applyShadow(this),c.call(this,u),u.restore()):(n||(u._applyOpacity(this),u._applyGlobalCompositeOperation(this)),c.call(this,u))}return u.restore(),this},drawHit:function(e,t,n){var r=this.getLayer(),i=e||r.hitCanvas,o=i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,u=s&&s.hit;if(!this.shouldDrawHit(i))return this;if(r&&r.clearHitCache(),u)return o.save(),r._applyTransform(this,o,t),this._drawCachedHitCanvas(o),o.restore(),this;if(!a)return this;if(o.save(),o._applyLineJoin(this),!n)if(r)r._applyTransform(this,o,t);else{var l=this.getAbsoluteTransform(t).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return a.call(this,o),o.restore(),this},drawHitFromCache:function(t){var n,r,i,o,a,s=t||0,u=this._cache.canvas,l=this._getCachedSceneCanvas(),c=u.hit,h=c.getContext(),d=c.getWidth(),f=c.getHeight();h.clear(),h.drawImage(l._canvas,0,0,d,f);try{for(i=(r=(n=h.getImageData(0,0,d,f)).data).length,o=e.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)r[a+3]>s?(r[a]=o.r,r[a+1]=o.g,r[a+2]=o.b,r[a+3]=255):r[a+3]=0;h.putImageData(n,0,0)}catch(t){e.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),e.Util.extend(e.Shape,e.Node),e.Factory.addGetterSetter(e.Shape,"stroke"),e.Factory.addDeprecatedGetterSetter(e.Shape,"strokeRed",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"strokeGreen",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"strokeBlue",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"strokeAlpha",1,e.Validators.alphaComponent),e.Factory.addGetterSetter(e.Shape,"strokeWidth",2),e.Factory.addGetterSetter(e.Shape,"strokeHitEnabled",!0),e.Factory.addGetterSetter(e.Shape,"perfectDrawEnabled",!0),e.Factory.addGetterSetter(e.Shape,"shadowForStrokeEnabled",!0),e.Factory.addGetterSetter(e.Shape,"lineJoin"),e.Factory.addGetterSetter(e.Shape,"lineCap"),e.Factory.addGetterSetter(e.Shape,"sceneFunc"),e.Factory.addGetterSetter(e.Shape,"hitFunc"),e.Factory.addGetterSetter(e.Shape,"dash"),e.Factory.addGetterSetter(e.Shape,"dashOffset",0),e.Factory.addGetterSetter(e.Shape,"shadowColor"),e.Factory.addDeprecatedGetterSetter(e.Shape,"shadowRed",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"shadowGreen",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"shadowBlue",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"shadowAlpha",1,e.Validators.alphaComponent),e.Factory.addGetterSetter(e.Shape,"shadowBlur"),e.Factory.addGetterSetter(e.Shape,"shadowOpacity"),e.Factory.addComponentsGetterSetter(e.Shape,"shadowOffset",["x","y"]),e.Factory.addGetterSetter(e.Shape,"shadowOffsetX",0),e.Factory.addGetterSetter(e.Shape,"shadowOffsetY",0),e.Factory.addGetterSetter(e.Shape,"fillPatternImage"),e.Factory.addGetterSetter(e.Shape,"fill"),e.Factory.addDeprecatedGetterSetter(e.Shape,"fillRed",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"fillGreen",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"fillBlue",0,e.Validators.RGBComponent),e.Factory.addDeprecatedGetterSetter(e.Shape,"fillAlpha",1,e.Validators.alphaComponent),e.Factory.addGetterSetter(e.Shape,"fillPatternX",0),e.Factory.addGetterSetter(e.Shape,"fillPatternY",0),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientColorStops"),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartRadius",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndRadius",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientColorStops"),e.Factory.addGetterSetter(e.Shape,"fillPatternRepeat","repeat"),e.Factory.addGetterSetter(e.Shape,"fillEnabled",!0),e.Factory.addGetterSetter(e.Shape,"strokeEnabled",!0),e.Factory.addGetterSetter(e.Shape,"shadowEnabled",!0),e.Factory.addGetterSetter(e.Shape,"dashEnabled",!0),e.Factory.addGetterSetter(e.Shape,"strokeScaleEnabled",!0),e.Factory.addGetterSetter(e.Shape,"fillPriority","color"),e.Factory.addComponentsGetterSetter(e.Shape,"fillPatternOffset",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillPatternOffsetX",0),e.Factory.addGetterSetter(e.Shape,"fillPatternOffsetY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillPatternScale",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillPatternScaleX",1),e.Factory.addGetterSetter(e.Shape,"fillPatternScaleY",1),e.Factory.addComponentsGetterSetter(e.Shape,"fillLinearGradientStartPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientStartPointX",0),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientStartPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillLinearGradientEndPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientEndPointX",0),e.Factory.addGetterSetter(e.Shape,"fillLinearGradientEndPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillRadialGradientStartPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartPointX",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientStartPointY",0),e.Factory.addComponentsGetterSetter(e.Shape,"fillRadialGradientEndPoint",["x","y"]),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndPointX",0),e.Factory.addGetterSetter(e.Shape,"fillRadialGradientEndPointY",0),e.Factory.addGetterSetter(e.Shape,"fillPatternRotation",0),e.Factory.backCompat(e.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),e.Collection.mapMethods(e.Shape)}(Konva),function(){"use strict";var e="_",t=["mousedown","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","mouseover","wheel","contextmenu"],n=t.length;function r(t,n){t.content.addEventListener(n,function(r){t[e+n](r)},!1)}Konva.Stage=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Stage,{___init:function(e){this.nodeType="Stage",Konva.Container.call(this,e),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(e){"Layer"!==e.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(e){if("string"==typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=Konva.document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=Konva.document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(e){return Konva.Node.prototype.setHeight.call(this,e),this._resizeDOM(),this},setWidth:function(e){return Konva.Node.prototype.setWidth.call(this,e),this._resizeDOM(),this},clear:function(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this},clone:function(e){return e||(e={}),e.container=Konva.document.createElement("div"),Konva.Container.prototype.clone.call(this,e)},destroy:function(){var e=this.content;Konva.Container.prototype.destroy.call(this),e&&Konva.Util._isInDocument(e)&&this.getContainer().removeChild(e);var t=Konva.stages.indexOf(this);return t>-1&&Konva.stages.splice(t,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=e.x||0,i=e.y||0,o=new Konva.SceneCanvas({width:e.width||this.getWidth(),height:e.height||this.getHeight(),pixelRatio:e.pixelRatio}),a=o.getContext()._context,s=this.children;(r||i)&&a.translate(-1*r,-1*i),s.each(function(e){var t=e.getCanvas().getWidth(),n=e.getCanvas().getHeight(),r=e.getCanvas().getPixelRatio();a.drawImage(e.getCanvas()._canvas,0,0,t/r,n/r)});var u=o.toDataURL(t,n);return e.callback&&e.callback(u),u},toImage:function(e){var t=e.callback;e.callback=function(e){Konva.Util._getImage(e,function(e){t(e)})},this.toDataURL(e)},getIntersection:function(e,t){var n,r,i=this.getChildren();for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(e,t))return r;return null},_resizeDOM:function(){if(this.content){var e,t,n=this.getWidth(),r=this.getHeight(),i=this.getChildren(),o=i.length;for(this.content.style.width=n+"px",this.content.style.height=r+"px",this.bufferCanvas.setSize(n,r),this.bufferHitCanvas.setSize(n,r),e=0;e<o;e++)(t=i[e]).setSize(n,r),t.draw()}},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return Konva.Container.prototype.add.call(this,e),e._setCanvasSize(this.width(),this.height()),e.draw(),Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){if(Konva.isBrowser)for(var e=0;e<n;e++)r(this,t[e])},_mouseover:function(e){Konva.UA.mobile||(this._setPointerPosition(e),this._fire("contentMouseover",{evt:e}))},_mouseout:function(e){if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.targetShape;t&&!Konva.isDragging()&&(t._fireAndBubble("mouseout",{evt:e}),t._fireAndBubble("mouseleave",{evt:e}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:e})}},_mousemove:function(e){return Konva.UA.ieMobile?this._touchmove(e):"undefined"==typeof e.movementX&&"undefined"==typeof e.movementY||0!==e.movementY||0!==e.movementX?Konva.UA.mobile?null:(this._setPointerPosition(e),Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===t._id?t._fireAndBubble("mousemove",{evt:e}):(this.targetShape&&(this.targetShape._fireAndBubble("mouseout",{evt:e},t),this.targetShape._fireAndBubble("mouseleave",{evt:e},t)),t._fireAndBubble("mouseover",{evt:e},this.targetShape),t._fireAndBubble("mouseenter",{evt:e},this.targetShape),this.targetShape=t):this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble("mouseout",{evt:e}),this.targetShape._fireAndBubble("mouseleave",{evt:e}),this.targetShape=null),this._fire("contentMousemove",{evt:e})),void(e.preventDefault&&e.preventDefault())):null;var t},_mousedown:function(e){if(Konva.UA.ieMobile)return this._touchstart(e);if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,t&&t.isListening()&&(this.clickStartShape=t,t._fireAndBubble("mousedown",{evt:e})),this._fire("contentMousedown",{evt:e})}e.preventDefault&&e.preventDefault()},_mouseup:function(e){if(Konva.UA.ieMobile)return this._touchend(e);if(!Konva.UA.mobile){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,r=this.clickEndShape,i=!1,o=Konva.DD;Konva.inDblClickWindow?(i=!0,Konva.inDblClickWindow=!1):o&&o.justDragged?o&&(o.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),t&&t.isListening()&&(this.clickEndShape=t,t._fireAndBubble("mouseup",{evt:e}),Konva.listenClickTap&&n&&n._id===t._id&&(t._fireAndBubble("click",{evt:e}),i&&r&&r._id===t._id&&t._fireAndBubble("dblclick",{evt:e}))),this._fire("contentMouseup",{evt:e}),Konva.listenClickTap&&(this._fire("contentClick",{evt:e}),i&&this._fire("contentDblclick",{evt:e})),Konva.listenClickTap=!1}e.preventDefault&&e.preventDefault()},_contextmenu:function(e){this._fire("contentContextmenu",{evt:e})},_touchstart:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,t&&t.isListening()&&(this.tapStartShape=t,t._fireAndBubble("touchstart",{evt:e}),t.isListening()&&t.preventDefault()&&e.preventDefault&&e.preventDefault()),this._fire("contentTouchstart",{evt:e})},_touchend:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition()),n=!1;Konva.inDblClickWindow?(n=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),t&&t.isListening()&&(t._fireAndBubble("touchend",{evt:e}),Konva.listenClickTap&&this.tapStartShape&&t._id===this.tapStartShape._id&&(t._fireAndBubble("tap",{evt:e}),n&&t._fireAndBubble("dbltap",{evt:e})),t.isListening()&&t.preventDefault()&&e.preventDefault&&e.preventDefault()),this._fire("contentTouchend",{evt:e}),Konva.listenClickTap&&(this._fire("contentTap",{evt:e}),n&&this._fire("contentDbltap",{evt:e})),Konva.listenClickTap=!1},_touchmove:function(e){this._setPointerPosition(e);var t,n=Konva.DD;Konva.isDragging()||((t=this.getIntersection(this.getPointerPosition()))&&t.isListening()&&(t._fireAndBubble("touchmove",{evt:e}),t.isListening()&&t.preventDefault()&&e.preventDefault&&e.preventDefault()),this._fire("contentTouchmove",{evt:e})),n&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&e.preventDefault()},_wheel:function(e){this._setPointerPosition(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()&&t._fireAndBubble("wheel",{evt:e}),this._fire("contentWheel",{evt:e})},_setPointerPosition:function(e){var t=this._getContentPosition(),n=null,r=null;if(void 0!==(e=e||window.event).touches){if(e.touches.length>0){var i=e.touches[0];n=i.clientX-t.left,r=i.clientY-t.top}}else n=e.clientX-t.left,r=e.clientY-t.top;null!==n&&null!==r&&(this.pointerPos={x:n,y:r})},_getContentPosition:function(){var e=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:e.top,left:e.left}},_buildDOM:function(){if(this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.isBrowser){var e=this.getContainer();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=Konva.document.createElement("div"),this.content.style.position="relative",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}},_onContent:function(e,t){var n,r=e.split(" "),i=r.length;for(n=0;n<i;n++)this.content.addEventListener(r[n],t,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(e){"use strict";e.BaseLayer=function(e){this.___init(e)},e.Util.addMethods(e.BaseLayer,{___init:function(t){this.nodeType="Layer",e.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(e){return this.getContext().clear(e),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){e.Node.prototype.setZIndex.call(this,t);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),t<n.getChildren().length-1?n.content.insertBefore(this.getCanvas()._canvas,n.getChildren()[t+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){e.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){if(!e.Node.prototype.moveUp.call(this))return this;var t=this.getStage();return t?(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(e.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var n=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,n[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(e.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var n=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,n[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return e.Node.prototype.remove.call(this),t&&t.parentNode&&e.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(e,t){return this.canvas.setSize(e,t),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(e,t,n){var r=e.getAbsoluteTransform(n).getMatrix();t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}}),e.Util.extend(e.BaseLayer,e.Container),e.Factory.addGetterSetter(e.BaseLayer,"clearBeforeDraw",!0),e.Collection.mapMethods(e.BaseLayer)}(Konva),function(){"use strict";var e=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],t=e.length;Konva.Layer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.Layer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,e)},_setCanvasSize:function(e,t){this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t)},_validateAdd:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(n,r){var i,o,a,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var u=1,l=!1;;){for(o=0;o<t;o++){if((s=(i=this._getIntersection({x:n.x+(a=e[o]).x*u,y:n.y+a.y*u})).shape)&&r)return s.findAncestor(r,!0);if(s)return s;if(l=!!i.antialiased,!i.antialiased)break}if(!l)return null;u+=1}},_getImageData:function(e,t){var n=this.hitCanvas.width||1,r=this.hitCanvas.height||1,i=Math.round(t)*n+Math.round(e);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,r)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var t,n,r=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,o=i[3];return 255===o?(t=Konva.Util._rgbToHex(i[0],i[1],i[2]),(n=Konva.shapes["#"+t])?{shape:n}:{antialiased:!0}):o>0?{antialiased:!0}:{}},drawScene:function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&r.getContext().clear(),Konva.Container.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this},drawHit:function(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,r,t),this.imageData=null,this},clear:function(e){return Konva.BaseLayer.prototype.clear.call(this,e),this.getHitCanvas().getContext().clear(e),this.imageData=null,this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),e?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this},setSize:function(e,t){return Konva.BaseLayer.prototype.setSize.call(this,e,t),this.hitCanvas.setSize(e,t),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(e){this.____init(e)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(e){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,e)},_validateAdd:function(e){"Shape"!==e.getType()&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(e,t){this.canvas.setSize(e,t)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(e){var t=this.getLayer(),n=e||t&&t.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n),this},draw:function(){return this.drawScene(),this},setVisible:function(e){return Konva.Node.prototype.setVisible.call(this,e),this.getCanvas()._canvas.style.display=e?"block":"none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(e){this.___init(e)},Konva.Util.addMethods(Konva.Group,{___init:function(e){this.nodeType="Group",Konva.Container.call(this,e)},_validateAdd:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(e){"use strict";var t=e.global.performance&&e.global.performance.now?function(){return e.global.performance.now()}:function(){return(new Date).getTime()},n=e.global.requestAnimationFrame||e.global.webkitRequestAnimationFrame||e.global.mozRequestAnimationFrame||e.global.oRequestAnimationFrame||e.global.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function r(){return n.apply(e.global,arguments)}e.Animation=function(n,r){var i=e.Animation;this.func=n,this.setLayers(r),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t()}},e.Animation.prototype={setLayers:function(e){return this.layers=e?e.length>0?e:[e]:[],this},getLayers:function(){return this.layers},addLayer:function(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0},isRunning:function(){var t,n=e.Animation.animations,r=n.length;for(t=0;t<r;t++)if(n[t].id===this.id)return!0;return!1},start:function(){var n=e.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),n._addAnimation(this),this},stop:function(){return e.Animation._removeAnimation(this),this},_updateFrameObject:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},e.Animation.animations=[],e.Animation.animIdCounter=0,e.Animation.animRunning=!1,e.Animation._addAnimation=function(e){this.animations.push(e),this._handleAnimation()},e.Animation._removeAnimation=function(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}},e.Animation._runFrames=function(){var e,n,r,i,o,a,s,u,l={},c=this.animations;for(i=0;i<c.length;i++)if(n=(e=c[i]).layers,r=e.func,e._updateFrameObject(t()),a=n.length,!r||!1!==r.call(e,e.frame))for(o=0;o<a;o++)void 0!==(s=n[o])._id&&(l[s._id]=s);for(u in l)l.hasOwnProperty(u)&&l[u].draw()},e.Animation._animationLoop=function(){var t=e.Animation;t.animations.length?(t._runFrames(),r(t._animationLoop)):t.animRunning=!1},e.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,r(this._animationLoop))},e.BaseLayer.prototype.batchDraw=function(){var t=this;return this.batchAnim||(this.batchAnim=new(0,e.Animation)(function(){t.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},e.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(e){e.batchDraw()}),this}}(Konva),function(){"use strict";var e={node:1,duration:1,easing:1,onFinish:1,yoyo:1},t=0,n=["fill","stroke","shadowColor"],r=function(e,t,n,r,i,o,a){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};r.prototype={fire:function(e){var t=this[e];t&&t()},setTime:function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())},getTime:function(){return this._time},setPosition:function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e},getPosition:function(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(n){var i,o,a=this,s=n.node,u=s._id,l=n.easing||Konva.Easings.Linear,c=!!n.yoyo;i="undefined"==typeof n.duration?1:0===n.duration?.001:n.duration,this.node=s,this._id=t++;var h=s.getLayer()||(s instanceof Konva.Stage?s.getLayers():null);for(o in h||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){a.tween.onEnterFrame()},h),this.tween=new r(o,function(e){a._tweenFunc(e)},l,0,1,1e3*i,c),this._addListeners(),Konva.Tween.attrs[u]||(Konva.Tween.attrs[u]={}),Konva.Tween.attrs[u][this._id]||(Konva.Tween.attrs[u][this._id]={}),Konva.Tween.tweens[u]||(Konva.Tween.tweens[u]={}),n)void 0===e[o]&&this._addAttr(o,n[o]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(e,t){var r,i,o,a,s,u,l,c=this.node,h=c._id;if((o=Konva.Tween.tweens[h][e])&&delete Konva.Tween.attrs[h][o][e],r=c.getAttr(e),Konva.Util._isArray(t))for(i=[],s=Math.max(t.length,r.length),"points"===e&&t.length!==r.length&&(t.length>r.length?(l=r,r=Konva.Util._prepareArrayForTween(r,t,c.closed())):(u=t,t=Konva.Util._prepareArrayForTween(t,r,c.closed()))),a=0;a<s;a++)i.push(t[a]-r[a]);else if(-1!==n.indexOf(e)){r=Konva.Util.colorToRGBA(r);var d=Konva.Util.colorToRGBA(t);i={r:d.r-r.r,g:d.g-r.g,b:d.b-r.b,a:d.a-r.a}}else i=t-r;Konva.Tween.attrs[h][this._id][e]={start:r,diff:i,end:t,trueEnd:u,trueStart:l},Konva.Tween.tweens[h][e]=this._id},_tweenFunc:function(e){var t,r,i,o,a,s,u,l,c=this.node,h=Konva.Tween.attrs[c._id][this._id];for(t in h){if(i=(r=h[t]).start,o=r.diff,l=r.end,Konva.Util._isArray(i))for(a=[],u=Math.max(i.length,l.length),s=0;s<u;s++)a.push((i[s]||0)+o[s]*e);else a=-1!==n.indexOf(t)?"rgba("+Math.round(i.r+o.r*e)+","+Math.round(i.g+o.g*e)+","+Math.round(i.b+o.b*e)+","+(i.a+o.a*e)+")":i+o*e;c.setAttr(t,a)}},_addListeners:function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var t=e.node,n=Konva.Tween.attrs[t._id][e._id];n.points&&n.points.trueEnd&&t.points(n.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var t=e.node,n=Konva.Tween.attrs[t._id][e._id];n.points&&n.points.trueStart&&t.points(n.points.trueStart),e.onReset&&e.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(e){return this.tween.seek(1e3*e),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var e,t=this.node._id,n=this._id,r=Konva.Tween.tweens[t];for(e in this.pause(),r)delete Konva.Tween.tweens[t][e];delete Konva.Tween.attrs[t][n]}},Konva.Node.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new Konva.Tween(e).play()},Konva.Easings={BackEaseIn:function(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut:function(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut:function(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn:function(e,t,n,r,i,o){var a=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},ElasticEaseOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:2==(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,t,n,r){return n-Konva.Easings.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut:function(e,t,n,r){return e<r/2?.5*Konva.Easings.BounceEaseIn(2*e,0,n,r)+t:.5*Konva.Easings.BounceEaseOut(2*e-r,0,n,r)+.5*n+t},EaseIn:function(e,t,n,r){return n*(e/=r)*e+t},EaseOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,n,r){return n*e/r+t}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var e=this.dirty;return this.dirty=!1,e}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(e){var t=Konva.DD,n=t.node;if(n){if(!t.isDragging){var r=n.getStage().getPointerPosition();r||(n.getStage()._setPointerPosition(e),r=n.getStage().getPointerPosition());var i=n.dragDistance();if(Math.max(Math.abs(r.x-t.startPointerPos.x),Math.abs(r.y-t.startPointerPos.y))<i)return}n.getStage()._setPointerPosition(e),n._setDragPosition(e),t.isDragging||(t.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:e},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)}},_endDragBefore:function(e){var t,n=Konva.DD,r=n.node;r&&(t=r.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Konva.listenClickTap=!1,e&&(e.dragEndNode=r)),delete n.node,(r.getLayer()||t||r instanceof Konva.Stage)&&(t||r).draw())},_endDragAfter:function(e){var t=(e=e||{}).dragEndNode;e&&t&&t.fire("dragend",{type:"dragend",target:t,evt:e},!0)}},Konva.Node.prototype.startDrag=function(){var e=Konva.DD,t=this.getStage(),n=this.getLayer(),r=t.getPointerPosition(),i=this.getAbsolutePosition();r&&(e.node&&e.node.stopDrag(),e.node=this,e.startPointerPos=r,e.offset.x=r.x-i.x,e.offset.y=r.y-i.y,e.anim.setLayers(n||this.getLayers()),e.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(e){var t=Konva.DD,n=this.getStage().getPointerPosition(),r=this.getDragBoundFunc();if(n){var i={x:n.x-t.offset.x,y:n.y-t.offset.y};void 0!==r&&(i=r.call(this,i,e)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(t.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var e=Konva.DD,t={};e._endDragBefore(t),e._endDragAfter(t)},Konva.Node.prototype.setDraggable=function(e){this._setAttr("draggable",e),this._dragChange()};var e=Konva.Node.prototype.remove;if(Konva.Node.prototype.__originalRemove=e,Konva.Node.prototype.remove=function(){var t=Konva.DD;t.node&&t.node._id===this._id&&this.stopDrag(),e.call(this)},Konva.Node.prototype.isDragging=function(){var e=Konva.DD;return!(!e.node||e.node._id!==this._id||!e.isDragging)},Konva.Node.prototype._listenDrag=function(){var e=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(t){Konva.DD.node||e.startDrag(t)}):this.on("mousedown.konva touchstart.konva",function(t){1!==t.evt.button&&2!==t.evt.button&&(Konva.DD.node||e.startDrag(t))})},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage(),t=Konva.DD;e&&t.node&&t.node._id===this._id&&t.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable"),Konva.isBrowser){var t=Konva.document.documentElement;t.addEventListener("mouseup",Konva.DD._endDragBefore,!0),t.addEventListener("touchend",Konva.DD._endDragBefore,!0),t.addEventListener("mousemove",Konva.DD._drag),t.addEventListener("touchmove",Konva.DD._drag),t.addEventListener("mouseup",Konva.DD._endDragAfter,!1),t.addEventListener("touchend",Konva.DD._endDragAfter,!1)}}(),function(){"use strict";Konva.Rect=function(e){this.___init(e)},Konva.Rect.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getCornerRadius(),n=this.getWidth(),r=this.getHeight();e.beginPath(),t?(t=Math.min(t,n/2,r/2),e.moveTo(t,0),e.lineTo(n-t,0),e.arc(n-t,t,t,3*Math.PI/2,0,!1),e.lineTo(n,r-t),e.arc(n-t,r-t,t,0,Math.PI/2,!1),e.lineTo(t,r),e.arc(t,r-t,t,Math.PI/2,Math.PI,!1),e.lineTo(0,t),e.arc(t,t,t,Math.PI,3*Math.PI/2,!1)):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(e){"use strict";var t=2*Math.PI-1e-4;e.Circle=function(e){this.___init(e)},e.Circle.prototype={_centroid:!0,___init:function(t){e.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){e.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){e.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},e.Util.extend(e.Circle,e.Shape),e.Factory.addGetterSetter(e.Circle,"radius",0),e.Factory.addOverloadedGetterSetter(e.Circle,"radius"),e.Collection.mapMethods(e.Circle)}(Konva),function(){"use strict";var e=2*Math.PI-1e-4;Konva.Ellipse=function(e){this.___init(e)},Konva.Ellipse.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var n=this.getRadiusX(),r=this.getRadiusY();t.beginPath(),t.save(),n!==r&&t.scale(1,r/n),t.arc(0,0,n,0,e,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.setRadius({x:e/2})},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.setRadius({y:e/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var e=2*Math.PI-1e-4;Konva.Ring=function(e){this.___init(e)},Konva.Ring.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getInnerRadius(),0,e,!1),t.moveTo(this.getOuterRadius(),0),t.arc(0,0,this.getOuterRadius(),e,0,!0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setOuterRadius:function(e){this._setAttr("outerRadius",e),this.setWidth(2*e),this.setHeight(2*e)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(e){this.___init(e)},Konva.Wedge.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(e){"use strict";e.Arc=function(e){this.___init(e)},e.Arc.prototype={_centroid:!0,___init:function(t){e.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var n=e.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,n,r),t.arc(0,0,this.getInnerRadius(),n,0,!r),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){e.Node.prototype.setWidth.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){e.Node.prototype.setHeight.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)}},e.Util.extend(e.Arc,e.Shape),e.Factory.addGetterSetter(e.Arc,"innerRadius",0),e.Factory.addGetterSetter(e.Arc,"outerRadius",0),e.Factory.addGetterSetter(e.Arc,"angle",0),e.Factory.addGetterSetter(e.Arc,"clockwise",!1),e.Collection.mapMethods(e.Arc)}(Konva),function(){"use strict";Konva.Image=function(e){this.___init(e)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(e){var t,n,r,i=this.getWidth(),o=this.getHeight(),a=this.getImage();a&&(t=this.getCropWidth(),n=this.getCropHeight(),r=t&&n?[a,this.getCropX(),this.getCropY(),t,n,0,0,i,o]:[a,0,0,i,o]),(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,i,o),e.closePath(),e.fillStrokeShape(this)),a&&e.drawImage.apply(e,r)},_hitFunc:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){var e=this.getImage();return this.attrs.width||(e?e.width:0)},getHeight:function(){var e=this.getImage();return this.attrs.height||(e?e.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(e,t){var n=new Image;n.onload=function(){var e=new Konva.Image({image:n});t(e)},n.src=e}}(),function(){"use strict";var e,t="2d",n=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","letterSpacing"],r=n.length;function i(){return e||(e=Konva.Util.createCanvasElement().getContext(t))}function o(e){e.fillText(this.partialText,0,0)}function a(e){e.strokeText(this.partialText,0,0)}Konva.Text=function(e){this.___init(e)},Konva.Text.prototype={___init:function(e){(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||(e.fill=e.fill||"black"),Konva.Shape.call(this,e),this._fillFunc=o,this._strokeFunc=a,this.className="Text";for(var t=0;t<r;t++)this.on(n[t]+"Change.konva",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t,n=this.getPadding(),r=this.getTextHeight(),i=this.getLineHeight()*r,o=this.textArr,a=o.length,s=this.getAlign(),u=this.getWidth(),l=this.getLetterSpacing(),c=this.textDecoration(),h=this.fill(),d=this.fontSize();for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),e.save(),n?(e.translate(n,0),e.translate(0,n+r/2)):e.translate(0,r/2),t=0;t<a;t++){var f=o[t],p=f.text,g=f.width;if(e.save(),"right"===s?e.translate(u-g-2*n,0):"center"===s&&e.translate((u-g-2*n)/2,0),-1!==c.indexOf("underline")&&(e.save(),e.beginPath(),e.moveTo(0,Math.round(i/2)),e.lineTo(Math.round(g),Math.round(i/2)),e.lineWidth=d/15,e.strokeStyle=h,e.stroke(),e.restore()),-1!==c.indexOf("line-through")&&(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(Math.round(g),0),e.lineWidth=d/15,e.strokeStyle=h,e.stroke(),e.restore()),0!==l||"justify"===s)for(var m=p.split(" ").length-1,x=0;x<p.length;x++){var v=p[x];" "===v&&t!==a-1&&"justify"===s&&e.translate(Math.floor((u-g)/m),0),this.partialText=v,e.fillStrokeShape(this),e.translate(Math.round(this._getTextSize(v).width)+l,0)}else this.partialText=p,e.fillStrokeShape(this);e.restore(),e.translate(0,i)}e.restore()},_hitFunc:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)},setText:function(e){var t=Konva.Util._isString(e)?e:(e||"").toString();return this._setAttr("text",t),this},getWidth:function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(e){var t,n=i(),r=this.getFontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:parseInt(r,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+" "+this.getFontSize()+"px "+this.getFontFamily():this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(e){"justify"===this.align()&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})},_getTextWidth:function(e){var t=this.getLetterSpacing(),n=e.length;return i().measureText(e).width+(n?t*(n-1):0)},_setTextData:function(){var e=this.getText().split("\n"),t=+this.getFontSize(),n=0,r=this.getLineHeight()*t,o=this.attrs.width,a=this.attrs.height,s="auto"!==o,u="auto"!==a,l=this.getPadding(),c=o-2*l,h=a-2*l,d=0,f=this.getWrap(),p="none"!==f,g="char"!==f&&p;this.textArr=[],i().save(),i().font=this._getContextFont();for(var m=0,x=e.length;m<x;++m){var v=e[m],S=this._getTextWidth(v);if(s&&S>c)for(;v.length>0;){for(var y=0,b=v.length,C="",w=0;y<b;){var _=y+b>>>1,D=v.slice(0,_+1),T=this._getTextWidth(D);T<=c?(y=_+1,C=D,w=T):b=_}if(!C)break;if(g){var L=Math.max(C.lastIndexOf(" "),C.lastIndexOf("-"))+1;L>0&&(C=C.slice(0,y=L),w=this._getTextWidth(C))}if(this._addTextLine(C),n=Math.max(n,w),d+=r,!p||u&&d+r>h)break;if((v=v.slice(y)).length>0&&(S=this._getTextWidth(v))<=c){this._addTextLine(v),d+=r,n=Math.max(n,S);break}}else this._addTextLine(v),d+=r,n=Math.max(n,S);if(u&&d+r>h)break}i().restore(),this.textHeight=t,this.textWidth=n}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle","normal"),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant","normal"),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align","left"),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap","word"),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",""),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",""),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(e){this.___init(e)},Konva.Line.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t,n,r,i=this.getPoints(),o=i.length,a=this.getTension(),s=this.getClosed(),u=this.getBezier();if(o){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[o-2],i[o-1])}else if(u)for(r=2;r<o;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var e=this.getPoints(),t=e.length,n=this.getTension(),r=Konva.Util,i=r._getControlPoints(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),o=r._getControlPoints(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),a=Konva.Util._expandPoints(e,n);return[i[2],i[3]].concat(a).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],i[0],i[1],e[0],e[1]])},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){for(var e,t,n,r=(e=0!==this.getTension()?this._getTensionPoints():this.getPoints())[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:Math.round(r),y:Math.round(o),width:Math.round(i-r),height:Math.round(a-o)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"bezier",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(e){this.___init(e)},Konva.Sprite.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Sprite",this._updated=!0;var t=this;this.anim=new Konva.Animation(function(){var e=t._updated;return t._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){var t=this.getAnimation(),n=this.frameIndex(),r=4*n,i=this.getAnimations()[t],o=this.frameOffsets(),a=i[r+0],s=i[r+1],u=i[r+2],l=i[r+3],c=this.getImage();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,l),e.closePath(),e.fillStrokeShape(this)),c)if(o){var h=o[t],d=2*n;e.drawImage(c,a,s,u,l,h[d+0],h[d+1],u,l)}else e.drawImage(c,a,s,u,l,0,0,u,l)},_hitFunc:function(e){var t=this.getAnimation(),n=this.frameIndex(),r=4*n,i=this.getAnimations()[t],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(e.beginPath(),o){var u=o[t],l=2*n;e.rect(u[l+0],u[l+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.getFrameRate())},start:function(){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var e=this.frameIndex(),t=this.getAnimation(),n=this.getAnimations();this.frameIndex(e<n[t].length/4-1?e+1:0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(e){this.___init(e)},Konva.Path.prototype={___init:function(e){this.dataArray=[];var t=this;Konva.Shape.call(this,e),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){t.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.dataArray;e.beginPath();for(var n=0;n<t.length;n++){var r=t[n].points;switch(t[n].command){case"L":e.lineTo(r[0],r[1]);break;case"M":e.moveTo(r[0],r[1]);break;case"C":e.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":e.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],d=a>s?a:s,f=a>s?1:a/s,p=a>s?s/a:1;e.translate(i,o),e.rotate(c),e.scale(f,p),e.arc(0,0,d,u,u+l,1-h),e.scale(1/f,1/p),e.rotate(-c),e.translate(-i,-o);break;case"z":e.closePath()}}e.fillStrokeShape(this)},getSelfRect:function(){var e=[];this.dataArray.forEach(function(t){e=e.concat(t.points)});for(var t,n,r=e[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:Math.round(r),y:Math.round(o),width:Math.round(i-r),height:Math.round(a-o)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},Konva.Path.getPointOnLine=function(e,t,n,r,i,o,a){void 0===o&&(o=t),void 0===a&&(a=n);var s=(i-n)/(r-t+1e-8),u=Math.sqrt(e*e/(1+s*s));r<t&&(u*=-1);var l,c=s*u;if(r===t)l={x:o,y:a+c};else if((a-n)/(o-t+1e-8)===s)l={x:o+u,y:a+c};else{var h,d,f=this.getLineLength(t,n,r,i);if(f<1e-8)return;var p=(o-t)*(r-t)+(a-n)*(i-n),g=this.getLineLength(o,a,h=t+(p/=f*f)*(r-t),d=n+p*(i-n)),m=Math.sqrt(e*e-g*g);u=Math.sqrt(m*m/(1+s*s)),r<t&&(u*=-1),l={x:h+u,y:d+(c=s*u)}}return l},Konva.Path.getPointOnCubicBezier=function(e,t,n,r,i,o,a,s,u){function l(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function h(e){return 3*e*(1-e)*(1-e)}function d(e){return(1-e)*(1-e)*(1-e)}return{x:s*l(e)+o*c(e)+r*h(e)+t*d(e),y:u*l(e)+a*c(e)+i*h(e)+n*d(e)}},Konva.Path.getPointOnQuadraticBezier=function(e,t,n,r,i,o,a){function s(e){return e*e}function u(e){return 2*e*(1-e)}function l(e){return(1-e)*(1-e)}return{x:o*s(e)+r*u(e)+t*l(e),y:a*s(e)+i*u(e)+n*l(e)}},Konva.Path.getPointOnEllipticalArc=function(e,t,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),u=n*Math.cos(i),l=r*Math.sin(i);return{x:e+(u*a-l*s),y:t+(u*s+l*a)}},Konva.Path.parsePathData=function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i=t.split("|"),o=[],a=0,s=0;for(r=1;r<i.length;r++){var u=i[r],l=u.charAt(0),c=(u=(u=(u=(u=u.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");c.length>0&&""===c[0]&&c.shift();for(var h=0;h<c.length;h++)c[h]=parseFloat(c[h]);for(;c.length>0&&!isNaN(c[0]);){var d,f,p,g,m,x,v,S,y,b,C=null,w=[],_=a,D=s;switch(l){case"l":a+=c.shift(),s+=c.shift(),C="L",w.push(a,s);break;case"L":a=c.shift(),s=c.shift(),w.push(a,s);break;case"m":var T=c.shift(),L=c.shift();if(a+=T,s+=L,C="M",o.length>2&&"z"===o[o.length-1].command)for(var E=o.length-2;E>=0;E--)if("M"===o[E].command){a=o[E].points[0]+T,s=o[E].points[1]+L;break}w.push(a,s),l="l";break;case"M":a=c.shift(),s=c.shift(),C="M",w.push(a,s),l="L";break;case"h":a+=c.shift(),C="L",w.push(a,s);break;case"H":a=c.shift(),C="L",w.push(a,s);break;case"v":s+=c.shift(),C="L",w.push(a,s);break;case"V":s=c.shift(),C="L",w.push(a,s);break;case"C":w.push(c.shift(),c.shift(),c.shift(),c.shift()),a=c.shift(),s=c.shift(),w.push(a,s);break;case"c":w.push(a+c.shift(),s+c.shift(),a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),C="C",w.push(a,s);break;case"S":f=a,p=s,"C"===(d=o[o.length-1]).command&&(f=a+(a-d.points[2]),p=s+(s-d.points[3])),w.push(f,p,c.shift(),c.shift()),a=c.shift(),s=c.shift(),C="C",w.push(a,s);break;case"s":f=a,p=s,"C"===(d=o[o.length-1]).command&&(f=a+(a-d.points[2]),p=s+(s-d.points[3])),w.push(f,p,a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),C="C",w.push(a,s);break;case"Q":w.push(c.shift(),c.shift()),a=c.shift(),s=c.shift(),w.push(a,s);break;case"q":w.push(a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),C="Q",w.push(a,s);break;case"T":f=a,p=s,"Q"===(d=o[o.length-1]).command&&(f=a+(a-d.points[0]),p=s+(s-d.points[1])),a=c.shift(),s=c.shift(),C="Q",w.push(f,p,a,s);break;case"t":f=a,p=s,"Q"===(d=o[o.length-1]).command&&(f=a+(a-d.points[0]),p=s+(s-d.points[1])),a+=c.shift(),s+=c.shift(),C="Q",w.push(f,p,a,s);break;case"A":g=c.shift(),m=c.shift(),x=c.shift(),v=c.shift(),S=c.shift(),y=a,b=s,a=c.shift(),s=c.shift(),C="A",w=this.convertEndpointToCenterParameterization(y,b,a,s,v,S,g,m,x);break;case"a":g=c.shift(),m=c.shift(),x=c.shift(),v=c.shift(),S=c.shift(),y=a,b=s,a+=c.shift(),s+=c.shift(),C="A",w=this.convertEndpointToCenterParameterization(y,b,a,s,v,S,g,m,x)}o.push({command:C||l,points:w,start:{x:_,y:D},pathLength:this.calcLength(_,D,C||l,w)})}"z"!==l&&"Z"!==l||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},Konva.Path.calcLength=function(e,t,n,r){var i,o,a,s,u=Konva.Path;switch(n){case"L":return u.getLineLength(e,t,r[0],r[1]);case"C":for(i=0,o=u.getPointOnCubicBezier(0,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),s=.01;s<=1;s+=.01)a=u.getPointOnCubicBezier(s,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),i+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"Q":for(i=0,o=u.getPointOnQuadraticBezier(0,e,t,r[0],r[1],r[2],r[3]),s=.01;s<=1;s+=.01)a=u.getPointOnQuadraticBezier(s,e,t,r[0],r[1],r[2],r[3]),i+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return i;case"A":i=0;var l=r[4],c=r[5],h=r[4]+c,d=Math.PI/180;if(Math.abs(l-h)<d&&(d=Math.abs(l-h)),o=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),c<0)for(s=l-d;s>h;s-=d)a=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(s=l+d;s<h;s+=d)a=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],s,0),i+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),i+u.getLineLength(o.x,o.y,a.x,a.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(e,t,n,r,i,o,a,s,u){var l=u*(Math.PI/180),c=Math.cos(l)*(e-n)/2+Math.sin(l)*(t-r)/2,h=-1*Math.sin(l)*(e-n)/2+Math.cos(l)*(t-r)/2,d=c*c/(a*a)+h*h/(s*s);d>1&&(a*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((a*a*(s*s)-a*a*(h*h)-s*s*(c*c))/(a*a*(h*h)+s*s*(c*c)));i===o&&(f*=-1),isNaN(f)&&(f=0);var p=f*a*h/s,g=f*-s*c/a,m=(e+n)/2+Math.cos(l)*p-Math.sin(l)*g,x=(t+r)/2+Math.sin(l)*p+Math.cos(l)*g,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},S=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},y=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(S(e,t))},b=y([1,0],[(c-p)/a,(h-g)/s]),C=[(c-p)/a,(h-g)/s],w=[(-1*c-p)/a,(-1*h-g)/s],_=y(C,w);return S(C,w)<=-1&&(_=Math.PI),S(C,w)>=1&&(_=0),0===o&&_>0&&(_-=2*Math.PI),1===o&&_<0&&(_+=2*Math.PI),[m,x,a,s,b,_,l,o]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function e(e){e.fillText(this.partialText,0,0)}function t(e){e.strokeText(this.partialText,0,0)}Konva.TextPath=function(e){this.___init(e)},Konva.TextPath.prototype={___init:function(n){var r=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],Konva.Shape.call(this,n),this._fillFunc=e,this._strokeFunc=t,this._fillFuncHit=e,this._strokeFuncHit=t,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){r.dataArray=Konva.Path.parsePathData(this.attrs.data),r._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",r._setTextData),r._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.getTextBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<i.length;o++){e.save();var a=i[o].p0;e.translate(a.x,a.y),e.rotate(i[o].rotation),this.partialText=i[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()},_hitFunc:function(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.getFontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(e){Konva.Text.prototype.setText.call(this,e)},_getTextSize:function(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var e=this,t=this._getTextSize(this.attrs.text),n=this.getLetterSpacing(),r=this.align();this.textWidth=t.width,this.textHeight=t.height;var i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,a=0;a<e.dataArray.length;a++)e.dataArray[a].pathLength>0&&(o+=e.dataArray[a].pathLength);var s=0;"center"===r&&(s=Math.max(0,o/2-i/2)),"right"===r&&(s=Math.max(0,o-i));for(var u,l,c,h=this.getText().split(""),d=this.getText().split(" ").length-1,f=-1,p=0,g=function(){p=0;for(var t=e.dataArray,n=f+1;n<t.length;n++){if(t[n].pathLength>0)return f=n,t[n];"M"===t[n].command&&(u={x:t[n].points[0],y:t[n].points[1]})}return{}},m=function(t){var a=e._getTextSize(t).width+n;" "===t&&"justify"===r&&(a+=(o-i)/d);var s=0,h=0;for(l=void 0;Math.abs(a-s)/a>.01&&h<25;){h++;for(var f=s;void 0===c;)(c=g())&&f+c.pathLength<a&&(f+=c.pathLength,c=void 0);if(c==={}||void 0===u)return;var m=!1;switch(c.command){case"L":Konva.Path.getLineLength(u.x,u.y,c.points[0],c.points[1])>a?l=Konva.Path.getPointOnLine(a,u.x,u.y,c.points[0],c.points[1],u.x,u.y):c=void 0;break;case"A":var x=c.points[5],v=c.points[4]+x;0===p?p=c.points[4]+1e-8:a>s?p+=Math.PI/180*x/Math.abs(x):p-=Math.PI/360*x/Math.abs(x),(x<0&&p<v||x>=0&&p>v)&&(p=v,m=!0),l=Konva.Path.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],p,c.points[6]);break;case"C":0===p?p=a>c.pathLength?1e-8:a/c.pathLength:a>s?p+=(a-s)/c.pathLength:p-=(s-a)/c.pathLength,p>1&&(p=1,m=!0),l=Konva.Path.getPointOnCubicBezier(p,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);break;case"Q":0===p?p=a/c.pathLength:a>s?p+=(a-s)/c.pathLength:p-=(s-a)/c.pathLength,p>1&&(p=1,m=!0),l=Konva.Path.getPointOnQuadraticBezier(p,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3])}void 0!==l&&(s=Konva.Path.getLineLength(u.x,u.y,l.x,l.y)),m&&(m=!1,c=void 0)}},x=e._getTextSize("C").width+n,v=0;v<s/x&&(m("C"),void 0!==u&&void 0!==l);v++)u=l;for(var S=0;S<h.length&&(m(h[S]),void 0!==u&&void 0!==l);S++){var y=Konva.Path.getLineLength(u.x,u.y,l.x,l.y),b=Konva.Path.getPointOnLine(0+y/2,u.x,u.y,l.x,l.y),C=Math.atan2(l.y-u.y,l.x-u.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:h[S],rotation:C,p0:u,p1:l}),u=l}},getSelfRect:function(){var e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});for(var t,n,r=e[0],i=e[0],o=e[0],a=e[0],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);var u=this.fontSize();return{x:Math.round(r)-u/2,y:Math.round(o)-u/2,width:Math.round(i-r)+u,height:Math.round(a-o)+u}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle","normal"),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant","normal"),Konva.Factory.addGetter(Konva.TextPath,"text",""),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(e){this.___init(e)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t,n,r,i=this.attrs.sides,o=this.attrs.radius;for(e.beginPath(),e.moveTo(0,0-o),t=1;t<i;t++)n=o*Math.sin(2*t*Math.PI/i),r=-1*o*Math.cos(2*t*Math.PI/i),e.lineTo(n,r);e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.radius()!==e/2&&this.setRadius(e/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(e){this.___init(e)},Konva.Star.prototype={_centroid:!0,___init:function(e){Konva.Shape.call(this,e),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:t,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(e){Konva.Node.prototype.setWidth.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)},setHeight:function(e){Konva.Node.prototype.setHeight.call(this,e),this.outerRadius()!==e/2&&this.setOuterRadius(e/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var e=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],t=e.length;Konva.Label=function(e){this.____init(e)},Konva.Label.prototype={____init:function(e){var t=this;Konva.Group.call(this,e),this.className="Label",this.on("add.konva",function(e){t._addListeners(e.child),t._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var r,i=this,o=function(){i._sync()};for(r=0;r<t;r++)n.on(e[r]+"Change.konva",o)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var e,t,n,r,i,o,a,s=this.getText(),u=this.getTag();if(s&&u){switch(e=s.getWidth(),t=s.getHeight(),n=u.getPointerDirection(),r=u.getPointerWidth(),a=u.getPointerHeight(),i=0,o=0,n){case"up":i=e/2,o=-1*a;break;case"right":i=e+r,o=t/2;break;case"down":i=e/2,o=t+a;break;case"left":i=-1*r,o=t/2}u.setAttrs({x:-1*i,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*o})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(e){this.___init(e)},Konva.Tag.prototype={___init:function(e){Konva.Shape.call(this,e),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var t=this.getWidth(),n=this.getHeight(),r=this.getPointerDirection(),i=this.getPointerWidth(),o=this.getPointerHeight(),a=Math.min(this.getCornerRadius(),t/2,n/2);e.beginPath(),e.moveTo(a||0,0),"up"===r&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+i)/2,0)),a?(e.lineTo(t-a,0),e.arc(t-a,a,a,3*Math.PI/2,0,!1)):e.lineTo(t,0),"right"===r&&(e.lineTo(t,(n-o)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+o)/2)),a?(e.lineTo(t,n-a),e.arc(t-a,n-a,a,0,Math.PI/2,!1)):e.lineTo(t,n),"down"===r&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-i)/2,n)),a?(e.lineTo(a,n),e.arc(a,n-a,a,Math.PI/2,Math.PI,!1)):e.lineTo(0,n),"left"===r&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-o)/2)),a&&(e.lineTo(0,a),e.arc(a,a,a,Math.PI,3*Math.PI/2,!1)),e.closePath(),e.fillStrokeShape(this)},getSelfRect:function(){var e=0,t=0,n=this.getPointerWidth(),r=this.getPointerHeight(),i=this.pointerDirection(),o=this.getWidth(),a=this.getHeight();return"up"===i?(t-=r,a+=r):"down"===i?a+=r:"left"===i?(e-=1.5*n,o+=n):"right"===i&&(o+=1.5*n),{x:e,y:t,width:o,height:a}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection","none"),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(e){"use strict";e.Arrow=function(e){this.____init(e)},e.Arrow.prototype={____init:function(t){e.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){e.Line.prototype._sceneFunc.apply(this,arguments);var n=2*Math.PI,r=this.points(),i=r.length,o=r[i-2]-r[i-4],a=r[i-1]-r[i-3],s=(Math.atan2(a,o)+n)%n,u=this.pointerLength(),l=this.pointerWidth();t.save(),t.beginPath(),t.translate(r[i-2],r[i-1]),t.rotate(s),t.moveTo(0,0),t.lineTo(-u,l/2),t.lineTo(-u,-l/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(r[0],r[1]),o=r[2]-r[0],a=r[3]-r[1],t.rotate((Math.atan2(-a,-o)+n)%n),t.moveTo(0,0),t.lineTo(-u,l/2),t.lineTo(-u,-l/2),t.closePath(),t.restore()),t.fillStrokeShape(this)}},e.Util.extend(e.Arrow,e.Line),e.Factory.addGetterSetter(e.Arrow,"pointerLength",10),e.Factory.addGetterSetter(e.Arrow,"pointerWidth",10),e.Factory.addGetterSetter(e.Arrow,"pointerAtBeginning",!1),e.Collection.mapMethods(e.Arrow)}(Konva)}).call(t,n("DuR2"))},"xe4/":function(e,t,n){"use strict";var r={};(0,n("gt5T").assign)(r,n("tmYD"),n("LGU4"),n("0jOE")),e.exports=r},ypnx:function(e,t,n){"use strict";(function(t){e.exports=!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:t}).call(t,n("W2nU"))},yvBL:function(e,t,n){n("hCo4"),e.exports=n("eX64").setImmediate},zgxx:function(e,t,n){"use strict";(function(t){e.exports={isNode:"undefined"!=typeof t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,n("63KW").Buffer)}},[0]);